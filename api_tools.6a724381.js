parcelRequire=function(e,t,n,r){var i="function"==typeof parcelRequire&&parcelRequire,o="function"==typeof require&&require;function s(n,r){if(!t[n]){if(!e[n]){var a="function"==typeof parcelRequire&&parcelRequire;if(!r&&a)return a(n,!0);if(i)return i(n,!0);if(o&&"string"==typeof n)return o(n);var u=new Error("Cannot find module '"+n+"'");throw u.code="MODULE_NOT_FOUND",u}p.resolve=function(t){return e[n][1][t]||t};var c=t[n]=new s.Module(n);e[n][0].call(c.exports,p,c,c.exports,this)}return t[n].exports;function p(e){return s(p.resolve(e))}}s.isParcelRequire=!0,s.Module=function(e){this.id=e,this.bundle=s,this.exports={}},s.modules=e,s.cache=t,s.parent=i,s.register=function(t,n){e[t]=[function(e,t){t.exports=n},{}]};for(var a=0;a<n.length;a++)s(n[a]);if(n.length){var u=s(n[n.length-1]);"object"==typeof exports&&"undefined"!=typeof module?module.exports=u:"function"==typeof define&&define.amd&&define(function(){return u})}return s}({VPTZ:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0});const r=e("../common/error"),i=e("../common/utils"),o=e("../wasm/constant"),s=e("./class_type"),a=e("./compound_type"),u=e("./index");var c;!function(e){e[e.Normal=0]="Normal",e[e.Constructor=1]="Constructor",e[e.Destructor=2]="Destructor",e[e.MemberFunction=3]="MemberFunction"}(c=n.CppFunctionType||(n.CppFunctionType={}));class FunctionType extends u.Type{constructor(e,t,n,r,i){super(),this.name=e,this.returnType=t,this.parameterTypes=n,this.parameterNames=r,this.variableArguments=i,this.cppFunctionType=c.Normal,this.referenceClass=null,this.initList=[];for(let e=0;e<this.parameterTypes.length;e++){const t=this.parameterTypes[e];t instanceof a.ArrayType&&(this.parameterTypes[e]=new a.PointerType(t.elementType))}}get length(){return 0}equals(e){return super.equals(e)&&e instanceof FunctionType&&this.returnType.equals(e.returnType)&&i.isArrayEqual(this.parameterTypes,e.parameterTypes)}toString(){return"[Function]"}toWType(){throw new r.InternalError("could not to Wtype of func")}toMangledName(){return this.parameterTypes.map(e=>e.toMangledName()).join(",")}compatWith(e){return e.equals(this)}isMemberFunction(){return this.cppFunctionType===c.Destructor||this.cppFunctionType===c.MemberFunction}toWASMEncoding(){let e="";return this.returnType instanceof s.ClassType?e+="v":e+=String.fromCharCode(o.getNativeType(this.returnType.toWType())),this.parameterTypes.filter(e=>!(e instanceof s.ClassType)).map(t=>e+=String.fromCharCode(o.getNativeType(t.toWType()))),e}}n.FunctionType=FunctionType;n.UnresolvedFunctionOverloadType=class UnresolvedFunctionOverloadType extends u.Type{constructor(e){super(),this.functionLookupResult=e}equals(e){return!1}compatWith(e){return!1}toString(){return"[UnresolveFunctionOverloadType]"}get length(){return 0}toWType(){throw new r.InternalError("UnresolveFunctionOverloadType()")}toMangledName(){return"[UnresolveFunctionOverloadType]"}}},{"../common/error":"nOPH","../common/utils":"pe9I","../wasm/constant":"hpbE","./class_type":"vaEy","./compound_type":"ZWBU","./index":"Rt13"}],JsMC:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0});const r=e("../common/error"),i=e("../common/symbol"),o=e("../type/class_type"),s=e("../type/compound_type"),a=e("../wasm"),u=e("../wasm/constant"),c=e("../wasm/expression"),p=e("../wasm/node"),l=e("../wasm/statement");n.WAddressHolder=class WAddressHolder extends p.WExpression{constructor(e,t,n){super(n),this.place=e,this.type=t,this.offset=0}createStore(e,t,n,p=!1){let f=null;if(t instanceof s.ArrayType||t instanceof o.ClassType)throw new r.InternalError("could not assign a array or class");{const o=p?u.getNativeType(t.toWType()):t.toWType();switch(this.type){case i.AddressType.LOCAL:if(f=new l.WSetLocal(o,this.place,n,this.location),0!==this.offset)throw new r.InternalError("illegal offset");break;case i.AddressType.MEMORY_DATA:(f=new a.WStore(o,new a.WConst(a.WType.i32,"0",this.location),n,c.WMemoryLocation.DATA,this.location)).offset=this.place+this.offset;break;case i.AddressType.MEMORY_BSS:(f=new a.WStore(o,new a.WConst(a.WType.i32,"0",this.location),n,c.WMemoryLocation.BSS,this.location)).offset=this.place+this.offset;break;case i.AddressType.MEMORY_EXTERN:(f=new a.WStore(o,new a.WConst(a.WType.i32,"0",this.location),n,c.WMemoryLocation.EXTERN,this.location)).offset=this.offset,f.offsetName=this.place;break;case i.AddressType.CONSTANT:throw new r.InternalError("store a constant()");case i.AddressType.STACK:if(null===e.currentFunction)throw new r.InternalError("not in function");(f=new a.WStore(o,new c.WGetLocal(a.WType.i32,e.currentFunction.$sp,this.location),n,c.WMemoryLocation.RAW,this.location)).offset=this.place+this.offset;break;case i.AddressType.GLOBAL:if(f=new l.WSetGlobal(o,this.place,n,this.location),0!==this.offset)throw new r.InternalError("illegal offset");break;case i.AddressType.GLOBAL_SP:(f=new a.WStore(o,new c.WGetGlobal(a.WType.u32,"$sp",this.location),n,c.WMemoryLocation.RAW,this.location)).offset=this.place+this.offset;break;case i.AddressType.RVALUE:f=new a.WStore(o,new a.WBinaryOperation(a.I32Binary.add,this.place,new a.WConst(a.WType.i32,this.offset.toString(),this.location),this.location),n,c.WMemoryLocation.RAW,this.location)}}if(null===f)throw new r.InternalError("createStore()");return f}createLoad(e,t){let n=null;if(t instanceof s.ArrayType||t instanceof o.ClassType)throw new r.InternalError("unsupport");switch(this.type){case i.AddressType.LOCAL:if(n=new c.WGetLocal(t.toWType(),this.place,this.location),0!==this.offset)throw new r.InternalError("illegal offset");break;case i.AddressType.MEMORY_DATA:(n=new a.WLoad(t.toWType(),new a.WConst(a.WType.i32,"0",this.location),c.WMemoryLocation.DATA,this.location)).offset=this.place+this.offset;break;case i.AddressType.MEMORY_BSS:(n=new a.WLoad(t.toWType(),new a.WConst(a.WType.i32,"0",this.location),c.WMemoryLocation.BSS,this.location)).offset=this.place+this.offset;break;case i.AddressType.MEMORY_EXTERN:(n=new a.WLoad(t.toWType(),new a.WConst(a.WType.i32,"0",this.location),c.WMemoryLocation.EXTERN,this.location)).offsetName=this.place,n.offset=this.offset;break;case i.AddressType.CONSTANT:if(n=new a.WConst(a.WType.i32,this.place.toString(),this.location),0!==this.offset)throw new r.InternalError("illegal offset");break;case i.AddressType.STACK:if(null===e.currentFunction)throw new r.InternalError("not in function");(n=new a.WLoad(t.toWType(),new c.WGetLocal(a.WType.i32,e.currentFunction.$sp,this.location),c.WMemoryLocation.RAW,this.location)).offset=this.place+this.offset;break;case i.AddressType.GLOBAL:if(n=new c.WGetGlobal(t.toWType(),this.place,this.location),0!==this.offset)throw new r.InternalError("illegal offset");break;case i.AddressType.GLOBAL_SP:(n=new a.WLoad(t.toWType(),new c.WGetGlobal(a.WType.u32,"$sp",this.location),c.WMemoryLocation.RAW,this.location)).offset=this.place+this.offset;break;case i.AddressType.RVALUE:n=new a.WLoad(t.toWType(),new a.WBinaryOperation(a.I32Binary.add,this.place,new a.WConst(a.WType.i32,this.offset.toString(),this.location),this.location),c.WMemoryLocation.RAW,this.location)}if(null===n)throw new r.InternalError("createLoad()");return n}createLoadAddress(e){let t=null;switch(this.type){case i.AddressType.LOCAL:throw new r.InternalError("could not get address of local variable");case i.AddressType.MEMORY_DATA:(t=new c.WGetAddress(c.WMemoryLocation.DATA,this.location)).offset=this.place+this.offset;break;case i.AddressType.MEMORY_BSS:(t=new c.WGetAddress(c.WMemoryLocation.BSS,this.location)).offset=this.place+this.offset;break;case i.AddressType.MEMORY_EXTERN:(t=new c.WGetAddress(c.WMemoryLocation.EXTERN,this.location)).offset=this.offset,t.offsetName=this.place;break;case i.AddressType.CONSTANT:throw new r.InternalError("store a constant()");case i.AddressType.STACK:if(null===e.currentFunction)throw new r.InternalError("not in function");t=new a.WBinaryOperation(a.I32Binary.add,new c.WGetLocal(a.WType.i32,e.currentFunction.$sp,this.location),new a.WConst(a.WType.i32,(this.place+this.offset).toString()),this.location);break;case i.AddressType.GLOBAL_SP:if(null===e.currentFunction)throw new r.InternalError("not in function");t=new a.WBinaryOperation(a.I32Binary.add,new c.WGetGlobal(a.WType.i32,"$sp",this.location),new a.WConst(a.WType.i32,(this.place+this.offset).toString()),this.location);break;case i.AddressType.RVALUE:t=new a.WBinaryOperation(a.I32Binary.add,this.place,new a.WConst(a.WType.i32,this.offset.toString(),this.location),this.location);break;case i.AddressType.GLOBAL:throw new r.InternalError("could not get address of global variable")}if(null===t)throw new r.InternalError("createStore()");return t}makeOffset(e){if(this.type===i.AddressType.LOCAL)throw new r.InternalError("could not get address of local variable");return this.offset+=e,this}deduceType(e){throw new r.EmitError("WAddressHolder()")}emit(e){throw new r.EmitError("WAddressHolder()")}fold(){return this}length(e){throw new r.EmitError("WAddressHolder()")}isPure(){return!0}dump(e){e.dump("===ADDRESS HOLDER===",this.location)}}},{"../common/error":"nOPH","../common/symbol":"HcQt","../type/class_type":"vaEy","../type/compound_type":"ZWBU","../wasm":"Jo9c","../wasm/constant":"hpbE","../wasm/expression":"yB6U","../wasm/node":"2721","../wasm/statement":"0h1i"}],"y+tL":[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0});const r=e("../common/error"),i=e("../common/symbol");class Scope{constructor(e,t,n){this.shortName=e,null===t?(this.parent=this,this.fullName=""):(this.parent=t,this.fullName=this.parent.fullName+"::"+this.shortName),this.children=[],this.map=new Map,this.isCpp=n,this.isInnerScope=!1}declare(e,t,n){const o=e.split("@")[0],s=this.map.get(o);if(s)if(s[0]instanceof i.FunctionEntity){if(!(t instanceof i.FunctionEntity))throw new r.SyntaxError(`redefine of ${e}`,n);if(!this.isCpp)throw new r.LanguageError("function overload is support only in C++",n);for(let o=0;o<s.length;o++){const a=s[o];if(!(a instanceof i.FunctionEntity))throw new r.SyntaxError(`redefine of ${e}`,n);if(a.fullName===t.fullName){if(a.isDefine()&&!t.isDefine())return;if(a.isDefine()&&t.isDefine())throw new r.SyntaxError(`redefine of ${e}`,n);if(!a.isDefine()&&t.isDefine())return void(s[o]=t);if(!a.isDefine()&&!t.isDefine())return}}s.push(t)}else{if(1!==s.length)throw new r.SyntaxError(`redefine of ${e}`,n);{const i=s[0];if(i.isDefine()&&!t.isDefine())return;if(i.isDefine()&&t.isDefine())throw new r.SyntaxError(`redefine of ${e}`,n);if(!i.isDefine()&&t.isDefine())return void(s[0]=t);if(!i.isDefine()&&!t.isDefine())return}}else this.map.set(o,[t])}getScope(e){if(0===e.length)return this;for(const t of this.children)if(t.shortName===e[0])return t.getScope(e.slice(1));return null}lookup(e){const t=e.split("::").filter(e=>e);if(t.length>1){const e=this.getScope(t.slice(0,t.length-1));return null===e?null:e.lookup(t[t.length-1])}const n=this.map.get(t[0]);return n?n[0]instanceof i.FunctionEntity?new FunctionLookUpResult(n):n[0]:null}}n.Scope=Scope;class FunctionLookUpResult{constructor(e){this.functions=e,this.instance=null,this.instanceType=null}}n.FunctionLookUpResult=FunctionLookUpResult;n.ScopeManager=class ScopeManager{constructor(e){this.isCpp=e,this.root=new Scope("",null,e),this.currentScope=this.root,this.activeScopes=new Set([this.root]),this.scopeId=0,this.tmpVarId=0}enterUnnamedScope(){const e=new Scope("$"+this.scopeId++,this.currentScope,this.isCpp);e.isInnerScope=!0,this.currentScope.children.push(e),this.activeScopes.add(e),this.currentScope=e}enterScope(e){const t=new Scope(e,this.currentScope,this.isCpp);this.currentScope.children.push(t),this.activeScopes.add(t),this.currentScope=t}exitScope(){this.activeScopes.delete(this.currentScope),this.currentScope=this.currentScope.parent}lookupAnyName(e){return"::"===e.slice(0,2)?this.lookupFullName(e):this.lookupShortName(e)}lookupFullName(e){if("::"!==e.slice(0,2))return null;const t=e.split("::"),n=t[t.length-1],r=this.root.getScope(t.slice(1,t.length-1));return null===r?null:r.lookup(n)}lookupShortName(e){const t=Array.from(this.activeScopes.keys()).map(t=>t.lookup(e)).filter(e=>null!==e).reverse();let n=null;const r=new Set;for(const e of t)if(e instanceof FunctionLookUpResult)if(null===n)n=new FunctionLookUpResult([...e.functions]),e.functions.map(e=>r.add(e.fullName));else for(const t of e.functions)r.has(t.fullName)||(r.add(t.fullName),n.functions.push(t));else if(null===n)return e;return n}declareInScope(e,t,n,i){const o=this.innerLookUp(e);if(null!==o){if(!o.getType().equals(t.getType()))throw new r.SyntaxError(`conflict declaration of ${e}`,i)}else n.declare(e,t,i);return n.fullName+"::"+e}defineInScope(e,t,n,i){const o=this.innerLookUp(e);if(null!==o){if(o.isDefine())throw new r.SyntaxError(`redefine of ${e}`,i);if(!o.getType().equals(t.getType()))throw new r.SyntaxError(`conflict declaration of ${e}`,i)}return n.declare(e,t,i),n.fullName+"::"+e}declare(e,t,n){return this.declareInScope(e,t,this.currentScope,n)}define(e,t,n){return this.defineInScope(e,t,this.currentScope,n)}getFullName(e){return"::"===e.slice(0,2)?e:this.currentScope.fullName+"::"+e}isRoot(){return this.currentScope===this.root}allocTmpVarName(){return"$__"+this.tmpVarId++}innerLookUp(e){const t=e.split("@")[0],n=this.lookupFullName(this.currentScope.fullName+"::"+t);let r=null;if(n instanceof FunctionLookUpResult){const t=n.functions.filter(t=>t.fullName===this.currentScope.fullName+"::"+e);t.length>0&&(r=t[0])}else r=n;return r}}},{"../common/error":"nOPH","../common/symbol":"HcQt"}],A7U9:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0});const r=e("../../common/error"),i=e("../../type/compound_type"),o=e("../scope");function s(e,t){return e instanceof i.ReferenceType&&(e=e.elementType),t instanceof i.ReferenceType&&(t=t.elementType),e.equals(t)}function a(e,t){return e instanceof i.ReferenceType&&(e=e.elementType),t instanceof i.ReferenceType&&(t=t.elementType),e.compatWith(t)}function u(e,t,n,r){if(e.type.isMemberFunction()){const o=e.type.parameterTypes[0];return null!==n.instanceType&&o instanceof i.PointerType&&(o.elementType.compatWith(n.instanceType)&&e.type.parameterTypes.slice(1).every((e,n)=>r(e,t[n])))}return e.type.parameterTypes.every((e,n)=>r(e,t[n]))}function c(e,t,n){const i=e.functions.filter(e=>e.type.isMemberFunction()&&e.type.parameterTypes.length===t.length+1||!e.type.isMemberFunction()&&e.type.parameterTypes.length===t.length||e.type.variableArguments);if(0===i.length)throw new r.SyntaxError(`no matching function for ${e.functions[0].name}`,n);const o=i.filter(n=>u(n,t,e,s));if(1===o.length)return o[0];const c=i.filter(n=>u(n,t,e,a));if(1===c.length)return c[0];const p=i.filter(e=>e.type.variableArguments);if(1===p.length)return p[0];if(o.length>1||c.length>1||p.length>1)throw new r.SyntaxError(`call to ${e.functions[0].name} is ambiguous`,n);throw new r.SyntaxError(`no matching function for ${e.functions[0].name}`,n)}n.doStrictTypeMatch=s,n.doWeakTypeMatch=a,n.doFunctionFilter=u,n.doFunctionOverloadResolution=c,n.isFunctionExists=function(e,t,n,r=null){const i=e.scopeManager.lookupFullName(t);if(!(i instanceof o.FunctionLookUpResult))return!1;try{return i.instanceType=r,c(i,n,{}),!0}catch(e){return!1}}},{"../../common/error":"nOPH","../../type/compound_type":"ZWBU","../scope":"y+tL"}],Gzzz:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0});const r=e("../common/error"),i=e("../common/symbol"),o=e("../type/class_type"),s=e("../type/compound_type"),a=e("../type/function_type"),u=e("../type/primitive_type"),c=e("../wasm/constant"),p=e("../wasm/expression"),l=e("./address"),f=e("./cpp/overload"),d=e("./scope");function h(e,t,n,a=!1){if(!t.isLeft&&t.type instanceof s.LeftReferenceType)throw new r.InternalError("LeftReferenceType could not be rvalue");if(t.isLeft){if(t.isLeft=!1,t.expr instanceof d.FunctionLookUpResult)throw new r.SyntaxError("unsupport function name",n);if(!(t.expr instanceof l.WAddressHolder))throw new r.InternalError("if( !(expr.expr instanceof WAddressHolder)) {");if(t.type instanceof o.ClassType&&!a)throw new r.SyntaxError("you should not convert a class to rvalue",n);if(t.type instanceof s.ArrayType){if(a)throw new r.SyntaxError("no reference to array",n);t.type=new s.PointerType(t.type.elementType),t.expr=t.expr.createLoadAddress(e)}else t.type instanceof s.LeftReferenceType?a?t.expr=t.expr.createLoad(e,u.PrimitiveTypes.uint32):(t.type=t.type.elementType,t.expr=new l.WAddressHolder(t.expr.createLoad(e,u.PrimitiveTypes.uint32),i.AddressType.RVALUE,n.location).createLoad(e,t.type)):a?(t.type=new s.LeftReferenceType(t.type),t.expr=t.expr.createLoadAddress(e)):t.expr=t.expr.createLoad(e,t.type)}return t.type instanceof s.ArrayType&&(t.type=new s.PointerType(t.type.elementType)),t}function m(e,t,n,i,l=!1,m=!1){if((n=h(e,n,i,m&&t instanceof s.LeftReferenceType)).expr instanceof d.FunctionLookUpResult){if(t instanceof s.PointerType&&t.elementType instanceof a.FunctionType){const e=f.doFunctionOverloadResolution(n.expr,t.elementType.parameterTypes,i);return new p.WGetFunctionAddress(e.fullName,i.location)}throw new r.SyntaxError("unsupport function name",i)}if(t instanceof s.LeftReferenceType&&n.type instanceof s.LeftReferenceType&&t.equals(n.type))return n.expr;if(t instanceof s.ArrayType&&(t=new s.PointerType(t.elementType)),t instanceof u.ArithmeticType&&n.type instanceof u.ArithmeticType){const e=n.type.toWType(),r=t.toWType(),i=c.getTypeConvertOpe(e,r);return null!==i?new p.WCovertOperation(e,r,n.expr,i,n.expr.location):n.expr}if(t instanceof s.PointerType&&n.type instanceof s.PointerType){const e=t.elementType,r=n.type.elementType;if(e.equals(u.PrimitiveTypes.void)||r.equals(e))return n.expr;if(e instanceof o.ClassType&&r instanceof o.ClassType&&r.isSubClassOf(e))return n.expr}if(t instanceof s.PointerType&&n.type instanceof u.IntegerType&&(n.expr=n.expr.fold(),n.expr instanceof p.WConst&&0===parseInt(n.expr.constant)))return n.expr;if(l){if((t instanceof s.PointerType||t instanceof u.IntegerType)&&(n.type instanceof s.PointerType||n.type instanceof u.IntegerType))return n.expr;if(t instanceof s.PointerType&&n.type instanceof s.PointerType)return n.expr}throw new r.TypeError(`unsupport convert from ${n.type} to ${t}`,i)}n.doTypeTransfrom=function(e){return e instanceof s.ArrayType&&(e=new s.PointerType(e.elementType)),e instanceof s.ReferenceType&&(e=e.elementType),e},n.doReferenceTransform=function(e,t,n){if(t.type instanceof s.LeftReferenceType){if(!(t.isLeft&&t.expr instanceof l.WAddressHolder))throw new r.SyntaxError("reference value is not reference",n);t.type=t.type.elementType,t.expr=new l.WAddressHolder(t.expr.createLoad(e,u.PrimitiveTypes.uint32),i.AddressType.RVALUE,n.location)}return t},n.doValueTransform=h,n.doConversion=m,n.getInStackSize=function(e){return e%4==0?e:e+4-e%4},n.doValuePromote=function(e,t,n){return(t=h(e,t,n,!1)).type instanceof u.IntegerType&&t.type.length<4&&(t.type=u.PrimitiveTypes.int32),t.type instanceof u.FloatType&&(t.expr=m(e,u.PrimitiveTypes.double,t,n),t.type=u.PrimitiveTypes.double),t}},{"../common/error":"nOPH","../common/symbol":"HcQt","../type/class_type":"vaEy","../type/compound_type":"ZWBU","../type/function_type":"VPTZ","../type/primitive_type":"HxYe","../wasm/constant":"hpbE","../wasm/expression":"yB6U","./address":"JsMC","./cpp/overload":"A7U9","./scope":"y+tL"}],"2REp":[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.KeyWords=["and","and_eq","asm","auto","bitand","bitor","bool","break","case","catch","char","char16_t","char32_t","class","compl","concept","const","const_cast","continue","default","delete","do","double","dynamic_cast","else","enum","explicit","export","extern","false","float","for","friend","goto","if","inline","int","long","namespace","new","not","not_eq","operator","or","or_eq","private","protected","public","register","reinterpret_cast","return","short","signed","sizeof","static","static_cast","struct","switch","template","this","throw","true","try","typedef","typeid","typename","union","unsigned","using","virtual","void","volatile","wchar_t","while","xor","xor_eq"]},{}],X3yq:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0});const r=e("../common/ast"),i=e("../common/error"),o=e("../common/symbol"),s=e("../type/primitive_type"),a=e("../wasm"),u=e("../wasm/statement"),c=e("./address"),p=e("./conversion"),l=e("./scope");function f(e,t,n){if(n.expr instanceof l.FunctionLookUpResult)throw new i.SyntaxError("illegal function name",t);n.isLeft&&n.expr.isPure()||(n.type.equals(s.PrimitiveTypes.void)?e.submitStatement(new u.WExprStatement(n.expr.fold(),t.location)):e.submitStatement(new u.WDrop(n.expr.fold(),t.location)))}n.recycleExpressionResult=f,r.CompoundStatement.prototype.codegen=function(e){e.enterScope(),this.body.map(t=>t.codegen(e)),e.exitScope(this)},r.LabeledStatement.prototype.codegen=function(e){this.body.codegen(e)},r.GotoStatement.prototype.codegen=function(e){throw new i.SyntaxError("goto statement is not support currently",this)},r.SwitchStatement.prototype.codegen=function(e){const t=e.switchContext,n=e.getStatementContainer(),f=[];if(e.setStatementContainer(f),e.switchContext={cases:[]},0!==f.length)throw new i.SyntaxError("illegal content in switch out side all case",this);if(!(this.body instanceof r.CompoundStatement))throw new i.SyntaxError("switch body must be compoundstatement",this);const d=this.body.body.filter(e=>e instanceof r.CaseStatement).length;let h=d;e.breakStack.push(e.blockLevel),e.blockLevel+=d,this.body.codegen(e);const m=e.switchContext.cases.filter(e=>null===e.value);if(m.length>1)throw new i.SyntaxError("only 1 default case is support",this);if(1===m.length)for(let t=0;t<e.switchContext.cases.length;t++)if(null===e.switchContext.cases[t].value){h=t;break}const y=e.memory.allocStack(4),g=new c.WAddressHolder(y,o.AddressType.STACK,this.location),A=p.doValueTransform(e,this.discriminant.codegen(e),this);if(!(A.type instanceof s.IntegerType)||A.expr instanceof l.FunctionLookUpResult)throw new i.SyntaxError("illegal switch cond type",this);e.setStatementContainer(n),e.submitStatement(g.createStore(e,A.type,A.expr,!0));let E=new u.WBlock([],this.location);const C=g.createLoad(e,A.type);for(let t=0;t<e.switchContext.cases.length;t++){const n=e.switchContext.cases[t].value;null!==n&&E.body.push(new u.WBrIf(t,new a.WBinaryOperation(a.I32Binary.eq,C,n)))}E.body.push(new u.WBr(h,this.location));for(let t=0;t<e.switchContext.cases.length;t++)E=new u.WBlock([E,...e.switchContext.cases[t].statements],this.location);e.submitStatement(E),e.switchContext=t},r.CaseStatement.prototype.codegen=function(e){if(null===e.switchContext)throw new i.SyntaxError("case out of switch",this);const t={value:null,statements:[]};if(e.switchContext.cases.push(t),null!==this.test){const n=this.test.codegen(e);if(n.expr instanceof l.FunctionLookUpResult)throw new i.SyntaxError("func name not support",this);if(n.expr=n.expr.fold(),!(n.expr instanceof a.WConst&&n.type instanceof s.IntegerType))throw new i.SyntaxError("case value must be integer or enum",this);t.value=n.expr}e.setStatementContainer(t.statements),e.blockLevel--,this.body.codegen(e)},r.ExpressionStatement.prototype.codegen=function(e){f(e,this,this.expression.codegen(e))},r.IfStatement.prototype.codegen=function(e){const t=[],n=[],r=this.test.codegen(e);r.expr=p.doConversion(e,s.PrimitiveTypes.int32,r,this),r.type=s.PrimitiveTypes.int32;const i=e.getStatementContainer();e.setStatementContainer(t),e.blockLevel++,this.consequent.codegen(e),null!==this.alternate&&(e.setStatementContainer(n),this.alternate.codegen(e)),e.setStatementContainer(i),e.blockLevel--,null!==this.alternate?e.submitStatement(new u.WIfElseBlock(r.expr.fold(),t,n,this.location)):e.submitStatement(new u.WIfElseBlock(r.expr.fold(),t,null,this.location))},r.WhileStatement.prototype.codegen=function(e){const t=[],n=[],i=e.getStatementContainer();e.setStatementContainer(n);const o=new r.UnaryExpression(this.location,"!",this.test).codegen(e);o.expr=p.doConversion(e,s.PrimitiveTypes.int32,o,this),o.type=s.PrimitiveTypes.int32,e.submitStatement(new u.WBrIf(1,o.expr.fold(),this.location)),e.continueStack.push(e.blockLevel+2),e.breakStack.push(e.blockLevel+1),e.blockLevel+=2,this.body.codegen(e),e.blockLevel-=2,e.breakStack.pop(),e.continueStack.pop(),e.submitStatement(new u.WBr(0,this.location)),e.setStatementContainer(t),e.submitStatement(new u.WLoop(n,this.location)),e.setStatementContainer(i),e.submitStatement(new u.WBlock(t,this.location))},r.DoWhileStatement.prototype.codegen=function(e){const t=[],n=[],r=e.getStatementContainer();e.setStatementContainer(n),e.continueStack.push(e.blockLevel+2),e.breakStack.push(e.blockLevel+1),e.blockLevel+=2,this.body.codegen(e),e.blockLevel-=2,e.continueStack.pop(),e.breakStack.pop(),e.setStatementContainer(t),e.submitStatement(new u.WBlock(n,this.location));const i=this.test.codegen(e);i.expr=p.doConversion(e,s.PrimitiveTypes.int32,i,this),i.type=s.PrimitiveTypes.int32,e.submitStatement(new u.WBrIf(0,i.expr.fold(),this.location)),e.setStatementContainer(r),e.submitStatement(new u.WLoop(t,this.location))},r.ForStatement.prototype.codegen=function(e){e.enterScope(),null!==this.init&&(this.init instanceof r.Declaration?this.init.codegen(e):f(e,this,this.init.codegen(e)));const t=[],n=[],i=[],o=e.getStatementContainer();if(e.setStatementContainer(n),e.continueStack.push(e.blockLevel+3),e.breakStack.push(e.blockLevel+1),e.blockLevel+=3,this.body instanceof r.CompoundStatement?this.body.body.map(t=>t.codegen(e)):this.body.codegen(e),e.blockLevel+=3,e.continueStack.pop(),e.breakStack.pop(),e.setStatementContainer(i),null!==this.test){const t=new r.UnaryExpression(this.location,"!",this.test).codegen(e);t.expr=p.doConversion(e,s.PrimitiveTypes.int32,t,this),t.type=s.PrimitiveTypes.int32,e.submitStatement(new u.WBrIf(1,t.expr.fold(),this.location))}e.submitStatement(new u.WBlock(n,this.location)),null!==this.update&&f(e,this,this.update.codegen(e)),e.submitStatement(new u.WBr(0,this.location)),e.setStatementContainer(t),e.submitStatement(new u.WLoop(i,this.location)),e.setStatementContainer(o),e.submitStatement(new u.WBlock(t,this.location)),e.exitScope(this)},r.ContinueStatement.prototype.codegen=function(e){if(0===e.continueStack.length)throw new i.SyntaxError("continue is not in while/do-while/for",this);const t=e.continueStack[e.continueStack.length-1];e.submitStatement(new u.WBr(e.blockLevel-t,this.location))},r.BreakStatement.prototype.codegen=function(e){if(0===e.breakStack.length)throw new i.SyntaxError("break is not in while/do-while/for",this);const t=e.breakStack[e.breakStack.length-1];e.submitStatement(new u.WBr(e.blockLevel-t,this.location))},n.statement=function(){return""}},{"../common/ast":"URi4","../common/error":"nOPH","../common/symbol":"HcQt","../type/primitive_type":"HxYe","../wasm":"Jo9c","../wasm/statement":"0h1i","./address":"JsMC","./conversion":"Gzzz","./scope":"y+tL"}],tSbt:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0});const r=e("../common/ast"),i=e("../common/error"),o=e("../common/symbol"),s=e("../common/utils"),a=e("../type"),u=e("../type/class_type"),c=e("../type/compound_type"),p=e("../type/function_type"),l=e("../type/primitive_type"),f=e("../wasm"),d=e("../wasm/node"),h=e("./constant"),m=e("./function"),y=e("./scope"),g=e("./statement");function A(e,t,n){let o=null;const a=t.filter(e=>"string"!=typeof e),u=t.filter(e=>"string"==typeof e);if(0!==a.length){if(1!==a.length)throw new i.SyntaxError("illegal syntax",n);const t=a[0];if(t instanceof r.StructOrUnionSpecifier)o=t.codegen(e);else if(t instanceof r.TypedefName)o=t.codegen(e);else{if(!(t instanceof r.EnumSpecifier))throw new i.InternalError("unsupport type");o=t.codegen(e)}}else{const e=u.filter(s.isTypeSpecifier).sort();o=s.getPrimitiveTypeFromSpecifiers(e)}if(null==o)throw new i.SyntaxError("Illegal Return Type",n);return-1!==u.indexOf("const")&&(o.isConst=!0),-1!==u.indexOf("extern")&&(o.isExtern=!0),-1!==u.indexOf("static")&&(o.isStatic=!0),-1!==u.indexOf("virtual")&&(o.isVirtual=!0),o}function E(e,t,n){if(null===t)return[n,""];if(t instanceof r.IdentifierDeclarator){if(h.KeyWords.includes(t.identifier.name))throw new i.SyntaxError(`variable name could not be '${t.identifier.name}'`,t);return[n,t.identifier.name]}if(null!=t.declarator){const r=C(e,n,t);return E(e,t.declarator,r)}throw new i.SyntaxError("UnsupportNodeType:"+t.constructor.name,t)}function C(e,t,n){if(n instanceof r.FunctionDeclarator||n instanceof r.AbstractFunctionDeclarator){i.assertType(n.parameters,r.ParameterList);const[o,s,a]=n.parameters.codegen(e);return new p.FunctionType("",t,o,s,a)}if(n instanceof r.PointerDeclarator||n instanceof r.AbstractPointerDeclarator){let r=n.pointer,o=t;for(;null!=r;){if(o instanceof c.ReferenceType)throw new i.SyntaxError("there is no pointer/reference of reference",n);if("*"===r.type)o=new c.PointerType(o);else if("&"===r.type){if(!e.isCpp())throw new i.LanguageError("reference is only supported in c++",n);o=new c.LeftReferenceType(o)}else if("&&"===r.type)throw new i.SyntaxError("unsupport right value reference",n);r=r.pointer}return o}if(n instanceof r.ArrayDeclarator||n instanceof r.AbstractArrayDeclarator){if(t instanceof c.ReferenceType)throw new i.SyntaxError("there is no array of reference",n);if(!n.length)return new c.ArrayType(t,0);const r=n.length.codegen(e);if(!(r.expr instanceof d.WExpression))throw new i.SyntaxError("illegal length type",n);if(r.expr=r.expr.fold(),!(r.expr instanceof f.WConst))throw new i.SyntaxError("var length array is not support currently",n);if(!(r.type instanceof l.IntegerType))throw new i.SyntaxError("length of array must be integer",n);return 0!==n.qualifiers.length&&e.raiseWarning("unsupport array qualifier"),new c.ArrayType(t,parseInt(r.expr.constant))}throw new i.SyntaxError("UnsupportDeclaratorType:"+n.constructor.name,n)}function S(e,t,n,o){for(let s=0;s<o.items.length;s++){const a=o.items[s];if(a.initializer instanceof r.Expression)new r.ExpressionStatement(n.location,new r.AssignmentExpression(n.location,"=",new r.SubscriptExpression(n.location,n,r.IntegerConstant.fromNumber(n.location,s)),a.initializer)).codegen(e);else{if(!(t.elementType instanceof c.ArrayType))throw new i.SyntaxError("illegal inner initializer list",n);S(e,t.elementType,new r.SubscriptExpression(n.location,n,r.IntegerConstant.fromNumber(n.location,s)),a.initializer)}}}function w(e,t,n,r){const o=e.scopeManager.lookupFullName(e.scopeManager.getFullName(n));let s="none";if(null!==o)if(o instanceof y.FunctionLookUpResult){if(!(t instanceof p.FunctionType))throw new i.SyntaxError(`conflict declaration of ${n}`,r);if(0!==o.functions.filter(e=>e.type.parameterTypes.length===t.parameterTypes.length).filter(e=>e.type.parameterTypes.every((e,n)=>e.equals(t.parameterTypes[n]))).length)return"pass"}else{if(o instanceof a.Type)throw new i.SyntaxError(`redefine of typename ${n}`,r);if(o.isDefine()&&!t.isExtern)throw new i.SyntaxError(`redefine of variable ${n}`,r);if(o.isDefine()&&t.isExtern)return"pass";if(!o.isDefine()&&t.isExtern)return"pass";s=o}return s}n.parseTypeFromSpecifiers=A,n.parseDeclarator=E,n.mergeTypeWithDeclarator=C,r.TranslationUnit.prototype.codegen=function(e){this.body.map(t=>t.codegen(e))},n.lookupPreviousDeclaration=w,r.Declaration.prototype.codegen=function(e){const t=A(e,this.specifiers,this),n=this.specifiers.includes("typedef");for(const s of this.initDeclarators){const[a,l]=E(e,s.declarator,t);if(a instanceof u.ClassType&&!a.isComplete)throw new i.SyntaxError("cannot instancelize incomplete type",this);if("#"===l.charAt(0))throw new i.SyntaxError("illegal operator name",this);const f=w(e,a,l,this);if("pass"===f)continue;if(n){if("none"!==f)throw new i.SyntaxError(`confliction of typename ${l}`,this);e.scopeManager.declare(l,a,this);continue}if(a instanceof p.FunctionType){a.name=l,m.declareFunction(e,a,this.specifiers.includes("__libcall"),this);continue}let d=o.AddressType.STACK,h=0;if(e.scopeManager.isRoot()||a.isStatic||l.includes("::"))a.isExtern?(d=o.AddressType.MEMORY_EXTERN,h=e.scopeManager.getFullName(l)):null===s.initializer||a instanceof c.ArrayType?(d=o.AddressType.MEMORY_BSS,h=e.memory.allocBss(a.length)):(d=o.AddressType.MEMORY_DATA,h=e.memory.allocData(a.length));else{if(a.isExtern)throw new i.SyntaxError("local variable could not be extern:  "+l,this);d=o.AddressType.STACK,h=e.memory.allocStack(a.length)}if("none"!==f?(f.addressType=d,f.location=h):a.isExtern?e.scopeManager.declare(l,new o.Variable(l,e.scopeManager.getFullName(l),e.fileName,a,d,h),this):e.scopeManager.define(l,new o.Variable(l,e.scopeManager.getFullName(l),e.fileName,a,d,h),this),null!=s.initializer){if(a.isExtern)throw new i.SyntaxError("extern vaiable could not have initializer",this);if(s.initializer instanceof r.InitializerList){if(!(a instanceof c.ArrayType))throw new i.InternalError("InitializerList not support");S(e,a,new r.Identifier(this.location,l),s.initializer)}else if(s.initializer instanceof r.ObjectInitializer){if(!(a instanceof u.ClassType))throw new i.SyntaxError("only class type could apply object initializer",this);const t=a.fullName+"::#"+a.name,n=new r.Identifier(this.location,t),o=new r.UnaryExpression(this.location,"&",new r.Identifier(this.location,l)),c=new r.CallExpression(this.location,n,[o,...s.initializer.argus]);g.recycleExpressionResult(e,this,c.codegen(e))}else{const t=new r.AssignmentExpression(this.location,"=",new r.Identifier(this.location,l),s.initializer);t.isInitExpr=!0,g.recycleExpressionResult(e,this,t.codegen(e))}}else if(a instanceof u.ClassType){const t=a.fullName+"::#"+a.name,n=new r.Identifier(this.location,t),i=new r.UnaryExpression(this.location,"&",new r.Identifier(this.location,l)),o=new r.CallExpression(this.location,n,[i]);g.recycleExpressionResult(e,this,o.codegen(e))}}},n.parseAbstractDeclarator=function e(t,n,r){if(null===n.declarator)return C(t,r,n);{const i=C(t,r,n);return e(t,n.declarator,i)}},r.TypedefName.prototype.codegen=function(e){const t="::"===this.identifier.name.slice(0,2)?e.scopeManager.lookupFullName(this.identifier.name):e.scopeManager.lookupShortName(this.identifier.name);if(t&&t instanceof a.Type)return t;throw new i.SyntaxError(`${this.identifier.name} is not a type`,this)},r.EnumSpecifier.prototype.codegen=function(e){if(null!=this.enumerators){let t=-1,n=0;for(const r of this.enumerators){if(t++,null===r.value)n=t;else{const t=r.value.codegen(e);if(!(t.expr instanceof d.WExpression))throw new i.SyntaxError("illegal enumrator type",this);if(t.expr=t.expr.fold(),!(t.expr instanceof f.WConst&&t.type instanceof l.IntegerType))throw new i.SyntaxError("enum value must be integer",this);n=parseInt(t.expr.constant)}e.scopeManager.declare(r.identifier.name,new o.Variable(r.identifier.name,e.scopeManager.getFullName(r.identifier.name),e.fileName,l.PrimitiveTypes.int32,o.AddressType.CONSTANT,n),this)}}return null!=this.identifier&&e.scopeManager.declare(this.identifier.name,l.PrimitiveTypes.int32,this),l.PrimitiveTypes.int32},n.declaration=function(){}},{"../common/ast":"URi4","../common/error":"nOPH","../common/symbol":"HcQt","../common/utils":"pe9I","../type":"Rt13","../type/class_type":"vaEy","../type/compound_type":"ZWBU","../type/function_type":"VPTZ","../type/primitive_type":"HxYe","../wasm":"Jo9c","../wasm/node":"2721","./constant":"2REp","./function":"XWPX","./scope":"y+tL","./statement":"X3yq"}],XWPX:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0});const r=e("long"),i=e("../common/ast"),o=e("../common/error"),s=e("../common/symbol"),a=e("../type"),u=e("../type/class_type"),c=e("../type/compound_type"),p=e("../type/function_type"),l=e("../type/primitive_type"),f=e("../wasm"),d=e("../wasm/constant"),h=e("../wasm/expression"),m=e("../wasm/node"),y=e("../wasm/section"),g=e("../wasm/statement"),A=e("./address"),E=e("./conversion"),C=e("./cpp/lifecycle"),S=e("./cpp/overload"),w=e("./declaration"),x=e("./scope"),T=e("./statement");function F(e,t,n){if(t instanceof i.FunctionDeclarator&&t.declarator instanceof i.IdentifierDeclarator){o.assertType(t.parameters,i.ParameterList);const[r,s,a]=t.parameters.codegen(e),u=new p.FunctionType(t.declarator.identifier.name,n,r,s,a);return n.isStatic&&(u.isStatic=!0,n.isStatic=!1),u}if(null!=t.declarator){const r=w.mergeTypeWithDeclarator(e,n,t);return F(e,t.declarator,r)}throw new o.SyntaxError("UnsupportNodeType:"+t.constructor.name,t)}function D(e,t,n,r,a){const m=t.name+"@"+t.toMangledName(),y=e.scopeManager.getFullName(m),A=new s.FunctionEntity(m,y,e.fileName,t,!1,!0,r);e.scopeManager.define(m,A,a),e.enterFunction(A);const S=[],w=[];let x=0;for(let t=A.type.parameterTypes.length-1;t>=0;t--){const n=A.type.parameterTypes[t],r=A.type.parameterNames[t];if(!r)throw new o.SyntaxError("unnamed parameter",a);(n instanceof u.ClassType||A.type.variableArguments)&&(e.scopeManager.define(r,new s.Variable(r,e.scopeManager.getFullName(r),e.fileName,n,s.AddressType.STACK,x),a),x+=E.getInStackSize(n.length))}for(let t=0;t<A.type.parameterTypes.length;t++){const n=A.type.parameterTypes[t],r=A.type.parameterNames[t];if(!r)throw new o.SyntaxError("unnamed parameter",a);n instanceof u.ClassType||A.type.variableArguments||(w.push(n.toWType()),e.scopeManager.define(r,new s.Variable(r,e.scopeManager.getFullName(r),e.fileName,n,s.AddressType.LOCAL,e.memory.allocLocal(n.toWType(),!0)),a))}const T=A.type.returnType;T.equals(l.PrimitiveTypes.void)||(T instanceof u.ClassType||T instanceof c.ArrayType?S.push(f.WType.i32):S.push(d.getNativeType(T.toWType())));const F=[],D=e.getStatementContainer();e.setStatementContainer(F),A.$sp=e.memory.allocLocal(f.WType.u32),e.submitStatement(new g.WSetLocal(f.WType.u32,A.$sp,new h.WGetGlobal(f.WType.u32,"$sp",a.location),a.location));const _=new f.WConst(f.WType.i32,"0",a.location);if(e.submitStatement(new g.WSetGlobal(f.WType.u32,"$sp",new f.WBinaryOperation(f.I32Binary.add,new h.WGetLocal(f.WType.u32,A.$sp,a.location),_,a.location),a.location)),t.cppFunctionType===p.CppFunctionType.Constructor){C.getCtorStmts(e,A,a).map(t=>t.codegen(e))}if(n.map(t=>t.codegen(e)),t.cppFunctionType===p.CppFunctionType.Destructor){C.getDtorStmts(e,A,a).map(t=>t.codegen(e))}if(_.constant=e.memory.stackPtr.toString(),!A.type.returnType.equals(l.PrimitiveTypes.void)){let t=F;for(;t.length>0&&t[t.length-1]instanceof f.WBlock||t[t.length-1]instanceof f.WIfElseBlock||t[t.length-1]instanceof f.WLoop;){const e=t[t.length-1];if(e instanceof f.WBlock||e instanceof f.WLoop)t=e.body;else{if(!(e instanceof f.WIfElseBlock))throw new o.SyntaxError(`not all path of function contains return in ${A.fullName}`,a);if(null===e.alternative)throw new o.SyntaxError("not all path of function contains return in "+`${A.fullName}`,a);t=e.alternative}}if(0===t.length||!(t[t.length-1]instanceof f.WReturn))throw new o.SyntaxError(`not all path of function contains return in ${A.fullName}`,a);F.length>0&&F[F.length-1]instanceof f.WIfElseBlock&&new i.ReturnStatement(a.location,i.IntegerConstant.getZero()).codegen(e)}e.exitFunction(),e.setStatementContainer(D),e.submitFunction(new f.WFunction(A.fullName,S,w,e.memory.localTypes,F,a.location))}n.parseFunctionDeclarator=F,n.declareFunction=function(e,t,n,r,i){const o=t.name+"@"+t.toMangledName(),a=e.scopeManager.getFullName(o),p=new s.FunctionEntity(o,a,e.fileName,t,!1,!1,r);if(n){p.isLibCall=!0,p.name=t.name,p.fullName=e.scopeManager.getFullName(t.name);const n=[],r=[];for(let e=p.type.parameterTypes.length-1;e>=0;e--){const t=p.type.parameterTypes[e];t instanceof u.ClassType||t instanceof c.ArrayType||p.type.variableArguments&&e===p.type.parameterTypes.length-1||r.push(t.toWType())}const i=p.type.returnType;i.equals(l.PrimitiveTypes.void)||(i instanceof u.ClassType||i instanceof c.ArrayType?n.push(f.WType.i32):n.push(d.getNativeType(i.toWType()))),e.scopeManager.lookupFullName(p.fullName)||e.imports.push({name:p.fullName,type:new y.WFunctionType(n,r)})}e.scopeManager.declare(t.name,p,i)},n.defineFunction=D,i.ParameterList.prototype.codegen=function(e){const t=this.parameters.map(t=>w.parseDeclarator(e,t.declarator,w.parseTypeFromSpecifiers(e,t.specifiers,this)));return[t.map(e=>e[0]),t.map(e=>e[1]),this.variableArguments]},i.FunctionDefinition.prototype.codegen=function(e){const t=w.parseTypeFromSpecifiers(e,this.specifiers,this);if(null==t)throw new o.SyntaxError("illegal return type",this);const n=F(e,this.declarator,t);if(null==n)throw new o.SyntaxError("illegal function definition",this);D(e,n,this.body.body,a.AccessControl.Public,this)},i.CallExpression.prototype.codegen=function(e){const t=this.callee.codegen(e);let n;t.type instanceof c.PointerType&&(t.type=t.type.elementType);let a=null;const d=t.expr,y=[];if(d instanceof x.FunctionLookUpResult){if(!(d instanceof x.FunctionLookUpResult))throw new o.SyntaxError(`you can just call a function, not a ${t.type.toString()}`,this);let r=d.functions[0];if(e.isCpp()&&(r=S.doFunctionOverloadResolution(d,this.arguments.map(t=>E.doTypeTransfrom(t.deduceType(e))),this)),null===r)throw new o.SyntaxError(`no matching function for ${d.functions[0].name}`,this);if(a=r,(n=r.type).isMemberFunction()){if(null===d.instance||null===d.instanceType)throw new o.SyntaxError("call a member function must bind a object",this);y.push({expr:d.instance.createLoadAddress(e),type:new c.PointerType(d.instanceType),isLeft:!1})}}else{if(!(t.type instanceof p.FunctionType))throw new o.SyntaxError(`you can just call a function, not a ${t.type.toString()}`,this);n=t.type}const C=[...y,...this.arguments.map(t=>t.codegen(e))];if(n.parameterTypes.length>C.length)throw new o.SyntaxError("function call parameters number mismatch",this);const w=[];let T=0;if(n.variableArguments)for(let t=C.length-1;t>n.parameterTypes.length-1;t--){const n=C[t];if(n.type instanceof u.ClassType)throw new o.SyntaxError("class type could not be variable arguments",this);const r=E.doValuePromote(e,n,this);if(T-=E.getInStackSize(r.type.length),r.expr instanceof x.FunctionLookUpResult)throw new o.SyntaxError("unsupport function name",this);w.push(new h.WFakeExpression(new A.WAddressHolder(T,s.AddressType.GLOBAL_SP,this.location).createStore(e,r.type,r.expr,!0),this.location))}else if(n.parameterTypes.length<this.arguments.length)throw new o.SyntaxError("function call parameters number mismatch",this);for(let t=n.parameterTypes.length-1;t>=0;t--){let a=n.parameterTypes[t];a instanceof c.ArrayType&&(a=new c.PointerType(a.elementType));const p=C[t];if(a instanceof u.ClassType){const t=p.type,n=new c.PointerType(a);T-=E.getInStackSize(a.length);const u=new i.AnonymousExpression(this.location,{type:n,isLeft:!1,expr:new A.WAddressHolder(T,s.AddressType.GLOBAL_SP,this.location).createLoadAddress(e)}),l=new i.AnonymousExpression(this.location,p),f=a.fullName+"::#"+a.name;let d;if(S.isFunctionExists(e,f,[n,t],null))d=new i.CallExpression(this.location,new i.Identifier(this.location,f),[u,l]).codegen(e);else{const t=a.length;d=new i.CallExpression(this.location,new i.Identifier(this.location,"::memcpy"),[new i.UnaryExpression(this.location,"&",u),new i.UnaryExpression(this.location,"&",l),new i.IntegerConstant(this.location,10,r.fromInt(t),t.toString(),null)]).codegen(e)}if(!(d.expr instanceof m.WExpression))throw new o.SyntaxError("illegal arguments",this);w.push(d.expr)}else{const t=E.doConversion(e,a,p,this,!1,!0).fold();n.variableArguments?(T-=E.getInStackSize(a.length),w.push(new h.WFakeExpression(new A.WAddressHolder(T,s.AddressType.GLOBAL_SP,this.location).createStore(e,p.type,t,!0),this.location))):w.push(t)}}w.reverse();const F=[];let D;return 0!==T&&(w.push(new h.WFakeExpression(new g.WSetGlobal(f.WType.u32,"$sp",new f.WBinaryOperation(f.I32Binary.add,new h.WGetGlobal(f.WType.u32,"$sp",this.location),new f.WConst(f.WType.i32,T.toString()),this.location)),this.location)),F.push(new h.WFakeExpression(new g.WSetGlobal(f.WType.u32,"$sp",new f.WBinaryOperation(f.I32Binary.sub,new h.WGetGlobal(f.WType.u32,"$sp",this.location),new f.WConst(f.WType.i32,T.toString()),this.location)),this.location))),null===a?(t.type=l.PrimitiveTypes.int32,e.requiredWASMFuncTypes.add(n.toWASMEncoding()),D=new h.WCallIndirect(E.doConversion(e,l.PrimitiveTypes.int32,t,this),n.toWASMEncoding(),w,F,this.location)):D=new f.WCall(a.fullName,w,F,this.location),n.returnType instanceof u.ClassType?{type:n.returnType,expr:new A.WAddressHolder(D,s.AddressType.RVALUE,this.location),isLeft:!0}:{type:n.returnType,expr:D,isLeft:!1}},i.ReturnStatement.prototype.codegen=function(e){if(null===e.currentFunction)throw new o.SyntaxError("return outside function",this);if(e.triggerDtorsInner(this),e.submitStatement(new g.WSetGlobal(f.WType.u32,"$sp",new h.WGetLocal(f.WType.u32,e.currentFunction.$sp,this.location),this.location)),null!==this.argument){const t=e.currentFunction.type.returnType;if(t.equals(l.PrimitiveTypes.void))throw new o.SyntaxError("return type mismatch",this);const n=this.argument.codegen(e);if(t instanceof u.ClassType||t instanceof c.ReferenceType){if(!(n.isLeft&&n.expr instanceof A.WAddressHolder))throw new o.SyntaxError("return a rvalue of reference",this);e.submitStatement(new f.WReturn(n.expr.createLoadAddress(e),this.location))}else n.expr=E.doConversion(e,e.currentFunction.type.returnType,n,this),e.submitStatement(new f.WReturn(n.expr.fold(),this.location))}else{if(!e.currentFunction.type.returnType.equals(l.PrimitiveTypes.void))throw new o.SyntaxError("return type mismatch",this);e.submitStatement(new f.WReturn(null,this.location))}},i.ConstructorCallExpression.prototype.codegen=function(e){const t=this.deduceType(e);if(!(t instanceof u.ClassType))throw new o.SyntaxError("constructor call must be class type",this);const n=t.fullName+"::#"+t.name,r=new i.Identifier(this.location,n),a=e.scopeManager.allocTmpVarName(),c=new s.Variable(a,a,this.location.fileName,t,s.AddressType.STACK,e.memory.allocStack(t.length));e.scopeManager.define(a,c,this);const p=new i.Identifier(this.location,a),l=new i.UnaryExpression(this.location,"&",p);return T.recycleExpressionResult(e,this,new i.CallExpression(this.location,r,[l,...this.arguments]).codegen(e)),p.codegen(e)},n.functions=function(){return""}},{long:"YvD4","../common/ast":"URi4","../common/error":"nOPH","../common/symbol":"HcQt","../type":"Rt13","../type/class_type":"vaEy","../type/compound_type":"ZWBU","../type/function_type":"VPTZ","../type/primitive_type":"HxYe","../wasm":"Jo9c","../wasm/constant":"hpbE","../wasm/expression":"yB6U","../wasm/node":"2721","../wasm/section":"1WA9","../wasm/statement":"0h1i","./address":"JsMC","./conversion":"Gzzz","./cpp/lifecycle":"vue3","./cpp/overload":"A7U9","./declaration":"tSbt","./scope":"y+tL","./statement":"X3yq"}],vue3:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0});const r=e("../../common/ast"),i=e("../../common/error"),o=e("../../common/error"),s=e("../../type"),a=e("../../type/class_type"),u=e("../../type/compound_type"),c=e("../../type/function_type"),p=e("../../type/primitive_type"),l=e("../function"),f=e("../scope"),d=e("../statement"),h=e("./overload");function m(e,t,n){if("::"===n.slice(0,2))return e===n;const r=t.split("::");return r.slice(0,r.length-1).join("::")+"::"+n===e}n.getCtorStmts=function(e,t,n){if(t.type.cppFunctionType!==c.CppFunctionType.Constructor||null===t.type.referenceClass)throw new o.InternalError("getCtorStmts()");const s=t.type.referenceClass,p=t.type.initList,l=new Map,d=[];for(const t of p)if(t.key instanceof r.Identifier){const e=t.key.name;if(1!==t.value.length)throw new i.SyntaxError("the number of argument to init "+e+` is incorrect, exepct 1, actual ${t.value.length}`,n);if(null===s.getField(e))throw new i.SyntaxError(`unknown field ${e} in class ${s.name}`,n);l.set(e,t.value[0])}else{let o=!1;for(let a=0;a<s.inheritance.length;a++)if(m(s.inheritance[a].classType.fullName,s.fullName,t.key.identifier.name)){const u=s.inheritance[a].classType,c=u.fullName+"::#"+u.name,p=e.scopeManager.lookupFullName(c);if(null===p||!(p instanceof f.FunctionLookUpResult))throw new i.SyntaxError(`the base class ${t.key.identifier.name}`+" construtor parameters mismatch",n);d[a]=new r.ExpressionStatement(n.location,new r.CallExpression(n.location,new r.Identifier(n.location,c),[new r.Identifier(n.location,"this"),...t.value])),o=!0}if(!o)throw new i.SyntaxError(`class ${t.key.identifier.name}`+` is not base class of ${s.name}`,n)}for(let t=0;t<s.inheritance.length;t++)if(!d[t]){const o=s.inheritance[t].classType,a=o.fullName+"::#"+o.name,u=e.scopeManager.lookupFullName(a);if(null===u||!(u instanceof f.FunctionLookUpResult))throw new i.SyntaxError(`the base class ${o.name}`+" contains not constructor",n);d[t]=new r.ExpressionStatement(n.location,new r.CallExpression(n.location,new r.Identifier(n.location,a),[new r.Identifier(n.location,"this")]))}const y=[...d];for(const t of s.fields){const o=new r.MemberExpression(n.location,new r.Identifier(n.location,"this"),!0,new r.Identifier(n.location,t.name));if(void 0!==l.get(t.name))y.push(new r.ExpressionStatement(n.location,new r.AssignmentExpression(n.location,"=",o,l.get(t.name))));else if(null!==t.initializer)if(t.initializer instanceof r.ObjectInitializer){if(!(t.type instanceof a.ClassType))throw new i.SyntaxError("only class type could apply object initializer",n);const e=t.type.fullName+"::#"+t.type.name,s=new r.Identifier(n.location,e),u=new r.UnaryExpression(n.location,"&",o),c=new r.CallExpression(n.location,s,[u,...t.initializer.argus]);y.push(new r.ExpressionStatement(n.location,c))}else y.push(new r.ExpressionStatement(n.location,new r.AssignmentExpression(n.location,"=",o,t.initializer)));else if(t.type instanceof a.ClassType){const t=s.fullName+"#"+s.name;h.isFunctionExists(e,t,[new u.PointerType(s)])&&y.push(new r.ExpressionStatement(n.location,new r.CallExpression(n.location,new r.Identifier(n.location,t),[new r.UnaryExpression(n.location,"&",o)])))}}return y},n.getDtorStmts=function(e,t,n){if(t.type.cppFunctionType!==c.CppFunctionType.Destructor||null===t.type.referenceClass)throw new o.InternalError("getDtorStmts()");const i=[],s=t.type.referenceClass;for(const t of s.fields){const o=new r.MemberExpression(n.location,new r.Identifier(n.location,"this"),!0,new r.Identifier(n.location,t.name));if(t.type instanceof a.ClassType){const t=s.fullName+"~"+s.name;h.isFunctionExists(e,t,[],s)&&i.push(new r.ExpressionStatement(n.location,new r.CallExpression(n.location,new r.Identifier(n.location,t),[new r.UnaryExpression(n.location,"&",o)])))}}for(const t of s.inheritance){const o=t.classType.fullName+"::~"+t.classType.name;null!==e.scopeManager.lookupFullName(o)&&i.push(new r.ExpressionStatement(n.location,new r.CallExpression(n.location,new r.MemberExpression(n.location,new r.Identifier(n.location,"this"),!0,new r.Identifier(n.location,"~"+t.classType.name)),[])))}return i},n.triggerDestructor=function(e,t,n){const i=t.type;if(!(i instanceof a.ClassType))throw new o.InternalError("triggerDestructor()");const s=i.fullName+"::~"+i.name;null!==e.scopeManager.lookupFullName(s)&&d.recycleExpressionResult(e,n,new r.CallExpression(n.location,new r.MemberExpression(n.location,new r.Identifier(n.location,t.name),!1,new r.Identifier(n.location,"~"+i.name)),[]).codegen(e))},n.generateDefaultCtors=function(e,t,n){if(null===e.scopeManager.lookupFullName(t.fullName+"::#"+t.name)){const o=[];for(const s of t.inheritance){const t=s.classType.fullName+"::#"+s.classType.name;if(null===e.scopeManager.lookupFullName(t))throw new i.SyntaxError(`the parent class ${s.classType.toString()} contains no default ctor`,n);o.push(new r.ExpressionStatement(n.location,new r.CallExpression(n.location,new r.Identifier(n.location,t),[new r.Identifier(n.location,"this")])))}const a="#"+t.name,f=new c.FunctionType(a,p.PrimitiveTypes.void,[new u.PointerType(t)],["this"],!1);f.cppFunctionType=c.CppFunctionType.Constructor,f.referenceClass=t,f.name=a,l.defineFunction(e,f,o,s.AccessControl.Public,n)}if(null===e.scopeManager.lookupFullName(t.fullName+"::~"+t.name)){const i=[];for(const o of t.inheritance){const t=o.classType.fullName+"::~"+o.classType.name;null!==e.scopeManager.lookupFullName(t)&&i.push(new r.ExpressionStatement(n.location,new r.CallExpression(n.location,new r.MemberExpression(n.location,new r.Identifier(n.location,"this"),!0,new r.Identifier(n.location,"~"+o.classType.name)),[])))}const o="~"+t.name,a=new c.FunctionType(o,p.PrimitiveTypes.void,[new u.PointerType(t)],["this"],!1);a.cppFunctionType=c.CppFunctionType.Destructor,a.referenceClass=t,a.name=o,l.defineFunction(e,a,i,s.AccessControl.Public,n)}}},{"../../common/ast":"URi4","../../common/error":"nOPH","../../type":"Rt13","../../type/class_type":"vaEy","../../type/compound_type":"ZWBU","../../type/function_type":"VPTZ","../../type/primitive_type":"HxYe","../function":"XWPX","../scope":"y+tL","../statement":"X3yq","./overload":"A7U9"}],jSeS:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0});const r=e("../common/ast"),i=e("../common/error"),o=e("../common/symbol"),s=e("../type"),a=e("../type/class_type"),u=e("../type/compound_type"),c=e("../type/function_type"),p=e("../type/primitive_type"),l=e("./address"),f=e("./conversion"),d=e("./cpp/lifecycle"),h=e("./declaration"),m=e("./function"),y=e("./scope");function g(e,t,n,s){const a=h.parseTypeFromSpecifiers(e,t.specifiers,s);for(const u of t.initDeclarators){if(null===u.declarator)throw new i.InternalError("unsupport bit field");{const[p,l]=h.parseDeclarator(e,u.declarator,a),f=h.lookupPreviousDeclaration(e,p,l,s);if("pass"===f)throw new i.SyntaxError(`redeclartion of field ${l}`,s);if("none"!==f)throw new i.SyntaxError(`redefinition of field ${l}`,s);if(p instanceof c.FunctionType){if(p.name=l,!e.isCpp())throw new i.LanguageError("function field is only support in c++",s);p.isStatic?m.declareFunction(e,p,t.specifiers.includes("__libcall"),n.accessControl,s):(p.parameterTypes=[n.classPtrType,...p.parameterTypes],p.parameterNames=["this",...p.parameterNames],p.cppFunctionType=c.CppFunctionType.MemberFunction,p.referenceClass=n.classType,m.declareFunction(e,p,t.specifiers.includes("__libcall"),n.accessControl,s));continue}if("#"===l.charAt(0))throw new i.SyntaxError("illegal operator overload",s);if(p.isStatic){if(!e.isCpp())throw new i.LanguageError("static field is only support in c++",s);if(null!==u.initializer)throw new i.LanguageError("static field could only be initialize outside class definition",s);e.scopeManager.declare(l,new o.Variable(l,e.scopeManager.getFullName(l),e.fileName,p,o.AddressType.MEMORY_EXTERN,e.scopeManager.getFullName(l)),s)}else{let t=null;if(null!==u.initializer){if(!e.isCpp())throw new i.LanguageError("field init is only support in c++",s);if(u.initializer instanceof r.InitializerList)throw new i.SyntaxError("unsupport initial list",s);t=u.initializer}n.fields.push({name:l,type:p,startOffset:n.curOffset,initializer:t,accessControl:n.accessControl}),n.union||(n.curOffset+=p.length)}}}}r.StructOrUnionSpecifier.prototype.codegen=function(e){let t=this.identifier.name;e.isCpp()||(t="$"+t);const n=e.scopeManager.lookupShortName(t);if(null!==n){if(null===this.declarations){if(n instanceof a.ClassType)return n;throw new i.SyntaxError(`conflict type of ${t}`,this)}throw new i.SyntaxError(`redefine of ${t}`,this)}const o=[];for(const t of this.inherits){const n=s.getAccessControlFromString(t.accessControl),r=e.scopeManager.lookupAnyName(t.className.identifier.name);if(!(r instanceof a.ClassType))throw new i.SyntaxError(`you could not inherit type ${r}, which is not a class type`,this);if(!r.isComplete)throw new i.SyntaxError(`you could not inherit type ${r}, which is incomplete`,this);o.push({classType:r,accessControl:n})}const l=new a.ClassType(t,e.scopeManager.getFullName(t),e.fileName,[],"union"===this.typeName,o);if(null===this.declarations)return l.isComplete=!1,e.scopeManager.declare(t,l,this),l;e.scopeManager.define(t,l,this),e.scopeManager.enterScope(t);const f={classType:l,classPtrType:new u.PointerType(l),union:"union"===this.typeName,fields:l.fields,curOffset:l.objectSize,accessControl:"struct"===this.typeName?s.AccessControl.Public:s.AccessControl.Private};l.isComplete=!1;const y=[];for(const n of this.declarations)if(n instanceof r.Declaration)g(e,n,f,this);else if(n instanceof r.ConstructorOrDestructorDeclaration){if(n.name.identifier.name!==t)throw new i.SyntaxError(`invaild ctor/dtor name ${n.name.identifier.name}`,this);let r;if(n.isCtor){const i=[new u.PointerType(l)],o=["this"];if(null!==n.param){const[t,r]=n.param.codegen(e);i.push(...t),o.push(...r)}(r=new c.FunctionType("#"+t,p.PrimitiveTypes.void,i,o,!1)).cppFunctionType=c.CppFunctionType.Constructor,r.referenceClass=l,r.initList=n.initList}else(r=new c.FunctionType("~"+t,p.PrimitiveTypes.void,[new u.PointerType(l)],["this"],!1)).cppFunctionType=c.CppFunctionType.Destructor,r.referenceClass=l;null!==n.body?y.push([n.body,r]):m.declareFunction(e,r,!1,f.accessControl,this)}else if(n instanceof r.FunctionDefinition){if(!e.isCpp())throw new i.LanguageError("function field is only support in c++",this);const t=h.parseTypeFromSpecifiers(e,n.specifiers,this);if(null==t)throw new i.SyntaxError("illegal return type",this);const r=m.parseFunctionDeclarator(e,n.declarator,t);if(null==r)throw new i.SyntaxError("illegal function definition",this);r.isStatic?m.declareFunction(e,r,n.specifiers.includes("__libcall"),f.accessControl,this):(r.parameterTypes=[f.classPtrType,...r.parameterTypes],r.parameterNames=["this",...r.parameterNames],r.cppFunctionType=c.CppFunctionType.MemberFunction,r.referenceClass=l,m.declareFunction(e,r,n.specifiers.includes("__libcall"),f.accessControl,this)),y.push([n.body,r])}else{if(!(n instanceof r.AccessControlLabel))throw new i.InternalError("StructOrUnionSpecifier()");f.accessControl=s.getAccessControlFromString(n.label)}l.initialize(),l.isComplete=!0;for(const t of y){const[n,r]=t;m.defineFunction(e,r,n.body,s.AccessControl.Public,this)}return d.generateDefaultCtors(e,l,this),e.scopeManager.exitScope(),l},r.MemberExpression.prototype.codegen=function(e){let t=this.pointed?new r.UnaryExpression(this.location,"*",this.object).codegen(e):this.object.codegen(e);if(!((t=f.doReferenceTransform(e,t,this)).isLeft&&t.expr instanceof l.WAddressHolder))throw new i.InternalError("unsupport rvalue of member expression");if(!(t.type instanceof a.ClassType))throw new i.SyntaxError("only struct/class could be get member",this);const n=t.type.getMember(e,this.member.name);if(null===n)throw new i.SyntaxError(`name ${this.member.name} is not on class ${t.type.name}`,this);return n instanceof o.Variable?{type:n.type,expr:new l.WAddressHolder(n.location,n.addressType,this.location),isLeft:!0}:n instanceof y.FunctionLookUpResult?(n.instance=t.expr,n.instanceType=t.type,{type:p.PrimitiveTypes.void,expr:n,isLeft:!1}):{isLeft:!0,type:n.type,expr:t.expr.makeOffset(n.startOffset)}},n.classes=function(){return""}},{"../common/ast":"URi4","../common/error":"nOPH","../common/symbol":"HcQt","../type":"Rt13","../type/class_type":"vaEy","../type/compound_type":"ZWBU","../type/function_type":"VPTZ","../type/primitive_type":"HxYe","./address":"JsMC","./conversion":"Gzzz","./cpp/lifecycle":"vue3","./declaration":"tSbt","./function":"XWPX","./scope":"y+tL"}],"+pen":[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0});const r=e("../../common/error"),i=e("../../type/compound_type"),o=e("../../type/primitive_type"),s=e("../address"),a=e("../scope");n.doReferenceBinding=function(e,t,n,u){if(t.expr instanceof a.FunctionLookUpResult||n.expr instanceof a.FunctionLookUpResult)throw new r.InternalError("unsupport function name");if(!(t.type instanceof i.LeftReferenceType))throw new r.InternalError("you could only bind to a reference");if(!n.type.equals(t.type.elementType))throw new r.InternalError("reference type mismatch");if(!(n.isLeft&&n.expr instanceof s.WAddressHolder))throw new r.InternalError("you could only bind to a left value");if(!(t.isLeft&&t.expr instanceof s.WAddressHolder))throw new r.InternalError("the reference is not a left value");e.submitStatement(t.expr.createStore(e,o.PrimitiveTypes.uint32,n.expr.createLoadAddress(e)))}},{"../../common/error":"nOPH","../../type/compound_type":"ZWBU","../../type/primitive_type":"HxYe","../address":"JsMC","../scope":"y+tL"}],QUFU:[function(e,t,n){"use strict";var r=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t};Object.defineProperty(n,"__esModule",{value:!0});const i=r(e("long")),o=e("../common/ast"),s=e("../common/error"),a=e("../common/symbol"),u=e("../type"),c=e("../type/class_type"),p=e("../type/compound_type"),l=e("../type/primitive_type"),f=e("../wasm"),d=e("../wasm/constant"),h=e("../wasm/expression"),m=e("./address"),y=e("./conversion"),g=e("./cpp/overload"),A=e("./cpp/reference"),E=e("./scope"),C=e("./statement");function S(e,t,n,r,o,a){if(t instanceof l.UnsignedCharType)e.memory.data.setUint8(r,parseInt(o));else if(t instanceof l.CharType)e.memory.data.setInt8(r,parseInt(o));else if(t instanceof l.UnsignedInt16Type)e.memory.data.setUint16(r,parseInt(o),!0);else if(t instanceof l.UnsignedInt32Type)e.memory.data.setUint32(r,parseInt(o),!0);else if(t instanceof l.UnsignedInt64Type)e.memory.data.setUint32(r,i.fromString(o).low,!0),e.memory.data.setUint32(r+4,i.fromString(o).low,!0);else if(t instanceof l.Int16Type)e.memory.data.setInt16(r,parseInt(o),!0);else if(t instanceof l.Int32Type)e.memory.data.setInt32(r,parseInt(o),!0);else if(t instanceof l.Int64Type)e.memory.data.setInt32(r,i.fromString(o).low),e.memory.data.setInt32(r+4,i.fromString(o).high,!0);else if(t instanceof l.FloatType)e.memory.data.setFloat32(r,parseFloat(o),!0);else{if(!(t instanceof l.DoubleType))throw new s.InternalError("unsupport type assignment");e.memory.data.setFloat64(r,parseFloat(o),!0)}}o.ParenthesisExpression.prototype.codegen=function(e){return this.expression.codegen(e)},o.AssignmentExpression.prototype.codegen=function(e){if("="!==this.operator){const e=this.operator.split("=")[0];this.operator="=",this.right=new o.BinaryExpression(this.location,e,this.left,this.right)}const t=this.left.deduceType(e),n=this.right.deduceType(e);if(t instanceof c.ClassType){const r=t.fullName+"::#=";if(g.isFunctionExists(e,r,[n],t))return new o.CallExpression(this.location,new o.MemberExpression(this.location,this.left,!1,new o.Identifier(this.location,"#=")),[this.right]).codegen(e);{const n=t.length;return new o.CallExpression(this.location,new o.Identifier(this.location,"::memcpy"),[new o.UnaryExpression(this.location,"&",this.left),new o.UnaryExpression(this.location,"&",this.right),new o.IntegerConstant(this.location,10,i.fromInt(n),n.toString(),null)]).codegen(e)}}let r=this.left.codegen(e);const u=this.right.codegen(e);if(this.isInitExpr&&r.type instanceof p.LeftReferenceType)return A.doReferenceBinding(e,r,u,this),r;if(!((r=y.doReferenceTransform(e,r,this)).isLeft&&r.expr instanceof m.WAddressHolder))throw new s.SyntaxError("could not assign to a right value",this);if(r.type instanceof p.ArrayType)throw new s.SyntaxError("unsupport array assignment",this);if(this.isInitExpr&&this.left instanceof o.Identifier&&r.expr.type===a.AddressType.MEMORY_DATA){if(u.expr instanceof h.WConst&&(u.type instanceof l.IntegerType||u.type instanceof l.FloatingType))return S(e,r.type,u.type,r.expr.place,u.expr.constant,this),r;if(u.expr instanceof h.WGetAddress&&u.expr.form===h.WMemoryLocation.DATA&&u.type.equals(l.PrimitiveTypes.__ccharptr)){if(!r.type.equals(l.PrimitiveTypes.__charptr)&&!r.type.equals(l.PrimitiveTypes.__ccharptr))throw new s.SyntaxError(`unsupport init from ${r.type} to ${u.type}`,this);return e.memory.data.setUint32(r.expr.place,u.expr.offset,!0),r}}if(!this.isInitExpr&&r.type.isConst)throw new s.SyntaxError("could not assign to const variable",this);return e.submitStatement(r.expr.createStore(e,r.type,y.doConversion(e,r.type,u,this).fold())),r},o.IntegerConstant.prototype.codegen=function(e){let t=l.PrimitiveTypes.int32;return this.suffix&&(t=-1!==this.suffix.toUpperCase().indexOf("U")?-1!==this.suffix.toUpperCase().indexOf("LL")?l.PrimitiveTypes.uint64:l.PrimitiveTypes.uint32:-1!==this.suffix.toUpperCase().indexOf("LL")?l.PrimitiveTypes.int64:l.PrimitiveTypes.int32),{type:t,expr:new h.WConst(t.toWType(),this.raw,this.location),isLeft:!1}},o.FloatingConstant.prototype.codegen=function(e){let t=l.PrimitiveTypes.double;return this.suffix&&"f"===this.suffix.toUpperCase()&&(t=l.PrimitiveTypes.float),{type:t,expr:new h.WConst(t.toWType(),this.raw,this.location),isLeft:!1}},o.StringLiteral.prototype.codegen=function(e){const t=new h.WGetAddress(h.WMemoryLocation.DATA,this.location);return t.offset=e.memory.allocString(this.value),{type:l.PrimitiveTypes.__ccharptr,expr:t,isLeft:!1}},o.CharacterConstant.prototype.codegen=function(e){return{type:l.PrimitiveTypes.char,expr:new h.WConst(f.WType.i32,this.value.charCodeAt(0).toString(),this.location),isLeft:!1}},o.Identifier.prototype.codegen=function(e){if("#"===this.name.charAt(0))throw new s.SyntaxError("illegal operator overload",this);const t=e.scopeManager.lookupAnyName(this.name);if(null===t){if(null===e.scopeManager.lookupShortName("this"))throw new s.SyntaxError(`Unresolve Name ${this.name}`,this);try{return new o.MemberExpression(this.location,new o.Identifier(this.location,"this"),!0,this).codegen(e)}catch(e){throw new s.SyntaxError(`Unresolve Name ${this.name}`,this)}}if(t instanceof u.Type)throw new s.SyntaxError(`${this.name} expect to be variable, but it is a type :)`,this);return t instanceof E.FunctionLookUpResult?{type:l.PrimitiveTypes.void,expr:t,isLeft:!1}:{type:t.type,expr:new m.WAddressHolder(t.location,t.addressType,this.location),isLeft:!0}},o.BinaryExpression.prototype.codegen=function(e){if(","===this.operator)return C.recycleExpressionResult(e,this,this.left.codegen(e)),this.right.codegen(e);const t=this.left.deduceType(e),n=this.right.deduceType(e);if(t instanceof c.ClassType)return new o.CallExpression(this.location,new o.MemberExpression(this.location,this.left,!1,new o.Identifier(this.location,"#"+this.operator)),[this.right]).codegen(e);if(n instanceof c.ClassType)throw new s.SyntaxError("current not support right overload",this);let r=this.left.codegen(e),i=this.right.codegen(e);const a=this.deduceType(e),u=d.getOpFromStr(this.operator,a.toWType());if(null===u)throw new s.InternalError(`unsupport op ${this.operator}`);if(a instanceof p.PointerType)if(r.type instanceof l.IntegerType){if((r=y.doValueTransform(e,r,this)).expr instanceof E.FunctionLookUpResult)throw new s.InternalError("unsupport func name");r={type:a,isLeft:!1,expr:new h.WBinaryOperation(f.I32Binary.mul,r.expr,new h.WConst(f.WType.u32,a.elementType.length.toString(),this.location))}}else if(i.type instanceof l.IntegerType){if((i=y.doValueTransform(e,i,this)).expr instanceof E.FunctionLookUpResult)throw new s.InternalError("unsupport func name");i={type:a,isLeft:!1,expr:new h.WBinaryOperation(f.I32Binary.mul,i.expr,new h.WConst(f.WType.u32,a.elementType.length.toString(),this.location))}}let m=y.doConversion(e,a,r,this),g=y.doConversion(e,a,i,this);return"&&"!==this.operator&&"||"!==this.operator||(m=new h.WBinaryOperation(f.I32Binary.ne,m,new h.WConst(f.WType.i32,"0",this.location),this.location),g=new h.WBinaryOperation(f.I32Binary.ne,g,new h.WConst(f.WType.i32,"0",this.location),this.location)),{type:a,isLeft:!1,expr:new h.WBinaryOperation(u,m,g,this.location)}},o.UnaryExpression.prototype.codegen=function(e){if("sizeof"===this.operator)return{type:l.PrimitiveTypes.uint32,expr:new h.WConst(f.WType.u32,this.operand.deduceType(e).length.toString(),this.location),isLeft:!1};const t=this.operand.deduceType(e);if(t instanceof c.ClassType){if(null!=e.scopeManager.lookupFullName(t.fullName+"::#"+this.operator))return new o.CallExpression(this.location,new o.MemberExpression(this.location,this.operand,!1,new o.Identifier(this.location,"#"+this.operator)),[]).codegen(e)}if("++"===this.operator||"--"===this.operator)return new o.AssignmentExpression(this.location,"=",this.operand,new o.BinaryExpression(this.location,this.operator.charAt(0),this.operand,o.IntegerConstant.getOne())).codegen(e);const n=this.operand.codegen(e);if("*"===this.operator){const t=y.doValueTransform(e,n,this);if(t.type instanceof p.PointerType){if(t.expr instanceof E.FunctionLookUpResult)throw new s.SyntaxError("unsupport function name",this);return{isLeft:!0,type:t.type.elementType,expr:new m.WAddressHolder(t.expr,a.AddressType.RVALUE,this.location)}}throw new s.SyntaxError(`you could not apply * on ${n.type.toString()} `,this)}if("&"===this.operator){if(!(n.isLeft&&n.expr instanceof m.WAddressHolder))throw new s.SyntaxError("you could not get address of a right value ",this);return n.type instanceof p.ArrayType&&(n.type=n.type.elementType),{isLeft:!1,type:new p.PointerType(n.type),expr:n.expr.createLoadAddress(e)}}if("+"===this.operator)return y.doValueTransform(e,this.operand.codegen(e),this);if("-"===this.operator)return new o.BinaryExpression(this.location,"-",o.IntegerConstant.getZero(),this.operand).codegen(e);if("!"===this.operator){const t=y.doConversion(e,l.PrimitiveTypes.int32,this.operand.codegen(e),this);return{type:l.PrimitiveTypes.int32,isLeft:!1,expr:new f.WUnaryOperation(f.I32Unary.eqz,t,this.location)}}if("~"===this.operator)return new o.BinaryExpression(this.location,"^",o.IntegerConstant.getNegOne(),this.operand).codegen(e);throw new s.InternalError(`no_impl at unary ope=${this.operator}`)},o.SubscriptExpression.prototype.codegen=function(e){return new o.UnaryExpression(this.location,"*",new o.BinaryExpression(this.location,"+",this.array,this.subscript)).codegen(e)},n.doVarInit=S,o.CastExpression.prototype.codegen=function(e){const t=this.deduceType(e),n=this.operand.codegen(e);return{type:t,expr:y.doConversion(e,t,n,this,!0),isLeft:!1}},o.PostfixExpression.prototype.codegen=function(e){const t=this.operand.codegen(e);if(!(t.isLeft&&t.expr instanceof m.WAddressHolder))throw new s.SyntaxError("your could not ++ a left value",this);return C.recycleExpressionResult(e,this,new o.AssignmentExpression(this.location,"=",this.operand,new o.BinaryExpression(this.location,this.decrement?"-":"+",this.operand,o.IntegerConstant.getOne())).codegen(e)),t},o.ConditionalExpression.prototype.codegen=function(e){const t=y.doConversion(e,l.PrimitiveTypes.int32,this.test.codegen(e),this),n=this.deduceType(e),r=this.consequent.codegen(e),i=this.alternate.codegen(e);if(n instanceof c.ClassType){const o=new p.LeftReferenceType(n);return{type:o,expr:new m.WAddressHolder(new h.WConditionalExpression(t,y.doConversion(e,o,r,this,!1,!0),y.doConversion(e,o,i,this,!1,!0)),a.AddressType.RVALUE,this.location),isLeft:!0}}return{type:n,expr:new h.WConditionalExpression(t,y.doConversion(e,n,r,this),y.doConversion(e,n,i,this)),isLeft:!1}},n.expression=function(){return""}},{long:"YvD4","../common/ast":"URi4","../common/error":"nOPH","../common/symbol":"HcQt","../type":"Rt13","../type/class_type":"vaEy","../type/compound_type":"ZWBU","../type/primitive_type":"HxYe","../wasm":"Jo9c","../wasm/constant":"hpbE","../wasm/expression":"yB6U","./address":"JsMC","./conversion":"Gzzz","./cpp/overload":"A7U9","./cpp/reference":"+pen","./scope":"y+tL","./statement":"X3yq"}],Hvm1:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0});const r=e("../common/ast"),i=e("../common/error"),o=e("../common/symbol"),s=e("../type"),a=e("../type/class_type"),u=e("../type/compound_type"),c=e("../type/function_type"),p=e("../type/primitive_type"),l=e("./conversion"),f=e("./cpp/overload"),d=e("./declaration"),h=e("./scope");function m(e,t){return e instanceof p.FloatingType||t instanceof p.FloatingType?p.PrimitiveTypes.double:e instanceof p.UnsignedInt64Type||t instanceof p.UnsignedInt64Type?p.PrimitiveTypes.uint64:e instanceof p.Int64Type||t instanceof p.Int64Type?p.PrimitiveTypes.int64:e instanceof p.UnsignedIntegerType||t instanceof p.UnsignedIntegerType?p.PrimitiveTypes.uint32:p.PrimitiveTypes.int32}r.ParenthesisExpression.prototype.deduceType=function(e){return this.expression.deduceType(e)},r.AssignmentExpression.prototype.deduceType=function(e){return this.left.deduceType(e)},r.IntegerConstant.prototype.deduceType=function(e){return this.codegen(e).type},r.CharacterConstant.prototype.deduceType=function(e){return this.codegen(e).type},r.FloatingConstant.prototype.deduceType=function(e){return this.codegen(e).type},r.StringLiteral.prototype.deduceType=function(e){return this.codegen(e).type},r.Identifier.prototype.deduceType=function(e){const t=this.codegen(e);return t.expr instanceof h.FunctionLookUpResult?new c.UnresolvedFunctionOverloadType(t.expr):t.type},r.BinaryExpression.prototype.deduceType=function(e){const t=l.doTypeTransfrom(this.left.deduceType(e)),n=l.doTypeTransfrom(this.right.deduceType(e));if(t instanceof a.ClassType)return new r.CallExpression(this.location,new r.MemberExpression(this.location,this.left,!1,new r.Identifier(this.location,"#"+this.operator)),[this.right]).deduceType(e);if("+-*%/".includes(this.operator)){if(t instanceof p.ArithmeticType&&n instanceof p.ArithmeticType)return m(t,n);if(t instanceof u.PointerType||n instanceof u.PointerType){if(t instanceof u.PointerType&&n instanceof u.PointerType)throw new i.TypeError("could not apply ope on two pointer",this);if(t instanceof u.PointerType){if(!(n instanceof p.IntegerType))throw new i.TypeError(`could not apply ${n.toString()} to pointer`,this);return t}if(n instanceof u.PointerType){if(!(t instanceof p.IntegerType))throw new i.TypeError(`could not apply ${t.toString()} to pointer`,this);if("-"===this.operator)throw new i.TypeError("could - a pointer",this);return n}throw new i.TypeError("bad operator on pointer",this)}throw new i.TypeError(`could not apply ${this.operator} on ${t.toString()} and ${n.toString()}`,this)}if([">=","<=",">","<","==","!="].includes(this.operator)){if(t instanceof p.ArithmeticType&&n instanceof p.ArithmeticType)return p.PrimitiveTypes.bool;if(t instanceof u.PointerType&&n instanceof u.PointerType)return p.PrimitiveTypes.bool;throw new i.TypeError("unsupport relation compute",this)}if(["&&","||"].includes(this.operator))return p.PrimitiveTypes.bool;if(["&","|","^",">>","<<"].includes(this.operator)){if(!(t instanceof p.IntegerType&&n instanceof p.IntegerType))throw new i.TypeError("binary operator could only be applied on integer",this);return p.PrimitiveTypes.int32}if(","===this.operator)return this.right.deduceType(e);throw new i.InternalError("no impl at BinaryExpression()")},r.UnaryExpression.prototype.deduceType=function(e){if("sizeof"===this.operator)return p.PrimitiveTypes.uint32;if("++"===this.operator||"--"===this.operator)return new r.BinaryExpression(this.location,this.operator.charAt(0),this.operand,r.IntegerConstant.getOne()).deduceType(e);const t=l.doTypeTransfrom(this.operand.deduceType(e));if("*"===this.operator){if(t instanceof u.PointerType||t instanceof u.ArrayType)return t.elementType;if(t instanceof u.LeftReferenceType&&(t.elementType instanceof u.PointerType||t.elementType instanceof u.ArrayType))return t.elementType.elementType;throw new i.TypeError(`could not apply * on ${t.toString()}`,this)}if("&"===this.operator)return new u.PointerType(t);if("!"===this.operator||"~"===this.operator)return p.PrimitiveTypes.int32;if("+"===this.operator||"-"===this.operator)return this.operand.deduceType(e);throw new i.InternalError("no imple at UnaryExpression().deduce")},r.CallExpression.prototype.deduceType=function(e){const t=this.callee.deduceType(e);if(t instanceof u.PointerType&&t.elementType instanceof c.FunctionType)return t.elementType.returnType;if(!(t instanceof c.UnresolvedFunctionOverloadType))throw new i.TypeError("the callee is not function",this);const n=t.functionLookupResult;let r=n.functions[0];if(e.isCpp()&&(r=f.doFunctionOverloadResolution(n,this.arguments.map(t=>t.deduceType(e)),this)),null===r)throw new i.SyntaxError(`no matching function for ${n.functions[0].name}`,this);return r.type.returnType},r.SubscriptExpression.prototype.deduceType=function(e){return new r.UnaryExpression(this.location,"*",new r.BinaryExpression(this.location,"+",this.array,this.subscript)).deduceType(e)},r.MemberExpression.prototype.deduceType=function(e){const t=this.pointed?new r.UnaryExpression(this.location,"*",this.object).deduceType(e):this.object.deduceType(e);let n=t;if(n instanceof u.LeftReferenceType&&(n=n.elementType),!(n instanceof a.ClassType))throw new i.SyntaxError("only struct/class could be get member",this);const p=e.scopeManager.lookupFullName(n.fullName+"::"+this.member.name);if(null!==p){if(p instanceof s.Type)throw new i.SyntaxError("illegal type member expression",this);return p instanceof o.Variable?p.type:(p.instanceType=n,new c.UnresolvedFunctionOverloadType(p))}const l=n.getField(this.member.name);if(!l)throw new i.SyntaxError(`property ${this.member.name} does not appear on ${n.name}`,this);return t instanceof u.LeftReferenceType?new u.LeftReferenceType(l.type):l.type},r.TypeName.prototype.deduceType=function(e){let t=d.parseTypeFromSpecifiers(e,this.specifierQualifiers,this);return this.declarator&&(t=d.parseAbstractDeclarator(e,this.declarator,t)),t},r.CastExpression.prototype.deduceType=function(e){return this.typeName.deduceType(e)},r.PostfixExpression.prototype.deduceType=function(e){return this.operand.deduceType(e)},r.ConditionalExpression.prototype.deduceType=function(e){const t=l.doTypeTransfrom(this.consequent.deduceType(e)),n=l.doTypeTransfrom(this.alternate.deduceType(e));if(t instanceof p.ArithmeticType&&n instanceof p.ArithmeticType)return m(t,n);if(t.equals(n))return t;throw new i.SyntaxError("the type between conditional expression is not same",this)},r.ConstructorCallExpression.prototype.deduceType=function(e){const t=this.name.identifier.name,n=e.scopeManager.lookupAnyName(t);if(!(n instanceof a.ClassType))throw new i.SyntaxError("constructor call must be class type",this);return n},n.expression_type=function(){return""}},{"../common/ast":"URi4","../common/error":"nOPH","../common/symbol":"HcQt","../type":"Rt13","../type/class_type":"vaEy","../type/compound_type":"ZWBU","../type/function_type":"VPTZ","../type/primitive_type":"HxYe","./conversion":"Gzzz","./cpp/overload":"A7U9","./declaration":"tSbt","./scope":"y+tL"}],FIFg:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0});const r=e("../type/compound_type"),i=e("../type/function_type"),o=e("../type/primitive_type"),s=e("./class"),a=e("./declaration"),u=e("./expression"),c=e("./expression_type"),p=e("./function"),l=e("./statement");a.declaration(),l.statement(),p.functions(),u.expression(),c.expression_type(),s.classes(),n.codegen=function(e,t){const n=new r.PointerType(o.PrimitiveTypes.void);p.declareFunction(t,new i.FunctionType("memcpy",o.PrimitiveTypes.void,[n,n,o.PrimitiveTypes.uint32],["dst","src","size"],!1),!0,e),e.codegen(t)}},{"../type/compound_type":"ZWBU","../type/function_type":"VPTZ","../type/primitive_type":"HxYe","./class":"jSeS","./declaration":"tSbt","./expression":"QUFU","./expression_type":"Hvm1","./function":"XWPX","./statement":"X3yq"}],KRc9:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0});n.MemoryLayout=class MemoryLayout{constructor(e){this.dataPtr=0,this.stackPtr=0,this.localPtr=0,this.bssPtr=0,this.stackScope=[],this.dataBuffer=new ArrayBuffer(e),this.data=new DataView(this.dataBuffer),this.stringMap=new Map,this.MEMORY_$BP=0,this.MEMORY_$SP=0,this.localTypes=[]}allocData(e){const t=this.dataPtr;return this.dataPtr+=e,t}allocBss(e){const t=this.bssPtr;return this.bssPtr+=e,t}allocLocal(e,t=!1){return t||this.localTypes.push(e),this.localPtr++}allocStack(e){return e%4!=0&&(e+=4-e%4),this.stackPtr-=e,this.stackPtr}allocString(e){const t=this.stringMap.get(e);if(void 0!==t)return t;const n=this.allocData(e.length+1);return this.setDataString(n,e),this.stringMap.set(e,n),n}setDataString(e,t){for(let n=0;n<t.length;n++)this.data.setUint8(e+n,t.charCodeAt(n));this.data.setUint8(e+t.length,0)}enterFunction(){this.stackScope.push(this.stackPtr),this.stackPtr=0,this.localPtr=0,this.stackScope=[],this.localTypes=[]}exitFunction(){this.stackPtr=this.stackScope.pop()}enterInnerScope(){this.stackScope.push(this.stackPtr)}exitInnerScope(){this.stackPtr=this.stackScope.pop()}}},{}],cKzO:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0});const r=e("../common/error"),i=e("../common/symbol"),o=e("../type/class_type"),s=e("./cpp/lifecycle"),a=e("./memory"),u=e("./scope");n.CompileContext=class CompileContext{constructor(e,t={},n,r){this.scopeManager=new u.ScopeManager(!!t.isCpp),this.functionMap=new Map,this.memory=new a.MemoryLayout(1e3),this.currentFunction=null,this.options=t,this.fileName=e,this.sourceMap=r,this.source=n,this.statementContainer=[],this.functions=[],this.imports=[],this.switchContext=null,this.breakStack=[],this.continueStack=[],this.blockLevel=0,this.requiredWASMFuncTypes=new Set}isCpp(){return!!this.options.isCpp}enterFunction(e){this.functionMap.set(e.name,e),this.scopeManager.enterScope(e.name),this.memory.enterFunction(),this.currentFunction=e}triggerDtors(e,t){for(const n of t.map.values()){const t=n[0];t instanceof i.Variable&&t.type instanceof o.ClassType&&s.triggerDestructor(this,t,e)}}triggerDtorsInner(e){let t=this.scopeManager.currentScope;for(;t.isInnerScope;)this.triggerDtors(e,t),t=t.parent;this.triggerDtors(e,t)}exitFunction(){if(null==this.currentFunction)throw new r.InternalError("this.currentFunction==null");this.memory.exitFunction(),this.scopeManager.exitScope()}enterScope(){this.scopeManager.enterUnnamedScope()}exitScope(e){this.triggerDtors(e,this.scopeManager.currentScope),this.scopeManager.exitScope()}setStatementContainer(e){this.statementContainer=e}getStatementContainer(){return this.statementContainer}submitStatement(e){this.statementContainer.push(e)}submitFunction(e){this.functions.push(e)}raiseWarning(e){console.log("[Warning]: "+e)}toCompiledObject(){return{fileName:this.fileName,dataSize:this.memory.dataPtr,functions:this.functions,imports:this.imports,exports:[],data:this.memory.dataBuffer,globalStatements:this.statementContainer,source:this.source,sourceMap:this.sourceMap,requiredWASMFuncTypes:this.requiredWASMFuncTypes}}}},{"../common/error":"nOPH","../common/symbol":"HcQt","../type/class_type":"vaEy","./cpp/lifecycle":"vue3","./memory":"KRc9","./scope":"y+tL"}],uhSO:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.Headers=new Map([["assert.h","#ifndef _ASSERT_H\n#define _ASSERT_H\n\n#ifdef NDEBUG\n#define assert(EX)\n#else\n#define assert(EX) (void)((EX) || (__assert (#EX, __FILE__, __LINE__),0))\n#endif\n\nvoid __assert (const char *msg, const char *file, int line);\n\n#endif"],["stdarg.h","#ifndef _STDARG_H\n#define _STDARG_H\n\ntypedef void* va_list;\n#define va_start(ptr,arg) (ptr) = &(arg) + sizeof(arg) + 4\n#define va_arg(ptr,type) ((ptr) += sizeof(type), *((type *)(ptr - sizeof(type))))\n#define va_end(ptr) (ptr) = 0;\n\n#endif"],["stdio.h","#ifndef _STDIO_H\n#define _STDIO_H\n\n__libcall void dump_stack_info();\n\n\n__libcall int scanf(const char * format, ...);\n__libcall int printf(const char * format, ...);\n__libcall int getchar();\nint puts(const char * str);\n\n#endif"],["string.h","#ifndef _STRING_H\n#define _STRING_H\n\nunsigned int strlen(const char * str);\n\n#endif"],["syscall.h","#ifndef _SYSCALL_H\n#define _SYSCALL_H\n\n__libcall int write(unsigned int fd, void * buffer, unsigned int size);\n__libcall int read(unsigned int fd, void * buffer, unsigned int size);\n__libcall void memcpy(void * dst, void * src, unsigned int size);\n__libcall void * malloc(unsigned int size);\n__libcall void free(void * ptr);\n#endif"]]),n.Impls=new Map([["assert.cpp",'#include <stdio.h>\n\nvoid __assert (const char *msg, const char *file, int line){\n    //printf("assert failed in %s#%d: %s", file, line, msg);\n    //exit(255);\n}'],["stdio.cpp","#include <stdio.h>\n#include <stdarg.h>\n#include <syscall.h>\n#include <string.h>\n\nint puts(const char * str){\n    int len = strlen(str);\n    write(1, str, len);\n    return len;\n}\n"],["string.cpp","#include <string.h>\n\nunsigned int strlen(const char * str){\n    unsigned int cnt = 0;\n    while( *str != 0 ){\n        str = str + 1;\n        cnt = cnt + 1;\n    }\n    return cnt;\n}"]])},{}],PyPK:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0});const r=e("bn.js");n.write=function(e,t,n){return e>=this.files.length?-1:this.files[e].write(this.memory.buffer.slice(t,t+n))},n.read=function(e,t,n){return e>=this.files.length?-1:this.files[e].read(this.memory.buffer,t,n)},n.memcpy=function(e,t,n){const r=this.memoryUint8Array.slice(t,t+n);this.memoryUint8Array.set(r,e)},n.malloc=function(e){return this.heapAllocator.allocHeap(this,e)},n.free=function(e){return this.heapAllocator.freeHeap(this,e)};const i=new ArrayBuffer(1e3),o=new DataView(i);n.printf=function(){let e=this.sp,t=this.memory.getUint32(e,!0);e+=4;let n=this.memory.getUint8(t),s=0;for(;0!==n;){if(n==="%".charCodeAt(0)){t++;let n=String.fromCharCode(this.memory.getUint8(t)),i=0,a=0,u=!1;if("."===n||n.charCodeAt(0)>="0".charCodeAt(0)&&n.charCodeAt(0)<="9".charCodeAt(0))for(;"."===n||n.charCodeAt(0)>="0".charCodeAt(0)&&n.charCodeAt(0)<="9".charCodeAt(0);)"."===n?u=!0:u?a=10*a+ +n:i=10*i+ +n,t++,n=String.fromCharCode(this.memory.getUint8(t));let c=!1;if("l"===n&&(c=!0,t++,n=String.fromCharCode(this.memory.getUint8(t))),"%"===n)o.setUint8(s,"%".charCodeAt(0)),s++;else if("d"===n){let t;if(c){const n=new r(this.memory.getUint32(e,!0));t=new r(this.memory.getInt32(e+4,!0)).shln(32).add(n).toString(),e+=8}else t=this.memory.getInt32(e,!0).toString(),e+=4;for(let e=0;e<t.length;e++)o.setUint8(s,t.charCodeAt(e)),s++}else if("s"===n){let t=this.memory.getInt32(e,!0);e+=4;let n=this.memory.getUint8(t);for(;0!==n;)o.setUint8(s,n),s++,t++,n=this.memory.getUint8(t)}else if("f"===n){let t;if(c?(t=this.memory.getFloat64(e,!0).toString(),e+=8):(t=this.memory.getFloat32(e,!0).toString(),e+=4),0!==a){const e=t.split(".");e.length>=2&&(e[1]=e[1].substr(0,a)),t=e.join(".")}for(let e=0;e<t.length;e++)o.setUint8(s,t.charCodeAt(e)),s++}else o.setUint8(s,"%".charCodeAt(0)),s++,o.setUint8(s,n.charCodeAt(0)),s++}else o.setUint8(s,n),s++;t++,n=this.memory.getUint8(t)}return this.files[1].write(i.slice(0,s))};const s=new ArrayBuffer(10),a=new DataView(s);function u(){return 0===this.files[0].read(s,0,1)?-1:a.getUint8(0)}n.getchar=u;const c="0".charCodeAt(0),p="9".charCodeAt(0),l=" ".charCodeAt(0),f="\t".charCodeAt(0),d="\n".charCodeAt(0),h="-".charCodeAt(0);n.scanf=function(){let e=0,t=this.sp,n=this.memory.getUint32(t,!0);t+=4;let r=this.memory.getUint8(n);for(;0!==r;){if(r==="%".charCodeAt(0)){n++;let r=String.fromCharCode(this.memory.getUint8(n)),i=!1;if("l"===r&&(i=!0,n++,r=String.fromCharCode(this.memory.getUint8(n))),"d"===r){let n=0,r=0,i=u.apply(this),o=0;for(;-1!==i&&!(i>=c&&i<=p);)o=i,i=u.apply(this);for(o===h&&(r=1);-1!==i&&i>=c&&i<=p;)n=10*n+i-c,i=u.apply(this);const s=this.memory.getInt32(t,!0);t+=4,r?this.memory.setInt32(s,-n,!0):this.memory.setInt32(s,n,!0),e++}else if("s"===r){let n=this.memory.getInt32(t,!0),r=u.apply(this);for(;-1!==r&&r!==d&&r!==l&&r!==f;)this.memory.setUint8(n++,r),r=u.apply(this);e++}}n++,r=this.memory.getUint8(n)}return e},n.dump_stack_info=function(){console.log("$sp = "+this.sp)}},{"bn.js":"BOxy"}],bjS5:[function(e,t,n){"use strict";var r=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t};Object.defineProperty(n,"__esModule",{value:!0});var i=e("./library");n.Headers=i.Headers,n.Impls=i.Impls;const o=r(e("./syscall"));n.JsAPIMap=Object.assign({},o)},{"./library":"uhSO","./syscall":"PyPK"}],dGoJ:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0});const r=e("../common/error"),i=e("../wasm"),o=e("../wasm/expression"),s=e("../wasm/section"),a=e("../wasm/statement");n.link=function(e,t,n){const u=[],c=[],p=[],l=[],f=[],d=new Map,h=new Map,m=new Set;for(const e of t)h.set(e.fileName,{source:e.source.split("\n"),sourceMap:e.sourceMap,lastLine:0}),Array.from(e.requiredWASMFuncTypes.keys()).map(e=>m.add(e));const y=[];let g=0;for(const e of t){for(const t of e.functions)t.dataStart=g,/::main@.*/.test(t.name)&&y.push(t.name),p.push(t);l.push(new s.WDataSegment(g,e.data.slice(0,e.dataSize)));const t=`$init$${e.fileName}`,n=new i.WFunction(t,[],[],[],e.globalStatements);n.dataStart=g,p.push(n),f.push(t),g+=e.dataSize}let A=g;for(const e of t){for(const t of e.functions)t.bssStart=A;A+=e.dataSize}const E=new i.WFunction("$start",[],[],[],f.map(e=>new i.WCall(e,[],[])));p.push(E);for(const e of t)for(const t of e.exports){if(d.get(t.name))throw new r.LinkerError(`duplicated symbol of ${t.name}`);d.set(t.name,t.location)}for(const e of t)for(const t of e.imports)u.includes(t.name)||(u.push(t.name),c.push(new i.WImportFunction("system",t.name,t.type.returnTypes,t.type.parameters)));if(c.push(new s.WImportMemory("system","memory",1,10)),p.push(new i.WFunction("$get_sp",[i.WType.u32],[],[],[new i.WReturn(new o.WGetGlobal(i.WType.u32,"$sp"))])),p.push(new i.WFunction("$set_sp",[],[i.WType.u32],[],[new a.WSetGlobal(i.WType.u32,"$sp",new o.WGetLocal(i.WType.u32,0))])),0===y.length)throw new r.LinkerError("no main function found");if(y.length>1)throw new r.LinkerError("multiple main function found");const C=new i.WModule({functions:p,imports:c,exports:["$start",y[0],"$get_sp","$set_sp"],globals:[new i.WGlobalVariable("$sp",i.u32,new i.WConst(i.u32,"1000"))],data:l,generateMemory:!1,requiredFuncTypes:Array.from(m.keys())}),S=new i.WASMEmitter;if(S.externMap=d,C.optimize(S),C.emit(S),n.debug){const e=new i.WASMEmitter;e.sourceMap=h,C.dump(e)}return{fileName:e,heapStart:4*(parseInt((A+1)/4)+1),entry:y[0],sourceMap:h,binary:S.buffer.slice(0,S.now)}}},{"../common/error":"nOPH","../wasm":"Jo9c","../wasm/expression":"yB6U","../wasm/section":"1WA9","../wasm/statement":"0h1i"}],Btp4:[function(e,t,n){"use strict";var r={range:function(e,t){var n,r,i=t-e,o=new Array(i);for(n=0,r=e;n<i;n++,r++)o[n]=r;return o},find:function(e,t){var n,r=e.length;if("function"==typeof t){for(n=0;n<r;n++)if(t(e[n]))return e[n]}else for(n=0;n<r;n++)if(e[n]===t)return e[n]},indexOf:function(e,t){var n,r=e.length;if("function"==typeof t){for(n=0;n<r;n++)if(t(e[n]))return n}else for(n=0;n<r;n++)if(e[n]===t)return n;return-1},contains:function(e,t){return-1!==r.indexOf(e,t)},each:function(e,t){var n,r=e.length;for(n=0;n<r;n++)t(e[n],n)},map:function(e,t){var n,r=e.length,i=new Array(r);for(n=0;n<r;n++)i[n]=t(e[n],n);return i},pluck:function(e,t){return r.map(e,function(e){return e[t]})},every:function(e,t){var n,r=e.length;for(n=0;n<r;n++)if(!t(e[n]))return!1;return!0},some:function(e,t){var n,r=e.length;for(n=0;n<r;n++)if(t(e[n]))return!0;return!1}};t.exports=r},{}],Saqe:[function(e,t,n){"use strict";t.exports={keys:function(e){var t,n=[];for(t in e)e.hasOwnProperty(t)&&n.push(t);return n},values:function(e){var t,n=[];for(t in e)e.hasOwnProperty(t)&&n.push(e[t]);return n},clone:function(e){var t,n={};for(t in e)e.hasOwnProperty(t)&&(n[t]=e[t]);return n},defaults:function(e,t){var n;for(n in t)t.hasOwnProperty(n)&&(n in e||(e[n]=t[n]))}}},{}],T5R9:[function(e,t,n){"use strict";t.exports={subclass:function(e,t){function n(){this.constructor=e}n.prototype=t.prototype,e.prototype=new n}}},{}],RCHO:[function(e,t,n){"use strict";function r(e,t){this.name="GrammarError",this.message=e,this.location=t,"function"==typeof Error.captureStackTrace&&Error.captureStackTrace(this,r)}e("./utils/classes").subclass(r,Error),t.exports=r},{"./utils/classes":"T5R9"}],DLue:[function(e,t,n){"use strict";function r(e,t,n,i){this.message=e,this.expected=t,this.found=n,this.location=i,this.name="SyntaxError","function"==typeof Error.captureStackTrace&&Error.captureStackTrace(this,r)}!function(e,t){function n(){this.constructor=e}n.prototype=t.prototype,e.prototype=new n}(r,Error),r.buildMessage=function(e,t){var n={literal:function(e){return'"'+i(e.text)+'"'},class:function(e){var t,n="";for(t=0;t<e.parts.length;t++)n+=e.parts[t]instanceof Array?o(e.parts[t][0])+"-"+o(e.parts[t][1]):o(e.parts[t]);return"["+(e.inverted?"^":"")+n+"]"},any:function(e){return"any character"},end:function(e){return"end of input"},other:function(e){return e.description}};function r(e){return e.charCodeAt(0).toString(16).toUpperCase()}function i(e){return e.replace(/\\/g,"\\\\").replace(/"/g,'\\"').replace(/\0/g,"\\0").replace(/\t/g,"\\t").replace(/\n/g,"\\n").replace(/\r/g,"\\r").replace(/[\x00-\x0F]/g,function(e){return"\\x0"+r(e)}).replace(/[\x10-\x1F\x7F-\x9F]/g,function(e){return"\\x"+r(e)})}function o(e){return e.replace(/\\/g,"\\\\").replace(/\]/g,"\\]").replace(/\^/g,"\\^").replace(/-/g,"\\-").replace(/\0/g,"\\0").replace(/\t/g,"\\t").replace(/\n/g,"\\n").replace(/\r/g,"\\r").replace(/[\x00-\x0F]/g,function(e){return"\\x0"+r(e)}).replace(/[\x10-\x1F\x7F-\x9F]/g,function(e){return"\\x"+r(e)})}return"Expected "+function(e){var t,r,i,o=new Array(e.length);for(t=0;t<e.length;t++)o[t]=(i=e[t],n[i.type](i));if(o.sort(),o.length>0){for(t=1,r=1;t<o.length;t++)o[t-1]!==o[t]&&(o[r]=o[t],r++);o.length=r}switch(o.length){case 1:return o[0];case 2:return o[0]+" or "+o[1];default:return o.slice(0,-1).join(", ")+", or "+o[o.length-1]}}(e)+" but "+function(e){return e?'"'+i(e)+'"':"end of input"}(t)+" found."},t.exports={SyntaxError:r,parse:function(e,t){t=void 0!==t?t:{};var n,i={},o={Grammar:Vr},s=Vr,a=function(e,t){return{type:"grammar",initializer:(n=e,r=0,n?n[r]:null),rules:vi(t,0),location:Wr()};var n,r},u=function(e){return{type:"initializer",code:e,location:Wr()}},c="=",p=Mr("=",!1),l=function(e,t,n){return{type:"rule",name:e,expression:null!==t?{type:"named",name:t[0],expression:n,location:Wr()}:n,location:Wr()}},f="/",d=Mr("/",!1),h=function(e,t){return t.length>0?{type:"choice",alternatives:bi(e,t,3),location:Wr()}:e},m=function(e,t){return null!==t?{type:"action",expression:e,code:t[1],location:Wr()}:e},y=function(e,t){return t.length>0?{type:"sequence",elements:bi(e,t,1),location:Wr()}:e},g=":",A=Mr(":",!1),E=function(e,t){return{type:"labeled",label:e,expression:t,location:Wr()}},C=function(e,t){return{type:Fi[e],expression:t,location:Wr()}},S="$",w=Mr("$",!1),x="&",T=Mr("&",!1),F="!",D=Mr("!",!1),_=function(e,t){return{type:Di[t],expression:e,location:Wr()}},v="?",b=Mr("?",!1),B="*",P=Mr("*",!1),L="+",I=Mr("+",!1),k="(",R=Mr("(",!1),O=")",N=Mr(")",!1),$=function(e){return"labeled"===e.type||"sequence"===e.type?{type:"group",expression:e}:e},W=function(e){return{type:"rule_ref",name:e,location:Wr()}},M=function(e,t){return{type:_i[e],code:t,location:Wr()}},U={type:"any"},j=jr("whitespace"),H="\t",q=Mr("\t",!1),z="\v",G=Mr("\v",!1),V="\f",Q=Mr("\f",!1),Y=" ",X=Mr(" ",!1),Z="",J=Mr("",!1),K="\ufeff",ee=Mr("\ufeff",!1),te=/^[\n\r\u2028\u2029]/,ne=Ur(["\n","\r","\u2028","\u2029"],!1,!1),re=jr("end of line"),ie="\n",oe=Mr("\n",!1),se="\r\n",ae=Mr("\r\n",!1),ue="\r",ce=Mr("\r",!1),pe="\u2028",le=Mr("\u2028",!1),fe="\u2029",de=Mr("\u2029",!1),he=jr("comment"),me="/*",ye=Mr("/*",!1),ge="*/",Ae=Mr("*/",!1),Ee="//",Ce=Mr("//",!1),Se=function(e){return e},we=jr("identifier"),xe=function(e,t){return e+t.join("")},Te="_",Fe=Mr("_",!1),De="\\",_e=Mr("\\",!1),ve=function(e){return e},be="",Be=Mr("",!1),Pe="",Le=Mr("",!1),Ie=jr("literal"),ke="i",Re=Mr("i",!1),Oe=function(e,t){return{type:"literal",value:e,ignoreCase:null!==t,location:Wr()}},Ne=jr("string"),$e='"',We=Mr('"',!1),Me=function(e){return e.join("")},Ue="'",je=Mr("'",!1),He=function(){return $r()},qe=jr("character class"),ze="[",Ge=Mr("[",!1),Ve="^",Qe=Mr("^",!1),Ye="]",Xe=Mr("]",!1),Ze=function(e,t,n){return{type:"class",parts:function(e){var t,n=[];for(t=0;t<e.length;t++)""!==e[t]&&n.push(e[t]);return n}(t),inverted:null!==e,ignoreCase:null!==n,location:Wr()}},Je="-",Ke=Mr("-",!1),et=function(e,t){return e.charCodeAt(0)>t.charCodeAt(0)&&function(e,t){throw t=void 0!==t?t:qr(Ir,Lr),function(e,t){return new r(e,null,null,t)}(e,t)}("Invalid character range: "+$r()+"."),[e,t]},tt=function(){return""},nt="0",rt=Mr("0",!1),it=function(){return"\0"},ot="b",st=Mr("b",!1),at=function(){return"\b"},ut="f",ct=Mr("f",!1),pt=function(){return"\f"},lt="n",ft=Mr("n",!1),dt=function(){return"\n"},ht="r",mt=Mr("r",!1),yt=function(){return"\r"},gt="t",At=Mr("t",!1),Et=function(){return"\t"},Ct="v",St=Mr("v",!1),wt=function(){return"\v"},xt="x",Tt=Mr("x",!1),Ft="u",Dt=Mr("u",!1),_t=function(e){return String.fromCharCode(parseInt(e,16))},vt=/^[0-9]/,bt=Ur([["0","9"]],!1,!1),Bt=/^[0-9a-f]/i,Pt=Ur([["0","9"],["a","f"]],!1,!0),Lt=".",It=Mr(".",!1),kt=function(){return{type:"any",location:Wr()}},Rt=jr("code block"),Ot="{",Nt=Mr("{",!1),$t="}",Wt=Mr("}",!1),Mt=function(e){return e},Ut=/^[{}]/,jt=Ur(["{","}"],!1,!1),Ht=/^[a-z\xB5\xDF-\xF6\xF8-\xFF\u0101\u0103\u0105\u0107\u0109\u010B\u010D\u010F\u0111\u0113\u0115\u0117\u0119\u011B\u011D\u011F\u0121\u0123\u0125\u0127\u0129\u012B\u012D\u012F\u0131\u0133\u0135\u0137-\u0138\u013A\u013C\u013E\u0140\u0142\u0144\u0146\u0148-\u0149\u014B\u014D\u014F\u0151\u0153\u0155\u0157\u0159\u015B\u015D\u015F\u0161\u0163\u0165\u0167\u0169\u016B\u016D\u016F\u0171\u0173\u0175\u0177\u017A\u017C\u017E-\u0180\u0183\u0185\u0188\u018C-\u018D\u0192\u0195\u0199-\u019B\u019E\u01A1\u01A3\u01A5\u01A8\u01AA-\u01AB\u01AD\u01B0\u01B4\u01B6\u01B9-\u01BA\u01BD-\u01BF\u01C6\u01C9\u01CC\u01CE\u01D0\u01D2\u01D4\u01D6\u01D8\u01DA\u01DC-\u01DD\u01DF\u01E1\u01E3\u01E5\u01E7\u01E9\u01EB\u01ED\u01EF-\u01F0\u01F3\u01F5\u01F9\u01FB\u01FD\u01FF\u0201\u0203\u0205\u0207\u0209\u020B\u020D\u020F\u0211\u0213\u0215\u0217\u0219\u021B\u021D\u021F\u0221\u0223\u0225\u0227\u0229\u022B\u022D\u022F\u0231\u0233-\u0239\u023C\u023F-\u0240\u0242\u0247\u0249\u024B\u024D\u024F-\u0293\u0295-\u02AF\u0371\u0373\u0377\u037B-\u037D\u0390\u03AC-\u03CE\u03D0-\u03D1\u03D5-\u03D7\u03D9\u03DB\u03DD\u03DF\u03E1\u03E3\u03E5\u03E7\u03E9\u03EB\u03ED\u03EF-\u03F3\u03F5\u03F8\u03FB-\u03FC\u0430-\u045F\u0461\u0463\u0465\u0467\u0469\u046B\u046D\u046F\u0471\u0473\u0475\u0477\u0479\u047B\u047D\u047F\u0481\u048B\u048D\u048F\u0491\u0493\u0495\u0497\u0499\u049B\u049D\u049F\u04A1\u04A3\u04A5\u04A7\u04A9\u04AB\u04AD\u04AF\u04B1\u04B3\u04B5\u04B7\u04B9\u04BB\u04BD\u04BF\u04C2\u04C4\u04C6\u04C8\u04CA\u04CC\u04CE-\u04CF\u04D1\u04D3\u04D5\u04D7\u04D9\u04DB\u04DD\u04DF\u04E1\u04E3\u04E5\u04E7\u04E9\u04EB\u04ED\u04EF\u04F1\u04F3\u04F5\u04F7\u04F9\u04FB\u04FD\u04FF\u0501\u0503\u0505\u0507\u0509\u050B\u050D\u050F\u0511\u0513\u0515\u0517\u0519\u051B\u051D\u051F\u0521\u0523\u0525\u0527\u0529\u052B\u052D\u052F\u0561-\u0587\u13F8-\u13FD\u1D00-\u1D2B\u1D6B-\u1D77\u1D79-\u1D9A\u1E01\u1E03\u1E05\u1E07\u1E09\u1E0B\u1E0D\u1E0F\u1E11\u1E13\u1E15\u1E17\u1E19\u1E1B\u1E1D\u1E1F\u1E21\u1E23\u1E25\u1E27\u1E29\u1E2B\u1E2D\u1E2F\u1E31\u1E33\u1E35\u1E37\u1E39\u1E3B\u1E3D\u1E3F\u1E41\u1E43\u1E45\u1E47\u1E49\u1E4B\u1E4D\u1E4F\u1E51\u1E53\u1E55\u1E57\u1E59\u1E5B\u1E5D\u1E5F\u1E61\u1E63\u1E65\u1E67\u1E69\u1E6B\u1E6D\u1E6F\u1E71\u1E73\u1E75\u1E77\u1E79\u1E7B\u1E7D\u1E7F\u1E81\u1E83\u1E85\u1E87\u1E89\u1E8B\u1E8D\u1E8F\u1E91\u1E93\u1E95-\u1E9D\u1E9F\u1EA1\u1EA3\u1EA5\u1EA7\u1EA9\u1EAB\u1EAD\u1EAF\u1EB1\u1EB3\u1EB5\u1EB7\u1EB9\u1EBB\u1EBD\u1EBF\u1EC1\u1EC3\u1EC5\u1EC7\u1EC9\u1ECB\u1ECD\u1ECF\u1ED1\u1ED3\u1ED5\u1ED7\u1ED9\u1EDB\u1EDD\u1EDF\u1EE1\u1EE3\u1EE5\u1EE7\u1EE9\u1EEB\u1EED\u1EEF\u1EF1\u1EF3\u1EF5\u1EF7\u1EF9\u1EFB\u1EFD\u1EFF-\u1F07\u1F10-\u1F15\u1F20-\u1F27\u1F30-\u1F37\u1F40-\u1F45\u1F50-\u1F57\u1F60-\u1F67\u1F70-\u1F7D\u1F80-\u1F87\u1F90-\u1F97\u1FA0-\u1FA7\u1FB0-\u1FB4\u1FB6-\u1FB7\u1FBE\u1FC2-\u1FC4\u1FC6-\u1FC7\u1FD0-\u1FD3\u1FD6-\u1FD7\u1FE0-\u1FE7\u1FF2-\u1FF4\u1FF6-\u1FF7\u210A\u210E-\u210F\u2113\u212F\u2134\u2139\u213C-\u213D\u2146-\u2149\u214E\u2184\u2C30-\u2C5E\u2C61\u2C65-\u2C66\u2C68\u2C6A\u2C6C\u2C71\u2C73-\u2C74\u2C76-\u2C7B\u2C81\u2C83\u2C85\u2C87\u2C89\u2C8B\u2C8D\u2C8F\u2C91\u2C93\u2C95\u2C97\u2C99\u2C9B\u2C9D\u2C9F\u2CA1\u2CA3\u2CA5\u2CA7\u2CA9\u2CAB\u2CAD\u2CAF\u2CB1\u2CB3\u2CB5\u2CB7\u2CB9\u2CBB\u2CBD\u2CBF\u2CC1\u2CC3\u2CC5\u2CC7\u2CC9\u2CCB\u2CCD\u2CCF\u2CD1\u2CD3\u2CD5\u2CD7\u2CD9\u2CDB\u2CDD\u2CDF\u2CE1\u2CE3-\u2CE4\u2CEC\u2CEE\u2CF3\u2D00-\u2D25\u2D27\u2D2D\uA641\uA643\uA645\uA647\uA649\uA64B\uA64D\uA64F\uA651\uA653\uA655\uA657\uA659\uA65B\uA65D\uA65F\uA661\uA663\uA665\uA667\uA669\uA66B\uA66D\uA681\uA683\uA685\uA687\uA689\uA68B\uA68D\uA68F\uA691\uA693\uA695\uA697\uA699\uA69B\uA723\uA725\uA727\uA729\uA72B\uA72D\uA72F-\uA731\uA733\uA735\uA737\uA739\uA73B\uA73D\uA73F\uA741\uA743\uA745\uA747\uA749\uA74B\uA74D\uA74F\uA751\uA753\uA755\uA757\uA759\uA75B\uA75D\uA75F\uA761\uA763\uA765\uA767\uA769\uA76B\uA76D\uA76F\uA771-\uA778\uA77A\uA77C\uA77F\uA781\uA783\uA785\uA787\uA78C\uA78E\uA791\uA793-\uA795\uA797\uA799\uA79B\uA79D\uA79F\uA7A1\uA7A3\uA7A5\uA7A7\uA7A9\uA7B5\uA7B7\uA7FA\uAB30-\uAB5A\uAB60-\uAB65\uAB70-\uABBF\uFB00-\uFB06\uFB13-\uFB17\uFF41-\uFF5A]/,qt=Ur([["a","z"],"",["",""],["",""],"","","","","","","","","","","","","","","","","","","","","","","","","","","",["",""],"","","","","","","",["",""],"","","","","","","","","","","","","","","","","","","","","","","","","",["",""],"","","",["",""],"","",["",""],"","","","","",["",""],"","","","",["",""],["",""],"","","","","","","","","","",["",""],"","","","","","","","",["",""],"","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",["",""],"",["",""],"","","","","",["",""],["",""],"","","",["",""],"",["",""],["",""],["",""],"","","","","","","","","","","",["",""],"","",["",""],["",""],"","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",["",""],"","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",["",""],["",""],["",""],["",""],["",""],"","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",["",""],"","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",["",""],["",""],["",""],["",""],["",""],["",""],["",""],["",""],["",""],["",""],["",""],["",""],["",""],"",["",""],["",""],["",""],["",""],["",""],["",""],["",""],"",["",""],"","","","",["",""],["",""],"","",["",""],"",["",""],"","","","",["",""],["",""],"","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",["",""],"","","",["",""],"","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",["",""],"","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",["",""],"","","","","","","","","","",["",""],"","","","","","","","","","","","","",["",""],["",""],["",""],["",""],["",""],["",""]],!1,!1),zt=/^[\u02B0-\u02C1\u02C6-\u02D1\u02E0-\u02E4\u02EC\u02EE\u0374\u037A\u0559\u0640\u06E5-\u06E6\u07F4-\u07F5\u07FA\u081A\u0824\u0828\u0971\u0E46\u0EC6\u10FC\u17D7\u1843\u1AA7\u1C78-\u1C7D\u1D2C-\u1D6A\u1D78\u1D9B-\u1DBF\u2071\u207F\u2090-\u209C\u2C7C-\u2C7D\u2D6F\u2E2F\u3005\u3031-\u3035\u303B\u309D-\u309E\u30FC-\u30FE\uA015\uA4F8-\uA4FD\uA60C\uA67F\uA69C-\uA69D\uA717-\uA71F\uA770\uA788\uA7F8-\uA7F9\uA9CF\uA9E6\uAA70\uAADD\uAAF3-\uAAF4\uAB5C-\uAB5F\uFF70\uFF9E-\uFF9F]/,Gt=Ur([["",""],["",""],["",""],"","","","","","",["",""],["",""],"","","","","","","","","","","",["",""],["",""],"",["",""],"","",["",""],["",""],"","","",["",""],"",["",""],["",""],"",["",""],"","",["",""],["",""],"","",["",""],"","","","",["",""],["",""],"",["",""]],!1,!1),Vt=/^[\xAA\xBA\u01BB\u01C0-\u01C3\u0294\u05D0-\u05EA\u05F0-\u05F2\u0620-\u063F\u0641-\u064A\u066E-\u066F\u0671-\u06D3\u06D5\u06EE-\u06EF\u06FA-\u06FC\u06FF\u0710\u0712-\u072F\u074D-\u07A5\u07B1\u07CA-\u07EA\u0800-\u0815\u0840-\u0858\u08A0-\u08B4\u0904-\u0939\u093D\u0950\u0958-\u0961\u0972-\u0980\u0985-\u098C\u098F-\u0990\u0993-\u09A8\u09AA-\u09B0\u09B2\u09B6-\u09B9\u09BD\u09CE\u09DC-\u09DD\u09DF-\u09E1\u09F0-\u09F1\u0A05-\u0A0A\u0A0F-\u0A10\u0A13-\u0A28\u0A2A-\u0A30\u0A32-\u0A33\u0A35-\u0A36\u0A38-\u0A39\u0A59-\u0A5C\u0A5E\u0A72-\u0A74\u0A85-\u0A8D\u0A8F-\u0A91\u0A93-\u0AA8\u0AAA-\u0AB0\u0AB2-\u0AB3\u0AB5-\u0AB9\u0ABD\u0AD0\u0AE0-\u0AE1\u0AF9\u0B05-\u0B0C\u0B0F-\u0B10\u0B13-\u0B28\u0B2A-\u0B30\u0B32-\u0B33\u0B35-\u0B39\u0B3D\u0B5C-\u0B5D\u0B5F-\u0B61\u0B71\u0B83\u0B85-\u0B8A\u0B8E-\u0B90\u0B92-\u0B95\u0B99-\u0B9A\u0B9C\u0B9E-\u0B9F\u0BA3-\u0BA4\u0BA8-\u0BAA\u0BAE-\u0BB9\u0BD0\u0C05-\u0C0C\u0C0E-\u0C10\u0C12-\u0C28\u0C2A-\u0C39\u0C3D\u0C58-\u0C5A\u0C60-\u0C61\u0C85-\u0C8C\u0C8E-\u0C90\u0C92-\u0CA8\u0CAA-\u0CB3\u0CB5-\u0CB9\u0CBD\u0CDE\u0CE0-\u0CE1\u0CF1-\u0CF2\u0D05-\u0D0C\u0D0E-\u0D10\u0D12-\u0D3A\u0D3D\u0D4E\u0D5F-\u0D61\u0D7A-\u0D7F\u0D85-\u0D96\u0D9A-\u0DB1\u0DB3-\u0DBB\u0DBD\u0DC0-\u0DC6\u0E01-\u0E30\u0E32-\u0E33\u0E40-\u0E45\u0E81-\u0E82\u0E84\u0E87-\u0E88\u0E8A\u0E8D\u0E94-\u0E97\u0E99-\u0E9F\u0EA1-\u0EA3\u0EA5\u0EA7\u0EAA-\u0EAB\u0EAD-\u0EB0\u0EB2-\u0EB3\u0EBD\u0EC0-\u0EC4\u0EDC-\u0EDF\u0F00\u0F40-\u0F47\u0F49-\u0F6C\u0F88-\u0F8C\u1000-\u102A\u103F\u1050-\u1055\u105A-\u105D\u1061\u1065-\u1066\u106E-\u1070\u1075-\u1081\u108E\u10D0-\u10FA\u10FD-\u1248\u124A-\u124D\u1250-\u1256\u1258\u125A-\u125D\u1260-\u1288\u128A-\u128D\u1290-\u12B0\u12B2-\u12B5\u12B8-\u12BE\u12C0\u12C2-\u12C5\u12C8-\u12D6\u12D8-\u1310\u1312-\u1315\u1318-\u135A\u1380-\u138F\u1401-\u166C\u166F-\u167F\u1681-\u169A\u16A0-\u16EA\u16F1-\u16F8\u1700-\u170C\u170E-\u1711\u1720-\u1731\u1740-\u1751\u1760-\u176C\u176E-\u1770\u1780-\u17B3\u17DC\u1820-\u1842\u1844-\u1877\u1880-\u18A8\u18AA\u18B0-\u18F5\u1900-\u191E\u1950-\u196D\u1970-\u1974\u1980-\u19AB\u19B0-\u19C9\u1A00-\u1A16\u1A20-\u1A54\u1B05-\u1B33\u1B45-\u1B4B\u1B83-\u1BA0\u1BAE-\u1BAF\u1BBA-\u1BE5\u1C00-\u1C23\u1C4D-\u1C4F\u1C5A-\u1C77\u1CE9-\u1CEC\u1CEE-\u1CF1\u1CF5-\u1CF6\u2135-\u2138\u2D30-\u2D67\u2D80-\u2D96\u2DA0-\u2DA6\u2DA8-\u2DAE\u2DB0-\u2DB6\u2DB8-\u2DBE\u2DC0-\u2DC6\u2DC8-\u2DCE\u2DD0-\u2DD6\u2DD8-\u2DDE\u3006\u303C\u3041-\u3096\u309F\u30A1-\u30FA\u30FF\u3105-\u312D\u3131-\u318E\u31A0-\u31BA\u31F0-\u31FF\u3400-\u4DB5\u4E00-\u9FD5\uA000-\uA014\uA016-\uA48C\uA4D0-\uA4F7\uA500-\uA60B\uA610-\uA61F\uA62A-\uA62B\uA66E\uA6A0-\uA6E5\uA78F\uA7F7\uA7FB-\uA801\uA803-\uA805\uA807-\uA80A\uA80C-\uA822\uA840-\uA873\uA882-\uA8B3\uA8F2-\uA8F7\uA8FB\uA8FD\uA90A-\uA925\uA930-\uA946\uA960-\uA97C\uA984-\uA9B2\uA9E0-\uA9E4\uA9E7-\uA9EF\uA9FA-\uA9FE\uAA00-\uAA28\uAA40-\uAA42\uAA44-\uAA4B\uAA60-\uAA6F\uAA71-\uAA76\uAA7A\uAA7E-\uAAAF\uAAB1\uAAB5-\uAAB6\uAAB9-\uAABD\uAAC0\uAAC2\uAADB-\uAADC\uAAE0-\uAAEA\uAAF2\uAB01-\uAB06\uAB09-\uAB0E\uAB11-\uAB16\uAB20-\uAB26\uAB28-\uAB2E\uABC0-\uABE2\uAC00-\uD7A3\uD7B0-\uD7C6\uD7CB-\uD7FB\uF900-\uFA6D\uFA70-\uFAD9\uFB1D\uFB1F-\uFB28\uFB2A-\uFB36\uFB38-\uFB3C\uFB3E\uFB40-\uFB41\uFB43-\uFB44\uFB46-\uFBB1\uFBD3-\uFD3D\uFD50-\uFD8F\uFD92-\uFDC7\uFDF0-\uFDFB\uFE70-\uFE74\uFE76-\uFEFC\uFF66-\uFF6F\uFF71-\uFF9D\uFFA0-\uFFBE\uFFC2-\uFFC7\uFFCA-\uFFCF\uFFD2-\uFFD7\uFFDA-\uFFDC]/,Qt=Ur(["","","",["",""],"",["",""],["",""],["",""],["",""],["",""],["",""],"",["",""],["",""],"","",["",""],["",""],"",["",""],["",""],["",""],["",""],["",""],"","",["",""],["",""],["",""],["",""],["",""],["",""],"",["",""],"","",["",""],["",""],["",""],["",""],["",""],["",""],["",""],["",""],["",""],["",""],["",""],"",["",""],["",""],["",""],["",""],["",""],["",""],["",""],"","",["",""],"",["",""],["",""],["",""],["",""],["",""],["",""],"",["",""],["",""],"","",["",""],["",""],["",""],["",""],"",["",""],["",""],["",""],["",""],"",["",""],["",""],["",""],["",""],"",["",""],["",""],["",""],["",""],["",""],["",""],["",""],"","",["",""],["",""],["",""],["",""],["",""],"","",["",""],["",""],["",""],["",""],["",""],"",["",""],["",""],["",""],["",""],["",""],"",["",""],"","",["",""],["",""],["",""],"","",["",""],["",""],["",""],"",["",""],["",""],"",["",""],["",""],["",""],["",""],"",["",""],["",""],"",["",""],["",""],["",""],"",["",""],["",""],["",""],["",""],"",["",""],["",""],["",""],["",""],["",""],["",""],"",["",""],["",""],["",""],["",""],["",""],["",""],["",""],["",""],["",""],["",""],["",""],["",""],["",""],["",""],["",""],["",""],["",""],["",""],"",["",""],["",""],["",""],"",["",""],["",""],["",""],["",""],["",""],["",""],["",""],["",""],["",""],["",""],["",""],["",""],["",""],["",""],["",""],["",""],["",""],["",""],["",""],["",""],["",""],["",""],["",""],["",""],["",""],["",""],["",""],["",""],["",""],["",""],"","",["",""],"",["",""],"",["",""],["",""],["",""],["",""],["",""],["",""],["",""],["",""],["",""],["",""],["",""],["",""],"",["",""],"","",["",""],["",""],["",""],["",""],["",""],["",""],["",""],"","",["",""],["",""],["",""],["",""],["",""],["",""],["",""],["",""],["",""],["",""],["",""],["",""],"",["",""],"",["",""],["",""],"","",["",""],["",""],"",["",""],["",""],["",""],["",""],["",""],["",""],["",""],["",""],["",""],["",""],["",""],"",["",""],["",""],["",""],"",["",""],["",""],["",""],["",""],["",""],["",""],["",""],["",""],["",""],["",""],["",""],["",""],["",""],["",""],["",""],["",""]],!1,!1),Yt=/^[\u01C5\u01C8\u01CB\u01F2\u1F88-\u1F8F\u1F98-\u1F9F\u1FA8-\u1FAF\u1FBC\u1FCC\u1FFC]/,Xt=Ur(["","","","",["",""],["",""],["",""],"","",""],!1,!1),Zt=/^[A-Z\xC0-\xD6\xD8-\xDE\u0100\u0102\u0104\u0106\u0108\u010A\u010C\u010E\u0110\u0112\u0114\u0116\u0118\u011A\u011C\u011E\u0120\u0122\u0124\u0126\u0128\u012A\u012C\u012E\u0130\u0132\u0134\u0136\u0139\u013B\u013D\u013F\u0141\u0143\u0145\u0147\u014A\u014C\u014E\u0150\u0152\u0154\u0156\u0158\u015A\u015C\u015E\u0160\u0162\u0164\u0166\u0168\u016A\u016C\u016E\u0170\u0172\u0174\u0176\u0178-\u0179\u017B\u017D\u0181-\u0182\u0184\u0186-\u0187\u0189-\u018B\u018E-\u0191\u0193-\u0194\u0196-\u0198\u019C-\u019D\u019F-\u01A0\u01A2\u01A4\u01A6-\u01A7\u01A9\u01AC\u01AE-\u01AF\u01B1-\u01B3\u01B5\u01B7-\u01B8\u01BC\u01C4\u01C7\u01CA\u01CD\u01CF\u01D1\u01D3\u01D5\u01D7\u01D9\u01DB\u01DE\u01E0\u01E2\u01E4\u01E6\u01E8\u01EA\u01EC\u01EE\u01F1\u01F4\u01F6-\u01F8\u01FA\u01FC\u01FE\u0200\u0202\u0204\u0206\u0208\u020A\u020C\u020E\u0210\u0212\u0214\u0216\u0218\u021A\u021C\u021E\u0220\u0222\u0224\u0226\u0228\u022A\u022C\u022E\u0230\u0232\u023A-\u023B\u023D-\u023E\u0241\u0243-\u0246\u0248\u024A\u024C\u024E\u0370\u0372\u0376\u037F\u0386\u0388-\u038A\u038C\u038E-\u038F\u0391-\u03A1\u03A3-\u03AB\u03CF\u03D2-\u03D4\u03D8\u03DA\u03DC\u03DE\u03E0\u03E2\u03E4\u03E6\u03E8\u03EA\u03EC\u03EE\u03F4\u03F7\u03F9-\u03FA\u03FD-\u042F\u0460\u0462\u0464\u0466\u0468\u046A\u046C\u046E\u0470\u0472\u0474\u0476\u0478\u047A\u047C\u047E\u0480\u048A\u048C\u048E\u0490\u0492\u0494\u0496\u0498\u049A\u049C\u049E\u04A0\u04A2\u04A4\u04A6\u04A8\u04AA\u04AC\u04AE\u04B0\u04B2\u04B4\u04B6\u04B8\u04BA\u04BC\u04BE\u04C0-\u04C1\u04C3\u04C5\u04C7\u04C9\u04CB\u04CD\u04D0\u04D2\u04D4\u04D6\u04D8\u04DA\u04DC\u04DE\u04E0\u04E2\u04E4\u04E6\u04E8\u04EA\u04EC\u04EE\u04F0\u04F2\u04F4\u04F6\u04F8\u04FA\u04FC\u04FE\u0500\u0502\u0504\u0506\u0508\u050A\u050C\u050E\u0510\u0512\u0514\u0516\u0518\u051A\u051C\u051E\u0520\u0522\u0524\u0526\u0528\u052A\u052C\u052E\u0531-\u0556\u10A0-\u10C5\u10C7\u10CD\u13A0-\u13F5\u1E00\u1E02\u1E04\u1E06\u1E08\u1E0A\u1E0C\u1E0E\u1E10\u1E12\u1E14\u1E16\u1E18\u1E1A\u1E1C\u1E1E\u1E20\u1E22\u1E24\u1E26\u1E28\u1E2A\u1E2C\u1E2E\u1E30\u1E32\u1E34\u1E36\u1E38\u1E3A\u1E3C\u1E3E\u1E40\u1E42\u1E44\u1E46\u1E48\u1E4A\u1E4C\u1E4E\u1E50\u1E52\u1E54\u1E56\u1E58\u1E5A\u1E5C\u1E5E\u1E60\u1E62\u1E64\u1E66\u1E68\u1E6A\u1E6C\u1E6E\u1E70\u1E72\u1E74\u1E76\u1E78\u1E7A\u1E7C\u1E7E\u1E80\u1E82\u1E84\u1E86\u1E88\u1E8A\u1E8C\u1E8E\u1E90\u1E92\u1E94\u1E9E\u1EA0\u1EA2\u1EA4\u1EA6\u1EA8\u1EAA\u1EAC\u1EAE\u1EB0\u1EB2\u1EB4\u1EB6\u1EB8\u1EBA\u1EBC\u1EBE\u1EC0\u1EC2\u1EC4\u1EC6\u1EC8\u1ECA\u1ECC\u1ECE\u1ED0\u1ED2\u1ED4\u1ED6\u1ED8\u1EDA\u1EDC\u1EDE\u1EE0\u1EE2\u1EE4\u1EE6\u1EE8\u1EEA\u1EEC\u1EEE\u1EF0\u1EF2\u1EF4\u1EF6\u1EF8\u1EFA\u1EFC\u1EFE\u1F08-\u1F0F\u1F18-\u1F1D\u1F28-\u1F2F\u1F38-\u1F3F\u1F48-\u1F4D\u1F59\u1F5B\u1F5D\u1F5F\u1F68-\u1F6F\u1FB8-\u1FBB\u1FC8-\u1FCB\u1FD8-\u1FDB\u1FE8-\u1FEC\u1FF8-\u1FFB\u2102\u2107\u210B-\u210D\u2110-\u2112\u2115\u2119-\u211D\u2124\u2126\u2128\u212A-\u212D\u2130-\u2133\u213E-\u213F\u2145\u2183\u2C00-\u2C2E\u2C60\u2C62-\u2C64\u2C67\u2C69\u2C6B\u2C6D-\u2C70\u2C72\u2C75\u2C7E-\u2C80\u2C82\u2C84\u2C86\u2C88\u2C8A\u2C8C\u2C8E\u2C90\u2C92\u2C94\u2C96\u2C98\u2C9A\u2C9C\u2C9E\u2CA0\u2CA2\u2CA4\u2CA6\u2CA8\u2CAA\u2CAC\u2CAE\u2CB0\u2CB2\u2CB4\u2CB6\u2CB8\u2CBA\u2CBC\u2CBE\u2CC0\u2CC2\u2CC4\u2CC6\u2CC8\u2CCA\u2CCC\u2CCE\u2CD0\u2CD2\u2CD4\u2CD6\u2CD8\u2CDA\u2CDC\u2CDE\u2CE0\u2CE2\u2CEB\u2CED\u2CF2\uA640\uA642\uA644\uA646\uA648\uA64A\uA64C\uA64E\uA650\uA652\uA654\uA656\uA658\uA65A\uA65C\uA65E\uA660\uA662\uA664\uA666\uA668\uA66A\uA66C\uA680\uA682\uA684\uA686\uA688\uA68A\uA68C\uA68E\uA690\uA692\uA694\uA696\uA698\uA69A\uA722\uA724\uA726\uA728\uA72A\uA72C\uA72E\uA732\uA734\uA736\uA738\uA73A\uA73C\uA73E\uA740\uA742\uA744\uA746\uA748\uA74A\uA74C\uA74E\uA750\uA752\uA754\uA756\uA758\uA75A\uA75C\uA75E\uA760\uA762\uA764\uA766\uA768\uA76A\uA76C\uA76E\uA779\uA77B\uA77D-\uA77E\uA780\uA782\uA784\uA786\uA78B\uA78D\uA790\uA792\uA796\uA798\uA79A\uA79C\uA79E\uA7A0\uA7A2\uA7A4\uA7A6\uA7A8\uA7AA-\uA7AD\uA7B0-\uA7B4\uA7B6\uFF21-\uFF3A]/,Jt=Ur([["A","Z"],["",""],["",""],"","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",["",""],"","",["",""],"",["",""],["",""],["",""],["",""],["",""],["",""],["",""],"","",["",""],"","",["",""],["",""],"",["",""],"","","","","","","","","","","","","","","","","","","","","","","",["",""],"","","","","","","","","","","","","","","","","","","","","","","","","","","","","",["",""],["",""],"",["",""],"","","","","","","","","",["",""],"",["",""],["",""],["",""],"",["",""],"","","","","","","","","","","","","","",["",""],["",""],"","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",["",""],"","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",["",""],["",""],"","",["",""],"","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",["",""],["",""],["",""],["",""],["",""],"","","","",["",""],["",""],["",""],["",""],["",""],["",""],"","",["",""],["",""],"",["",""],"","","",["",""],["",""],["",""],"","",["",""],"",["",""],"","","",["",""],"","",["",""],"","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",["",""],"","","","","","","","","","","","","","","","","","",["",""],["",""],"",["",""]],!1,!1),Kt=/^[\u0903\u093B\u093E-\u0940\u0949-\u094C\u094E-\u094F\u0982-\u0983\u09BE-\u09C0\u09C7-\u09C8\u09CB-\u09CC\u09D7\u0A03\u0A3E-\u0A40\u0A83\u0ABE-\u0AC0\u0AC9\u0ACB-\u0ACC\u0B02-\u0B03\u0B3E\u0B40\u0B47-\u0B48\u0B4B-\u0B4C\u0B57\u0BBE-\u0BBF\u0BC1-\u0BC2\u0BC6-\u0BC8\u0BCA-\u0BCC\u0BD7\u0C01-\u0C03\u0C41-\u0C44\u0C82-\u0C83\u0CBE\u0CC0-\u0CC4\u0CC7-\u0CC8\u0CCA-\u0CCB\u0CD5-\u0CD6\u0D02-\u0D03\u0D3E-\u0D40\u0D46-\u0D48\u0D4A-\u0D4C\u0D57\u0D82-\u0D83\u0DCF-\u0DD1\u0DD8-\u0DDF\u0DF2-\u0DF3\u0F3E-\u0F3F\u0F7F\u102B-\u102C\u1031\u1038\u103B-\u103C\u1056-\u1057\u1062-\u1064\u1067-\u106D\u1083-\u1084\u1087-\u108C\u108F\u109A-\u109C\u17B6\u17BE-\u17C5\u17C7-\u17C8\u1923-\u1926\u1929-\u192B\u1930-\u1931\u1933-\u1938\u1A19-\u1A1A\u1A55\u1A57\u1A61\u1A63-\u1A64\u1A6D-\u1A72\u1B04\u1B35\u1B3B\u1B3D-\u1B41\u1B43-\u1B44\u1B82\u1BA1\u1BA6-\u1BA7\u1BAA\u1BE7\u1BEA-\u1BEC\u1BEE\u1BF2-\u1BF3\u1C24-\u1C2B\u1C34-\u1C35\u1CE1\u1CF2-\u1CF3\u302E-\u302F\uA823-\uA824\uA827\uA880-\uA881\uA8B4-\uA8C3\uA952-\uA953\uA983\uA9B4-\uA9B5\uA9BA-\uA9BB\uA9BD-\uA9C0\uAA2F-\uAA30\uAA33-\uAA34\uAA4D\uAA7B\uAA7D\uAAEB\uAAEE-\uAAEF\uAAF5\uABE3-\uABE4\uABE6-\uABE7\uABE9-\uABEA\uABEC]/,en=Ur(["","",["",""],["",""],["",""],["",""],["",""],["",""],["",""],"","",["",""],"",["",""],"",["",""],["",""],"","",["",""],["",""],"",["",""],["",""],["",""],["",""],"",["",""],["",""],["",""],"",["",""],["",""],["",""],["",""],["",""],["",""],["",""],["",""],"",["",""],["",""],["",""],["",""],["",""],"",["",""],"","",["",""],["",""],["",""],["",""],["",""],["",""],"",["",""],"",["",""],["",""],["",""],["",""],["",""],["",""],["",""],"","","",["",""],["",""],"","","",["",""],["",""],"","",["",""],"","",["",""],"",["",""],["",""],["",""],"",["",""],["",""],["",""],"",["",""],["",""],["",""],"",["",""],["",""],["",""],["",""],["",""],"","","","",["",""],"",["",""],["",""],["",""],""],!1,!1),tn=/^[\u0300-\u036F\u0483-\u0487\u0591-\u05BD\u05BF\u05C1-\u05C2\u05C4-\u05C5\u05C7\u0610-\u061A\u064B-\u065F\u0670\u06D6-\u06DC\u06DF-\u06E4\u06E7-\u06E8\u06EA-\u06ED\u0711\u0730-\u074A\u07A6-\u07B0\u07EB-\u07F3\u0816-\u0819\u081B-\u0823\u0825-\u0827\u0829-\u082D\u0859-\u085B\u08E3-\u0902\u093A\u093C\u0941-\u0948\u094D\u0951-\u0957\u0962-\u0963\u0981\u09BC\u09C1-\u09C4\u09CD\u09E2-\u09E3\u0A01-\u0A02\u0A3C\u0A41-\u0A42\u0A47-\u0A48\u0A4B-\u0A4D\u0A51\u0A70-\u0A71\u0A75\u0A81-\u0A82\u0ABC\u0AC1-\u0AC5\u0AC7-\u0AC8\u0ACD\u0AE2-\u0AE3\u0B01\u0B3C\u0B3F\u0B41-\u0B44\u0B4D\u0B56\u0B62-\u0B63\u0B82\u0BC0\u0BCD\u0C00\u0C3E-\u0C40\u0C46-\u0C48\u0C4A-\u0C4D\u0C55-\u0C56\u0C62-\u0C63\u0C81\u0CBC\u0CBF\u0CC6\u0CCC-\u0CCD\u0CE2-\u0CE3\u0D01\u0D41-\u0D44\u0D4D\u0D62-\u0D63\u0DCA\u0DD2-\u0DD4\u0DD6\u0E31\u0E34-\u0E3A\u0E47-\u0E4E\u0EB1\u0EB4-\u0EB9\u0EBB-\u0EBC\u0EC8-\u0ECD\u0F18-\u0F19\u0F35\u0F37\u0F39\u0F71-\u0F7E\u0F80-\u0F84\u0F86-\u0F87\u0F8D-\u0F97\u0F99-\u0FBC\u0FC6\u102D-\u1030\u1032-\u1037\u1039-\u103A\u103D-\u103E\u1058-\u1059\u105E-\u1060\u1071-\u1074\u1082\u1085-\u1086\u108D\u109D\u135D-\u135F\u1712-\u1714\u1732-\u1734\u1752-\u1753\u1772-\u1773\u17B4-\u17B5\u17B7-\u17BD\u17C6\u17C9-\u17D3\u17DD\u180B-\u180D\u18A9\u1920-\u1922\u1927-\u1928\u1932\u1939-\u193B\u1A17-\u1A18\u1A1B\u1A56\u1A58-\u1A5E\u1A60\u1A62\u1A65-\u1A6C\u1A73-\u1A7C\u1A7F\u1AB0-\u1ABD\u1B00-\u1B03\u1B34\u1B36-\u1B3A\u1B3C\u1B42\u1B6B-\u1B73\u1B80-\u1B81\u1BA2-\u1BA5\u1BA8-\u1BA9\u1BAB-\u1BAD\u1BE6\u1BE8-\u1BE9\u1BED\u1BEF-\u1BF1\u1C2C-\u1C33\u1C36-\u1C37\u1CD0-\u1CD2\u1CD4-\u1CE0\u1CE2-\u1CE8\u1CED\u1CF4\u1CF8-\u1CF9\u1DC0-\u1DF5\u1DFC-\u1DFF\u20D0-\u20DC\u20E1\u20E5-\u20F0\u2CEF-\u2CF1\u2D7F\u2DE0-\u2DFF\u302A-\u302D\u3099-\u309A\uA66F\uA674-\uA67D\uA69E-\uA69F\uA6F0-\uA6F1\uA802\uA806\uA80B\uA825-\uA826\uA8C4\uA8E0-\uA8F1\uA926-\uA92D\uA947-\uA951\uA980-\uA982\uA9B3\uA9B6-\uA9B9\uA9BC\uA9E5\uAA29-\uAA2E\uAA31-\uAA32\uAA35-\uAA36\uAA43\uAA4C\uAA7C\uAAB0\uAAB2-\uAAB4\uAAB7-\uAAB8\uAABE-\uAABF\uAAC1\uAAEC-\uAAED\uAAF6\uABE5\uABE8\uABED\uFB1E\uFE00-\uFE0F\uFE20-\uFE2F]/,nn=Ur([["",""],["",""],["",""],"",["",""],["",""],"",["",""],["",""],"",["",""],["",""],["",""],["",""],"",["",""],["",""],["",""],["",""],["",""],["",""],["",""],["",""],["",""],"","",["",""],"",["",""],["",""],"","",["",""],"",["",""],["",""],"",["",""],["",""],["",""],"",["",""],"",["",""],"",["",""],["",""],"",["",""],"","","",["",""],"","",["",""],"","","","",["",""],["",""],["",""],["",""],["",""],"","","","",["",""],["",""],"",["",""],"",["",""],"",["",""],"","",["",""],["",""],"",["",""],["",""],["",""],["",""],"","","",["",""],["",""],["",""],["",""],["",""],"",["",""],["",""],["",""],["",""],["",""],["",""],["",""],"",["",""],"","",["",""],["",""],["",""],["",""],["",""],["",""],["",""],"",["",""],"",["",""],"",["",""],["",""],"",["",""],["",""],"","",["",""],"","",["",""],["",""],"",["",""],["",""],"",["",""],"","",["",""],["",""],["",""],["",""],["",""],"",["",""],"",["",""],["",""],["",""],["",""],["",""],["",""],"","",["",""],["",""],["",""],["",""],"",["",""],["",""],"",["",""],["",""],["",""],"",["",""],["",""],["",""],"","","",["",""],"",["",""],["",""],["",""],["",""],"",["",""],"","",["",""],["",""],["",""],"","","","",["",""],["",""],["",""],"",["",""],"","","","","",["",""],["",""]],!1,!1),rn=/^[0-9\u0660-\u0669\u06F0-\u06F9\u07C0-\u07C9\u0966-\u096F\u09E6-\u09EF\u0A66-\u0A6F\u0AE6-\u0AEF\u0B66-\u0B6F\u0BE6-\u0BEF\u0C66-\u0C6F\u0CE6-\u0CEF\u0D66-\u0D6F\u0DE6-\u0DEF\u0E50-\u0E59\u0ED0-\u0ED9\u0F20-\u0F29\u1040-\u1049\u1090-\u1099\u17E0-\u17E9\u1810-\u1819\u1946-\u194F\u19D0-\u19D9\u1A80-\u1A89\u1A90-\u1A99\u1B50-\u1B59\u1BB0-\u1BB9\u1C40-\u1C49\u1C50-\u1C59\uA620-\uA629\uA8D0-\uA8D9\uA900-\uA909\uA9D0-\uA9D9\uA9F0-\uA9F9\uAA50-\uAA59\uABF0-\uABF9\uFF10-\uFF19]/,on=Ur([["0","9"],["",""],["",""],["",""],["",""],["",""],["",""],["",""],["",""],["",""],["",""],["",""],["",""],["",""],["",""],["",""],["",""],["",""],["",""],["",""],["",""],["",""],["",""],["",""],["",""],["",""],["",""],["",""],["",""],["",""],["",""],["",""],["",""],["",""],["",""],["",""],["",""]],!1,!1),sn=/^[\u16EE-\u16F0\u2160-\u2182\u2185-\u2188\u3007\u3021-\u3029\u3038-\u303A\uA6E6-\uA6EF]/,an=Ur([["",""],["",""],["",""],"",["",""],["",""],["",""]],!1,!1),un=/^[_\u203F-\u2040\u2054\uFE33-\uFE34\uFE4D-\uFE4F\uFF3F]/,cn=Ur(["_",["",""],"",["",""],["",""],""],!1,!1),pn=/^[ \xA0\u1680\u2000-\u200A\u202F\u205F\u3000]/,ln=Ur([" ","","",["",""],"","",""],!1,!1),fn="break",dn=Mr("break",!1),hn="case",mn=Mr("case",!1),yn="catch",gn=Mr("catch",!1),An="class",En=Mr("class",!1),Cn="const",Sn=Mr("const",!1),wn="continue",xn=Mr("continue",!1),Tn="debugger",Fn=Mr("debugger",!1),Dn="default",_n=Mr("default",!1),vn="delete",bn=Mr("delete",!1),Bn="do",Pn=Mr("do",!1),Ln="else",In=Mr("else",!1),kn="enum",Rn=Mr("enum",!1),On="export",Nn=Mr("export",!1),$n="extends",Wn=Mr("extends",!1),Mn="false",Un=Mr("false",!1),jn="finally",Hn=Mr("finally",!1),qn="for",zn=Mr("for",!1),Gn="function",Vn=Mr("function",!1),Qn="if",Yn=Mr("if",!1),Xn="import",Zn=Mr("import",!1),Jn="instanceof",Kn=Mr("instanceof",!1),er="in",tr=Mr("in",!1),nr="new",rr=Mr("new",!1),ir="null",or=Mr("null",!1),sr="return",ar=Mr("return",!1),ur="super",cr=Mr("super",!1),pr="switch",lr=Mr("switch",!1),fr="this",dr=Mr("this",!1),hr="throw",mr=Mr("throw",!1),yr="true",gr=Mr("true",!1),Ar="try",Er=Mr("try",!1),Cr="typeof",Sr=Mr("typeof",!1),wr="var",xr=Mr("var",!1),Tr="void",Fr=Mr("void",!1),Dr="while",_r=Mr("while",!1),vr="with",br=Mr("with",!1),Br=";",Pr=Mr(";",!1),Lr=0,Ir=0,kr=[{line:1,column:1}],Rr=0,Or=[],Nr=0;if("startRule"in t){if(!(t.startRule in o))throw new Error("Can't start parsing from rule \""+t.startRule+'".');s=o[t.startRule]}function $r(){return e.substring(Ir,Lr)}function Wr(){return qr(Ir,Lr)}function Mr(e,t){return{type:"literal",text:e,ignoreCase:t}}function Ur(e,t,n){return{type:"class",parts:e,inverted:t,ignoreCase:n}}function jr(e){return{type:"other",description:e}}function Hr(t){var n,r=kr[t];if(r)return r;for(n=t-1;!kr[n];)n--;for(r={line:(r=kr[n]).line,column:r.column};n<t;)10===e.charCodeAt(n)?(r.line++,r.column=1):r.column++,n++;return kr[t]=r,r}function qr(e,t){var n=Hr(e),r=Hr(t);return{start:{offset:e,line:n.line,column:n.column},end:{offset:t,line:r.line,column:r.column}}}function zr(e){Lr<Rr||(Lr>Rr&&(Rr=Lr,Or=[]),Or.push(e))}function Gr(e,t,n){return new r(r.buildMessage(e,t),e,t,n)}function Vr(){var e,t,n,r,o,s;if(e=Lr,xi()!==i)if(t=Lr,(n=function(){var e,t;return e=Lr,(t=wi())!==i&&Ti()!==i?(Ir=e,t=u(t),e=t):(Lr=e,e=i),e}())!==i&&(r=xi())!==i?t=n=[n,r]:(Lr=t,t=i),t===i&&(t=null),t!==i){if(n=[],r=Lr,(o=Qr())!==i&&(s=xi())!==i?r=o=[o,s]:(Lr=r,r=i),r!==i)for(;r!==i;)n.push(r),r=Lr,(o=Qr())!==i&&(s=xi())!==i?r=o=[o,s]:(Lr=r,r=i);else n=i;n!==i?(Ir=e,e=a(t,n)):(Lr=e,e=i)}else Lr=e,e=i;else Lr=e,e=i;return e}function Qr(){var t,n,r,o,s,a;return t=Lr,(n=ui())!==i&&xi()!==i?(r=Lr,(o=li())!==i&&(s=xi())!==i?r=o=[o,s]:(Lr=r,r=i),r===i&&(r=null),r!==i?(61===e.charCodeAt(Lr)?(o=c,Lr++):(o=i,0===Nr&&zr(p)),o!==i&&(s=xi())!==i&&(a=Yr())!==i&&Ti()!==i?(Ir=t,t=n=l(n,r,a)):(Lr=t,t=i)):(Lr=t,t=i)):(Lr=t,t=i),t}function Yr(){var t,n,r,o,s,a,u,c;if(t=Lr,(n=Xr())!==i){for(r=[],o=Lr,(s=xi())!==i?(47===e.charCodeAt(Lr)?(a=f,Lr++):(a=i,0===Nr&&zr(d)),a!==i&&(u=xi())!==i&&(c=Xr())!==i?o=s=[s,a,u,c]:(Lr=o,o=i)):(Lr=o,o=i);o!==i;)r.push(o),o=Lr,(s=xi())!==i?(47===e.charCodeAt(Lr)?(a=f,Lr++):(a=i,0===Nr&&zr(d)),a!==i&&(u=xi())!==i&&(c=Xr())!==i?o=s=[s,a,u,c]:(Lr=o,o=i)):(Lr=o,o=i);r!==i?(Ir=t,t=n=h(n,r)):(Lr=t,t=i)}else Lr=t,t=i;return t}function Xr(){var e,t,n,r,o;return e=Lr,(t=function(){var e,t,n,r,o,s;if(e=Lr,(t=Zr())!==i){for(n=[],r=Lr,(o=xi())!==i&&(s=Zr())!==i?r=o=[o,s]:(Lr=r,r=i);r!==i;)n.push(r),r=Lr,(o=xi())!==i&&(s=Zr())!==i?r=o=[o,s]:(Lr=r,r=i);n!==i?(Ir=e,t=y(t,n),e=t):(Lr=e,e=i)}else Lr=e,e=i;return e}())!==i?(n=Lr,(r=xi())!==i&&(o=wi())!==i?n=r=[r,o]:(Lr=n,n=i),n===i&&(n=null),n!==i?(Ir=e,e=t=m(t,n)):(Lr=e,e=i)):(Lr=e,e=i),e}function Zr(){var t,n,r,o;return t=Lr,(n=function(){var t,n,r;return t=Lr,n=Lr,Nr++,r=function(){var t;return(t=function(){var t;return(t=function(){var t,n,r,o;return t=Lr,e.substr(Lr,5)===fn?(n=fn,Lr+=5):(n=i,0===Nr&&zr(dn)),n!==i?(r=Lr,Nr++,o=pi(),Nr--,o===i?r=void 0:(Lr=r,r=i),r!==i?t=n=[n,r]:(Lr=t,t=i)):(Lr=t,t=i),t}())===i&&(t=function(){var t,n,r,o;return t=Lr,e.substr(Lr,4)===hn?(n=hn,Lr+=4):(n=i,0===Nr&&zr(mn)),n!==i?(r=Lr,Nr++,o=pi(),Nr--,o===i?r=void 0:(Lr=r,r=i),r!==i?t=n=[n,r]:(Lr=t,t=i)):(Lr=t,t=i),t}())===i&&(t=function(){var t,n,r,o;return t=Lr,e.substr(Lr,5)===yn?(n=yn,Lr+=5):(n=i,0===Nr&&zr(gn)),n!==i?(r=Lr,Nr++,o=pi(),Nr--,o===i?r=void 0:(Lr=r,r=i),r!==i?t=n=[n,r]:(Lr=t,t=i)):(Lr=t,t=i),t}())===i&&(t=function(){var t,n,r,o;return t=Lr,e.substr(Lr,8)===wn?(n=wn,Lr+=8):(n=i,0===Nr&&zr(xn)),n!==i?(r=Lr,Nr++,o=pi(),Nr--,o===i?r=void 0:(Lr=r,r=i),r!==i?t=n=[n,r]:(Lr=t,t=i)):(Lr=t,t=i),t}())===i&&(t=function(){var t,n,r,o;return t=Lr,e.substr(Lr,8)===Tn?(n=Tn,Lr+=8):(n=i,0===Nr&&zr(Fn)),n!==i?(r=Lr,Nr++,o=pi(),Nr--,o===i?r=void 0:(Lr=r,r=i),r!==i?t=n=[n,r]:(Lr=t,t=i)):(Lr=t,t=i),t}())===i&&(t=function(){var t,n,r,o;return t=Lr,e.substr(Lr,7)===Dn?(n=Dn,Lr+=7):(n=i,0===Nr&&zr(_n)),n!==i?(r=Lr,Nr++,o=pi(),Nr--,o===i?r=void 0:(Lr=r,r=i),r!==i?t=n=[n,r]:(Lr=t,t=i)):(Lr=t,t=i),t}())===i&&(t=function(){var t,n,r,o;return t=Lr,e.substr(Lr,6)===vn?(n=vn,Lr+=6):(n=i,0===Nr&&zr(bn)),n!==i?(r=Lr,Nr++,o=pi(),Nr--,o===i?r=void 0:(Lr=r,r=i),r!==i?t=n=[n,r]:(Lr=t,t=i)):(Lr=t,t=i),t}())===i&&(t=function(){var t,n,r,o;return t=Lr,e.substr(Lr,2)===Bn?(n=Bn,Lr+=2):(n=i,0===Nr&&zr(Pn)),n!==i?(r=Lr,Nr++,o=pi(),Nr--,o===i?r=void 0:(Lr=r,r=i),r!==i?t=n=[n,r]:(Lr=t,t=i)):(Lr=t,t=i),t}())===i&&(t=function(){var t,n,r,o;return t=Lr,e.substr(Lr,4)===Ln?(n=Ln,Lr+=4):(n=i,0===Nr&&zr(In)),n!==i?(r=Lr,Nr++,o=pi(),Nr--,o===i?r=void 0:(Lr=r,r=i),r!==i?t=n=[n,r]:(Lr=t,t=i)):(Lr=t,t=i),t}())===i&&(t=function(){var t,n,r,o;return t=Lr,e.substr(Lr,7)===jn?(n=jn,Lr+=7):(n=i,0===Nr&&zr(Hn)),n!==i?(r=Lr,Nr++,o=pi(),Nr--,o===i?r=void 0:(Lr=r,r=i),r!==i?t=n=[n,r]:(Lr=t,t=i)):(Lr=t,t=i),t}())===i&&(t=function(){var t,n,r,o;return t=Lr,e.substr(Lr,3)===qn?(n=qn,Lr+=3):(n=i,0===Nr&&zr(zn)),n!==i?(r=Lr,Nr++,o=pi(),Nr--,o===i?r=void 0:(Lr=r,r=i),r!==i?t=n=[n,r]:(Lr=t,t=i)):(Lr=t,t=i),t}())===i&&(t=function(){var t,n,r,o;return t=Lr,e.substr(Lr,8)===Gn?(n=Gn,Lr+=8):(n=i,0===Nr&&zr(Vn)),n!==i?(r=Lr,Nr++,o=pi(),Nr--,o===i?r=void 0:(Lr=r,r=i),r!==i?t=n=[n,r]:(Lr=t,t=i)):(Lr=t,t=i),t}())===i&&(t=function(){var t,n,r,o;return t=Lr,e.substr(Lr,2)===Qn?(n=Qn,Lr+=2):(n=i,0===Nr&&zr(Yn)),n!==i?(r=Lr,Nr++,o=pi(),Nr--,o===i?r=void 0:(Lr=r,r=i),r!==i?t=n=[n,r]:(Lr=t,t=i)):(Lr=t,t=i),t}())===i&&(t=function(){var t,n,r,o;return t=Lr,e.substr(Lr,10)===Jn?(n=Jn,Lr+=10):(n=i,0===Nr&&zr(Kn)),n!==i?(r=Lr,Nr++,o=pi(),Nr--,o===i?r=void 0:(Lr=r,r=i),r!==i?t=n=[n,r]:(Lr=t,t=i)):(Lr=t,t=i),t}())===i&&(t=function(){var t,n,r,o;return t=Lr,e.substr(Lr,2)===er?(n=er,Lr+=2):(n=i,0===Nr&&zr(tr)),n!==i?(r=Lr,Nr++,o=pi(),Nr--,o===i?r=void 0:(Lr=r,r=i),r!==i?t=n=[n,r]:(Lr=t,t=i)):(Lr=t,t=i),t}())===i&&(t=function(){var t,n,r,o;return t=Lr,e.substr(Lr,3)===nr?(n=nr,Lr+=3):(n=i,0===Nr&&zr(rr)),n!==i?(r=Lr,Nr++,o=pi(),Nr--,o===i?r=void 0:(Lr=r,r=i),r!==i?t=n=[n,r]:(Lr=t,t=i)):(Lr=t,t=i),t}())===i&&(t=function(){var t,n,r,o;return t=Lr,e.substr(Lr,6)===sr?(n=sr,Lr+=6):(n=i,0===Nr&&zr(ar)),n!==i?(r=Lr,Nr++,o=pi(),Nr--,o===i?r=void 0:(Lr=r,r=i),r!==i?t=n=[n,r]:(Lr=t,t=i)):(Lr=t,t=i),t}())===i&&(t=function(){var t,n,r,o;return t=Lr,e.substr(Lr,6)===pr?(n=pr,Lr+=6):(n=i,0===Nr&&zr(lr)),n!==i?(r=Lr,Nr++,o=pi(),Nr--,o===i?r=void 0:(Lr=r,r=i),r!==i?t=n=[n,r]:(Lr=t,t=i)):(Lr=t,t=i),t}())===i&&(t=function(){var t,n,r,o;return t=Lr,e.substr(Lr,4)===fr?(n=fr,Lr+=4):(n=i,0===Nr&&zr(dr)),n!==i?(r=Lr,Nr++,o=pi(),Nr--,o===i?r=void 0:(Lr=r,r=i),r!==i?t=n=[n,r]:(Lr=t,t=i)):(Lr=t,t=i),t}())===i&&(t=function(){var t,n,r,o;return t=Lr,e.substr(Lr,5)===hr?(n=hr,Lr+=5):(n=i,0===Nr&&zr(mr)),n!==i?(r=Lr,Nr++,o=pi(),Nr--,o===i?r=void 0:(Lr=r,r=i),r!==i?t=n=[n,r]:(Lr=t,t=i)):(Lr=t,t=i),t}())===i&&(t=function(){var t,n,r,o;return t=Lr,e.substr(Lr,3)===Ar?(n=Ar,Lr+=3):(n=i,0===Nr&&zr(Er)),n!==i?(r=Lr,Nr++,o=pi(),Nr--,o===i?r=void 0:(Lr=r,r=i),r!==i?t=n=[n,r]:(Lr=t,t=i)):(Lr=t,t=i),t}())===i&&(t=function(){var t,n,r,o;return t=Lr,e.substr(Lr,6)===Cr?(n=Cr,Lr+=6):(n=i,0===Nr&&zr(Sr)),n!==i?(r=Lr,Nr++,o=pi(),Nr--,o===i?r=void 0:(Lr=r,r=i),r!==i?t=n=[n,r]:(Lr=t,t=i)):(Lr=t,t=i),t}())===i&&(t=function(){var t,n,r,o;return t=Lr,e.substr(Lr,3)===wr?(n=wr,Lr+=3):(n=i,0===Nr&&zr(xr)),n!==i?(r=Lr,Nr++,o=pi(),Nr--,o===i?r=void 0:(Lr=r,r=i),r!==i?t=n=[n,r]:(Lr=t,t=i)):(Lr=t,t=i),t}())===i&&(t=function(){var t,n,r,o;return t=Lr,e.substr(Lr,4)===Tr?(n=Tr,Lr+=4):(n=i,0===Nr&&zr(Fr)),n!==i?(r=Lr,Nr++,o=pi(),Nr--,o===i?r=void 0:(Lr=r,r=i),r!==i?t=n=[n,r]:(Lr=t,t=i)):(Lr=t,t=i),t}())===i&&(t=function(){var t,n,r,o;return t=Lr,e.substr(Lr,5)===Dr?(n=Dr,Lr+=5):(n=i,0===Nr&&zr(_r)),n!==i?(r=Lr,Nr++,o=pi(),Nr--,o===i?r=void 0:(Lr=r,r=i),r!==i?t=n=[n,r]:(Lr=t,t=i)):(Lr=t,t=i),t}())===i&&(t=function(){var t,n,r,o;return t=Lr,e.substr(Lr,4)===vr?(n=vr,Lr+=4):(n=i,0===Nr&&zr(br)),n!==i?(r=Lr,Nr++,o=pi(),Nr--,o===i?r=void 0:(Lr=r,r=i),r!==i?t=n=[n,r]:(Lr=t,t=i)):(Lr=t,t=i),t}()),t}())===i&&(t=function(){var t;return(t=function(){var t,n,r,o;return t=Lr,e.substr(Lr,5)===An?(n=An,Lr+=5):(n=i,0===Nr&&zr(En)),n!==i?(r=Lr,Nr++,o=pi(),Nr--,o===i?r=void 0:(Lr=r,r=i),r!==i?t=n=[n,r]:(Lr=t,t=i)):(Lr=t,t=i),t}())===i&&(t=function(){var t,n,r,o;return t=Lr,e.substr(Lr,5)===Cn?(n=Cn,Lr+=5):(n=i,0===Nr&&zr(Sn)),n!==i?(r=Lr,Nr++,o=pi(),Nr--,o===i?r=void 0:(Lr=r,r=i),r!==i?t=n=[n,r]:(Lr=t,t=i)):(Lr=t,t=i),t}())===i&&(t=function(){var t,n,r,o;return t=Lr,e.substr(Lr,4)===kn?(n=kn,Lr+=4):(n=i,0===Nr&&zr(Rn)),n!==i?(r=Lr,Nr++,o=pi(),Nr--,o===i?r=void 0:(Lr=r,r=i),r!==i?t=n=[n,r]:(Lr=t,t=i)):(Lr=t,t=i),t}())===i&&(t=function(){var t,n,r,o;return t=Lr,e.substr(Lr,6)===On?(n=On,Lr+=6):(n=i,0===Nr&&zr(Nn)),n!==i?(r=Lr,Nr++,o=pi(),Nr--,o===i?r=void 0:(Lr=r,r=i),r!==i?t=n=[n,r]:(Lr=t,t=i)):(Lr=t,t=i),t}())===i&&(t=function(){var t,n,r,o;return t=Lr,e.substr(Lr,7)===$n?(n=$n,Lr+=7):(n=i,0===Nr&&zr(Wn)),n!==i?(r=Lr,Nr++,o=pi(),Nr--,o===i?r=void 0:(Lr=r,r=i),r!==i?t=n=[n,r]:(Lr=t,t=i)):(Lr=t,t=i),t}())===i&&(t=function(){var t,n,r,o;return t=Lr,e.substr(Lr,6)===Xn?(n=Xn,Lr+=6):(n=i,0===Nr&&zr(Zn)),n!==i?(r=Lr,Nr++,o=pi(),Nr--,o===i?r=void 0:(Lr=r,r=i),r!==i?t=n=[n,r]:(Lr=t,t=i)):(Lr=t,t=i),t}())===i&&(t=function(){var t,n,r,o;return t=Lr,e.substr(Lr,5)===ur?(n=ur,Lr+=5):(n=i,0===Nr&&zr(cr)),n!==i?(r=Lr,Nr++,o=pi(),Nr--,o===i?r=void 0:(Lr=r,r=i),r!==i?t=n=[n,r]:(Lr=t,t=i)):(Lr=t,t=i),t}()),t}())===i&&(t=function(){var t,n,r,o;return t=Lr,e.substr(Lr,4)===ir?(n=ir,Lr+=4):(n=i,0===Nr&&zr(or)),n!==i?(r=Lr,Nr++,o=pi(),Nr--,o===i?r=void 0:(Lr=r,r=i),r!==i?t=n=[n,r]:(Lr=t,t=i)):(Lr=t,t=i),t}())===i&&(t=function(){var t;return(t=function(){var t,n,r,o;return t=Lr,e.substr(Lr,4)===yr?(n=yr,Lr+=4):(n=i,0===Nr&&zr(gr)),n!==i?(r=Lr,Nr++,o=pi(),Nr--,o===i?r=void 0:(Lr=r,r=i),r!==i?t=n=[n,r]:(Lr=t,t=i)):(Lr=t,t=i),t}())===i&&(t=function(){var t,n,r,o;return t=Lr,e.substr(Lr,5)===Mn?(n=Mn,Lr+=5):(n=i,0===Nr&&zr(Un)),n!==i?(r=Lr,Nr++,o=pi(),Nr--,o===i?r=void 0:(Lr=r,r=i),r!==i?t=n=[n,r]:(Lr=t,t=i)):(Lr=t,t=i),t}()),t}()),t}(),Nr--,r===i?n=void 0:(Lr=n,n=i),n!==i&&(r=ui())!==i?(Ir=t,n=Se(r),t=n):(Lr=t,t=i),t}())!==i&&xi()!==i?(58===e.charCodeAt(Lr)?(r=g,Lr++):(r=i,0===Nr&&zr(A)),r!==i&&xi()!==i&&(o=Jr())!==i?(Ir=t,t=n=E(n,o)):(Lr=t,t=i)):(Lr=t,t=i),t===i&&(t=Jr()),t}function Jr(){var t,n,r;return t=Lr,(n=function(){var t;return 36===e.charCodeAt(Lr)?(t=S,Lr++):(t=i,0===Nr&&zr(w)),t===i&&(38===e.charCodeAt(Lr)?(t=x,Lr++):(t=i,0===Nr&&zr(T)),t===i&&(33===e.charCodeAt(Lr)?(t=F,Lr++):(t=i,0===Nr&&zr(D)))),t}())!==i&&xi()!==i&&(r=Kr())!==i?(Ir=t,t=n=C(n,r)):(Lr=t,t=i),t===i&&(t=Kr()),t}function Kr(){var t,n,r;return t=Lr,(n=ei())!==i&&xi()!==i&&(r=function(){var t;return 63===e.charCodeAt(Lr)?(t=v,Lr++):(t=i,0===Nr&&zr(b)),t===i&&(42===e.charCodeAt(Lr)?(t=B,Lr++):(t=i,0===Nr&&zr(P)),t===i&&(43===e.charCodeAt(Lr)?(t=L,Lr++):(t=i,0===Nr&&zr(I)))),t}())!==i?(Ir=t,t=n=_(n,r)):(Lr=t,t=i),t===i&&(t=ei()),t}function ei(){var t,n,r,o;return(t=function(){var t,n,r;return Nr++,t=Lr,(n=li())!==i?(105===e.charCodeAt(Lr)?(r=ke,Lr++):(r=i,0===Nr&&zr(Re)),r===i&&(r=null),r!==i?(Ir=t,n=Oe(n,r),t=n):(Lr=t,t=i)):(Lr=t,t=i),Nr--,t===i&&(n=i,0===Nr&&zr(Ie)),t}())===i&&(t=function(){var t,n,r,o,s,a;if(Nr++,t=Lr,91===e.charCodeAt(Lr)?(n=ze,Lr++):(n=i,0===Nr&&zr(Ge)),n!==i)if(94===e.charCodeAt(Lr)?(r=Ve,Lr++):(r=i,0===Nr&&zr(Qe)),r===i&&(r=null),r!==i){for(o=[],(s=hi())===i&&(s=mi());s!==i;)o.push(s),(s=hi())===i&&(s=mi());o!==i?(93===e.charCodeAt(Lr)?(s=Ye,Lr++):(s=i,0===Nr&&zr(Xe)),s!==i?(105===e.charCodeAt(Lr)?(a=ke,Lr++):(a=i,0===Nr&&zr(Re)),a===i&&(a=null),a!==i?(Ir=t,n=Ze(r,o,a),t=n):(Lr=t,t=i)):(Lr=t,t=i)):(Lr=t,t=i)}else Lr=t,t=i;else Lr=t,t=i;return Nr--,t===i&&(n=i,0===Nr&&zr(qe)),t}())===i&&(t=function(){var t,n;return t=Lr,46===e.charCodeAt(Lr)?(n=Lt,Lr++):(n=i,0===Nr&&zr(It)),n!==i&&(Ir=t,n=kt()),t=n}())===i&&(t=function(){var t,n,r,o,s,a,u,l;return t=Lr,(n=ui())!==i?(r=Lr,Nr++,o=Lr,(s=xi())!==i?(a=Lr,(u=li())!==i&&(l=xi())!==i?a=u=[u,l]:(Lr=a,a=i),a===i&&(a=null),a!==i?(61===e.charCodeAt(Lr)?(u=c,Lr++):(u=i,0===Nr&&zr(p)),u!==i?o=s=[s,a,u]:(Lr=o,o=i)):(Lr=o,o=i)):(Lr=o,o=i),Nr--,o===i?r=void 0:(Lr=r,r=i),r!==i?(Ir=t,n=W(n),t=n):(Lr=t,t=i)):(Lr=t,t=i),t}())===i&&(t=function(){var t,n,r;return t=Lr,(n=function(){var t;return 38===e.charCodeAt(Lr)?(t=x,Lr++):(t=i,0===Nr&&zr(T)),t===i&&(33===e.charCodeAt(Lr)?(t=F,Lr++):(t=i,0===Nr&&zr(D))),t}())!==i&&xi()!==i&&(r=wi())!==i?(Ir=t,n=M(n,r),t=n):(Lr=t,t=i),t}())===i&&(t=Lr,40===e.charCodeAt(Lr)?(n=k,Lr++):(n=i,0===Nr&&zr(R)),n!==i&&xi()!==i&&(r=Yr())!==i&&xi()!==i?(41===e.charCodeAt(Lr)?(o=O,Lr++):(o=i,0===Nr&&zr(N)),o!==i?(Ir=t,t=n=$(r)):(Lr=t,t=i)):(Lr=t,t=i)),t}function ti(){var t;return e.length>Lr?(t=e.charAt(Lr),Lr++):(t=i,0===Nr&&zr(U)),t}function ni(){var t;return Nr++,9===e.charCodeAt(Lr)?(t=H,Lr++):(t=i,0===Nr&&zr(q)),t===i&&(11===e.charCodeAt(Lr)?(t=z,Lr++):(t=i,0===Nr&&zr(G)),t===i&&(12===e.charCodeAt(Lr)?(t=V,Lr++):(t=i,0===Nr&&zr(Q)),t===i&&(32===e.charCodeAt(Lr)?(t=Y,Lr++):(t=i,0===Nr&&zr(X)),t===i&&(160===e.charCodeAt(Lr)?(t=Z,Lr++):(t=i,0===Nr&&zr(J)),t===i&&(65279===e.charCodeAt(Lr)?(t=K,Lr++):(t=i,0===Nr&&zr(ee)),t===i&&(t=function(){var t;return pn.test(e.charAt(Lr))?(t=e.charAt(Lr),Lr++):(t=i,0===Nr&&zr(ln)),t}())))))),Nr--,t===i&&0===Nr&&zr(j),t}function ri(){var t;return te.test(e.charAt(Lr))?(t=e.charAt(Lr),Lr++):(t=i,0===Nr&&zr(ne)),t}function ii(){var t;return Nr++,10===e.charCodeAt(Lr)?(t=ie,Lr++):(t=i,0===Nr&&zr(oe)),t===i&&(e.substr(Lr,2)===se?(t=se,Lr+=2):(t=i,0===Nr&&zr(ae)),t===i&&(13===e.charCodeAt(Lr)?(t=ue,Lr++):(t=i,0===Nr&&zr(ce)),t===i&&(8232===e.charCodeAt(Lr)?(t=pe,Lr++):(t=i,0===Nr&&zr(le)),t===i&&(8233===e.charCodeAt(Lr)?(t=fe,Lr++):(t=i,0===Nr&&zr(de)))))),Nr--,t===i&&0===Nr&&zr(re),t}function oi(){var t;return Nr++,(t=function(){var t,n,r,o,s,a;if(t=Lr,e.substr(Lr,2)===me?(n=me,Lr+=2):(n=i,0===Nr&&zr(ye)),n!==i){for(r=[],o=Lr,s=Lr,Nr++,e.substr(Lr,2)===ge?(a=ge,Lr+=2):(a=i,0===Nr&&zr(Ae)),Nr--,a===i?s=void 0:(Lr=s,s=i),s!==i&&(a=ti())!==i?o=s=[s,a]:(Lr=o,o=i);o!==i;)r.push(o),o=Lr,s=Lr,Nr++,e.substr(Lr,2)===ge?(a=ge,Lr+=2):(a=i,0===Nr&&zr(Ae)),Nr--,a===i?s=void 0:(Lr=s,s=i),s!==i&&(a=ti())!==i?o=s=[s,a]:(Lr=o,o=i);r!==i?(e.substr(Lr,2)===ge?(o=ge,Lr+=2):(o=i,0===Nr&&zr(Ae)),o!==i?t=n=[n,r,o]:(Lr=t,t=i)):(Lr=t,t=i)}else Lr=t,t=i;return t}())===i&&(t=ai()),Nr--,t===i&&0===Nr&&zr(he),t}function si(){var t,n,r,o,s,a;if(t=Lr,e.substr(Lr,2)===me?(n=me,Lr+=2):(n=i,0===Nr&&zr(ye)),n!==i){for(r=[],o=Lr,s=Lr,Nr++,e.substr(Lr,2)===ge?(a=ge,Lr+=2):(a=i,0===Nr&&zr(Ae)),a===i&&(a=ri()),Nr--,a===i?s=void 0:(Lr=s,s=i),s!==i&&(a=ti())!==i?o=s=[s,a]:(Lr=o,o=i);o!==i;)r.push(o),o=Lr,s=Lr,Nr++,e.substr(Lr,2)===ge?(a=ge,Lr+=2):(a=i,0===Nr&&zr(Ae)),a===i&&(a=ri()),Nr--,a===i?s=void 0:(Lr=s,s=i),s!==i&&(a=ti())!==i?o=s=[s,a]:(Lr=o,o=i);r!==i?(e.substr(Lr,2)===ge?(o=ge,Lr+=2):(o=i,0===Nr&&zr(Ae)),o!==i?t=n=[n,r,o]:(Lr=t,t=i)):(Lr=t,t=i)}else Lr=t,t=i;return t}function ai(){var t,n,r,o,s,a;if(t=Lr,e.substr(Lr,2)===Ee?(n=Ee,Lr+=2):(n=i,0===Nr&&zr(Ce)),n!==i){for(r=[],o=Lr,s=Lr,Nr++,a=ri(),Nr--,a===i?s=void 0:(Lr=s,s=i),s!==i&&(a=ti())!==i?o=s=[s,a]:(Lr=o,o=i);o!==i;)r.push(o),o=Lr,s=Lr,Nr++,a=ri(),Nr--,a===i?s=void 0:(Lr=s,s=i),s!==i&&(a=ti())!==i?o=s=[s,a]:(Lr=o,o=i);r!==i?t=n=[n,r]:(Lr=t,t=i)}else Lr=t,t=i;return t}function ui(){var e,t,n,r;if(Nr++,e=Lr,(t=ci())!==i){for(n=[],r=pi();r!==i;)n.push(r),r=pi();n!==i?(Ir=e,e=t=xe(t,n)):(Lr=e,e=i)}else Lr=e,e=i;return Nr--,e===i&&(t=i,0===Nr&&zr(we)),e}function ci(){var t,n,r;return(t=function(){var t;return(t=function(){var t;return Zt.test(e.charAt(Lr))?(t=e.charAt(Lr),Lr++):(t=i,0===Nr&&zr(Jt)),t}())===i&&(t=function(){var t;return Ht.test(e.charAt(Lr))?(t=e.charAt(Lr),Lr++):(t=i,0===Nr&&zr(qt)),t}())===i&&(t=function(){var t;return Yt.test(e.charAt(Lr))?(t=e.charAt(Lr),Lr++):(t=i,0===Nr&&zr(Xt)),t}())===i&&(t=function(){var t;return zt.test(e.charAt(Lr))?(t=e.charAt(Lr),Lr++):(t=i,0===Nr&&zr(Gt)),t}())===i&&(t=function(){var t;return Vt.test(e.charAt(Lr))?(t=e.charAt(Lr),Lr++):(t=i,0===Nr&&zr(Qt)),t}())===i&&(t=function(){var t;return sn.test(e.charAt(Lr))?(t=e.charAt(Lr),Lr++):(t=i,0===Nr&&zr(an)),t}()),t}())===i&&(36===e.charCodeAt(Lr)?(t=S,Lr++):(t=i,0===Nr&&zr(w)),t===i&&(95===e.charCodeAt(Lr)?(t=Te,Lr++):(t=i,0===Nr&&zr(Fe)),t===i&&(t=Lr,92===e.charCodeAt(Lr)?(n=De,Lr++):(n=i,0===Nr&&zr(_e)),n!==i&&(r=Ei())!==i?(Ir=t,t=n=ve(r)):(Lr=t,t=i)))),t}function pi(){var t;return(t=ci())===i&&(t=function(){var t;return(t=function(){var t;return tn.test(e.charAt(Lr))?(t=e.charAt(Lr),Lr++):(t=i,0===Nr&&zr(nn)),t}())===i&&(t=function(){var t;return Kt.test(e.charAt(Lr))?(t=e.charAt(Lr),Lr++):(t=i,0===Nr&&zr(en)),t}()),t}())===i&&(t=function(){var t;return rn.test(e.charAt(Lr))?(t=e.charAt(Lr),Lr++):(t=i,0===Nr&&zr(on)),t}())===i&&(t=function(){var t;return un.test(e.charAt(Lr))?(t=e.charAt(Lr),Lr++):(t=i,0===Nr&&zr(cn)),t}())===i&&(8204===e.charCodeAt(Lr)?(t=be,Lr++):(t=i,0===Nr&&zr(Be)),t===i&&(8205===e.charCodeAt(Lr)?(t=Pe,Lr++):(t=i,0===Nr&&zr(Le)))),t}function li(){var t,n,r,o;if(Nr++,t=Lr,34===e.charCodeAt(Lr)?(n=$e,Lr++):(n=i,0===Nr&&zr(We)),n!==i){for(r=[],o=fi();o!==i;)r.push(o),o=fi();r!==i?(34===e.charCodeAt(Lr)?(o=$e,Lr++):(o=i,0===Nr&&zr(We)),o!==i?(Ir=t,t=n=Me(r)):(Lr=t,t=i)):(Lr=t,t=i)}else Lr=t,t=i;if(t===i)if(t=Lr,39===e.charCodeAt(Lr)?(n=Ue,Lr++):(n=i,0===Nr&&zr(je)),n!==i){for(r=[],o=di();o!==i;)r.push(o),o=di();r!==i?(39===e.charCodeAt(Lr)?(o=Ue,Lr++):(o=i,0===Nr&&zr(je)),o!==i?(Ir=t,t=n=Me(r)):(Lr=t,t=i)):(Lr=t,t=i)}else Lr=t,t=i;return Nr--,t===i&&(n=i,0===Nr&&zr(Ne)),t}function fi(){var t,n,r;return t=Lr,n=Lr,Nr++,34===e.charCodeAt(Lr)?(r=$e,Lr++):(r=i,0===Nr&&zr(We)),r===i&&(92===e.charCodeAt(Lr)?(r=De,Lr++):(r=i,0===Nr&&zr(_e)),r===i&&(r=ri())),Nr--,r===i?n=void 0:(Lr=n,n=i),n!==i&&(r=ti())!==i?(Ir=t,t=n=He()):(Lr=t,t=i),t===i&&(t=Lr,92===e.charCodeAt(Lr)?(n=De,Lr++):(n=i,0===Nr&&zr(_e)),n!==i&&(r=gi())!==i?(Ir=t,t=n=ve(r)):(Lr=t,t=i),t===i&&(t=yi())),t}function di(){var t,n,r;return t=Lr,n=Lr,Nr++,39===e.charCodeAt(Lr)?(r=Ue,Lr++):(r=i,0===Nr&&zr(je)),r===i&&(92===e.charCodeAt(Lr)?(r=De,Lr++):(r=i,0===Nr&&zr(_e)),r===i&&(r=ri())),Nr--,r===i?n=void 0:(Lr=n,n=i),n!==i&&(r=ti())!==i?(Ir=t,t=n=He()):(Lr=t,t=i),t===i&&(t=Lr,92===e.charCodeAt(Lr)?(n=De,Lr++):(n=i,0===Nr&&zr(_e)),n!==i&&(r=gi())!==i?(Ir=t,t=n=ve(r)):(Lr=t,t=i),t===i&&(t=yi())),t}function hi(){var t,n,r,o;return t=Lr,(n=mi())!==i?(45===e.charCodeAt(Lr)?(r=Je,Lr++):(r=i,0===Nr&&zr(Ke)),r!==i&&(o=mi())!==i?(Ir=t,t=n=et(n,o)):(Lr=t,t=i)):(Lr=t,t=i),t}function mi(){var t,n,r;return t=Lr,n=Lr,Nr++,93===e.charCodeAt(Lr)?(r=Ye,Lr++):(r=i,0===Nr&&zr(Xe)),r===i&&(92===e.charCodeAt(Lr)?(r=De,Lr++):(r=i,0===Nr&&zr(_e)),r===i&&(r=ri())),Nr--,r===i?n=void 0:(Lr=n,n=i),n!==i&&(r=ti())!==i?(Ir=t,t=n=He()):(Lr=t,t=i),t===i&&(t=Lr,92===e.charCodeAt(Lr)?(n=De,Lr++):(n=i,0===Nr&&zr(_e)),n!==i&&(r=gi())!==i?(Ir=t,t=n=ve(r)):(Lr=t,t=i),t===i&&(t=yi())),t}function yi(){var t,n;return t=Lr,92===e.charCodeAt(Lr)?(n=De,Lr++):(n=i,0===Nr&&zr(_e)),n!==i&&ii()!==i?(Ir=t,t=n=tt()):(Lr=t,t=i),t}function gi(){var t,n,r,o;return(t=function(){var t;return(t=Ai())===i&&(t=function(){var t,n,r;return t=Lr,n=Lr,Nr++,(r=function(){var t;return(t=Ai())===i&&(t=Ci())===i&&(120===e.charCodeAt(Lr)?(t=xt,Lr++):(t=i,0===Nr&&zr(Tt)),t===i&&(117===e.charCodeAt(Lr)?(t=Ft,Lr++):(t=i,0===Nr&&zr(Dt)))),t}())===i&&(r=ri()),Nr--,r===i?n=void 0:(Lr=n,n=i),n!==i&&(r=ti())!==i?(Ir=t,n=He(),t=n):(Lr=t,t=i),t}()),t}())===i&&(t=Lr,48===e.charCodeAt(Lr)?(n=nt,Lr++):(n=i,0===Nr&&zr(rt)),n!==i?(r=Lr,Nr++,o=Ci(),Nr--,o===i?r=void 0:(Lr=r,r=i),r!==i?(Ir=t,t=n=it()):(Lr=t,t=i)):(Lr=t,t=i),t===i&&(t=function(){var t,n,r,o,s,a;return t=Lr,120===e.charCodeAt(Lr)?(n=xt,Lr++):(n=i,0===Nr&&zr(Tt)),n!==i?(r=Lr,o=Lr,(s=Si())!==i&&(a=Si())!==i?o=s=[s,a]:(Lr=o,o=i),(r=o!==i?e.substring(r,Lr):o)!==i?(Ir=t,n=_t(r),t=n):(Lr=t,t=i)):(Lr=t,t=i),t}())===i&&(t=Ei())),t}function Ai(){var t,n;return 39===e.charCodeAt(Lr)?(t=Ue,Lr++):(t=i,0===Nr&&zr(je)),t===i&&(34===e.charCodeAt(Lr)?(t=$e,Lr++):(t=i,0===Nr&&zr(We)),t===i&&(92===e.charCodeAt(Lr)?(t=De,Lr++):(t=i,0===Nr&&zr(_e)),t===i&&(t=Lr,98===e.charCodeAt(Lr)?(n=ot,Lr++):(n=i,0===Nr&&zr(st)),n!==i&&(Ir=t,n=at()),(t=n)===i&&(t=Lr,102===e.charCodeAt(Lr)?(n=ut,Lr++):(n=i,0===Nr&&zr(ct)),n!==i&&(Ir=t,n=pt()),(t=n)===i&&(t=Lr,110===e.charCodeAt(Lr)?(n=lt,Lr++):(n=i,0===Nr&&zr(ft)),n!==i&&(Ir=t,n=dt()),(t=n)===i&&(t=Lr,114===e.charCodeAt(Lr)?(n=ht,Lr++):(n=i,0===Nr&&zr(mt)),n!==i&&(Ir=t,n=yt()),(t=n)===i&&(t=Lr,116===e.charCodeAt(Lr)?(n=gt,Lr++):(n=i,0===Nr&&zr(At)),n!==i&&(Ir=t,n=Et()),(t=n)===i&&(t=Lr,118===e.charCodeAt(Lr)?(n=Ct,Lr++):(n=i,0===Nr&&zr(St)),n!==i&&(Ir=t,n=wt()),t=n)))))))),t}function Ei(){var t,n,r,o,s,a,u,c;return t=Lr,117===e.charCodeAt(Lr)?(n=Ft,Lr++):(n=i,0===Nr&&zr(Dt)),n!==i?(r=Lr,o=Lr,(s=Si())!==i&&(a=Si())!==i&&(u=Si())!==i&&(c=Si())!==i?o=s=[s,a,u,c]:(Lr=o,o=i),(r=o!==i?e.substring(r,Lr):o)!==i?(Ir=t,t=n=_t(r)):(Lr=t,t=i)):(Lr=t,t=i),t}function Ci(){var t;return vt.test(e.charAt(Lr))?(t=e.charAt(Lr),Lr++):(t=i,0===Nr&&zr(bt)),t}function Si(){var t;return Bt.test(e.charAt(Lr))?(t=e.charAt(Lr),Lr++):(t=i,0===Nr&&zr(Pt)),t}function wi(){var t,n,r,o;return Nr++,t=Lr,123===e.charCodeAt(Lr)?(n=Ot,Lr++):(n=i,0===Nr&&zr(Nt)),n!==i&&(r=function t(){var n,r,o,s,a,u;if(n=Lr,r=[],o=[],s=Lr,a=Lr,Nr++,Ut.test(e.charAt(Lr))?(u=e.charAt(Lr),Lr++):(u=i,0===Nr&&zr(jt)),Nr--,u===i?a=void 0:(Lr=a,a=i),a!==i&&(u=ti())!==i?s=a=[a,u]:(Lr=s,s=i),s!==i)for(;s!==i;)o.push(s),s=Lr,a=Lr,Nr++,Ut.test(e.charAt(Lr))?(u=e.charAt(Lr),Lr++):(u=i,0===Nr&&zr(jt)),Nr--,u===i?a=void 0:(Lr=a,a=i),a!==i&&(u=ti())!==i?s=a=[a,u]:(Lr=s,s=i);else o=i;for(o===i&&(o=Lr,123===e.charCodeAt(Lr)?(s=Ot,Lr++):(s=i,0===Nr&&zr(Nt)),s!==i&&(a=t())!==i?(125===e.charCodeAt(Lr)?(u=$t,Lr++):(u=i,0===Nr&&zr(Wt)),u!==i?o=s=[s,a,u]:(Lr=o,o=i)):(Lr=o,o=i));o!==i;){if(r.push(o),o=[],s=Lr,a=Lr,Nr++,Ut.test(e.charAt(Lr))?(u=e.charAt(Lr),Lr++):(u=i,0===Nr&&zr(jt)),Nr--,u===i?a=void 0:(Lr=a,a=i),a!==i&&(u=ti())!==i?s=a=[a,u]:(Lr=s,s=i),s!==i)for(;s!==i;)o.push(s),s=Lr,a=Lr,Nr++,Ut.test(e.charAt(Lr))?(u=e.charAt(Lr),Lr++):(u=i,0===Nr&&zr(jt)),Nr--,u===i?a=void 0:(Lr=a,a=i),a!==i&&(u=ti())!==i?s=a=[a,u]:(Lr=s,s=i);else o=i;o===i&&(o=Lr,123===e.charCodeAt(Lr)?(s=Ot,Lr++):(s=i,0===Nr&&zr(Nt)),s!==i&&(a=t())!==i?(125===e.charCodeAt(Lr)?(u=$t,Lr++):(u=i,0===Nr&&zr(Wt)),u!==i?o=s=[s,a,u]:(Lr=o,o=i)):(Lr=o,o=i))}return n=r!==i?e.substring(n,Lr):r}())!==i?(125===e.charCodeAt(Lr)?(o=$t,Lr++):(o=i,0===Nr&&zr(Wt)),o!==i?(Ir=t,t=n=Mt(r)):(Lr=t,t=i)):(Lr=t,t=i),Nr--,t===i&&(n=i,0===Nr&&zr(Rt)),t}function xi(){var e,t;for(e=[],(t=ni())===i&&(t=ii())===i&&(t=oi());t!==i;)e.push(t),(t=ni())===i&&(t=ii())===i&&(t=oi());return e}function Ti(){var t,n,r,o;return t=Lr,(n=xi())!==i?(59===e.charCodeAt(Lr)?(r=Br,Lr++):(r=i,0===Nr&&zr(Pr)),r!==i?t=n=[n,r]:(Lr=t,t=i)):(Lr=t,t=i),t===i&&(t=Lr,(n=function(){var e,t;for(e=[],(t=ni())===i&&(t=si());t!==i;)e.push(t),(t=ni())===i&&(t=si());return e}())!==i?((r=ai())===i&&(r=null),r!==i&&(o=ii())!==i?t=n=[n,r,o]:(Lr=t,t=i)):(Lr=t,t=i),t===i&&(t=Lr,(n=xi())!==i&&(r=function(){var t,n;return t=Lr,Nr++,e.length>Lr?(n=e.charAt(Lr),Lr++):(n=i,0===Nr&&zr(U)),Nr--,n===i?t=void 0:(Lr=t,t=i),t}())!==i?t=n=[n,r]:(Lr=t,t=i))),t}var Fi={$:"text","&":"simple_and","!":"simple_not"},Di={"?":"optional","*":"zero_or_more","+":"one_or_more"},_i={"&":"semantic_and","!":"semantic_not"};function vi(e,t){var n,r=new Array(e.length);for(n=0;n<e.length;n++)r[n]=e[n][t];return r}function bi(e,t,n){return[e].concat(vi(t,n))}if((n=s())!==i&&Lr===e.length)return n;throw n!==i&&Lr<e.length&&zr({type:"end"}),Gr(Or,Rr<e.length?e.charAt(Rr):null,Rr<e.length?qr(Rr,Rr+1):qr(Rr,Rr))}}},{}],"N/0e":[function(e,t,n){"use strict";var r=e("../utils/objects"),i=e("../utils/arrays"),o={build:function(e){function t(t){return e[t.type].apply(null,arguments)}function n(){}function o(e){var n=Array.prototype.slice.call(arguments,1);t.apply(null,[e.expression].concat(n))}function s(e){return function(n){var r=Array.prototype.slice.call(arguments,1);i.each(n[e],function(e){t.apply(null,[e].concat(r))})}}var a={grammar:function(e){var n=Array.prototype.slice.call(arguments,1);e.initializer&&t.apply(null,[e.initializer].concat(n)),i.each(e.rules,function(e){t.apply(null,[e].concat(n))})},initializer:n,rule:o,named:o,choice:s("alternatives"),action:o,sequence:s("elements"),labeled:o,text:o,simple_and:o,simple_not:o,optional:o,zero_or_more:o,one_or_more:o,group:o,semantic_and:n,semantic_not:n,rule_ref:n,literal:n,class:n,any:n};return r.defaults(e,a),t}};t.exports=o},{"../utils/objects":"Saqe","../utils/arrays":"Btp4"}],ckuz:[function(e,t,n){"use strict";var r=e("../utils/arrays"),i=e("./visitor"),o={findRule:function(e,t){return r.find(e.rules,function(e){return e.name===t})},indexOfRule:function(e,t){return r.indexOf(e.rules,function(e){return e.name===t})},alwaysConsumesOnSuccess:function(e,t){function n(){return!0}function s(){return!1}function a(e){return u(e.expression)}var u=i.build({rule:a,named:a,choice:function(e){return r.every(e.alternatives,u)},action:a,sequence:function(e){return r.some(e.elements,u)},labeled:a,text:a,simple_and:s,simple_not:s,optional:s,zero_or_more:s,one_or_more:a,group:a,semantic_and:s,semantic_not:s,rule_ref:function(t){return u(o.findRule(e,t.name))},literal:function(e){return""!==e.value},class:n,any:n});return u(t)}};t.exports=o},{"../utils/arrays":"Btp4","./visitor":"N/0e"}],"6Wkb":[function(e,t,n){"use strict";var r=e("../../grammar-error"),i=e("../asts"),o=e("../visitor");t.exports=function(e){o.build({rule_ref:function(t){if(!i.findRule(e,t.name))throw new r('Rule "'+t.name+'" is not defined.',t.location)}})(e)}},{"../../grammar-error":"RCHO","../asts":"ckuz","../visitor":"N/0e"}],nPjr:[function(e,t,n){"use strict";var r=e("../../grammar-error"),i=e("../visitor");t.exports=function(e){var t={};i.build({rule:function(e){if(t.hasOwnProperty(e.name))throw new r('Rule "'+e.name+'" is already defined at line '+t[e.name].start.line+", column "+t[e.name].start.column+".",e.location);t[e.name]=e.location}})(e)}},{"../../grammar-error":"RCHO","../visitor":"N/0e"}],nn7N:[function(e,t,n){"use strict";var r=e("../../grammar-error"),i=e("../../utils/arrays"),o=e("../../utils/objects"),s=e("../visitor");t.exports=function(e){function t(e,t){n(e.expression,o.clone(t))}var n=s.build({rule:function(e){n(e.expression,{})},choice:function(e,t){i.each(e.alternatives,function(e){n(e,o.clone(t))})},action:t,labeled:function(e,t){if(t.hasOwnProperty(e.label))throw new r('Label "'+e.label+'" is already defined at line '+t[e.label].start.line+", column "+t[e.label].start.column+".",e.location);n(e.expression,t),t[e.label]=e.location},text:t,simple_and:t,simple_not:t,optional:t,zero_or_more:t,one_or_more:t,group:t});n(e)}},{"../../grammar-error":"RCHO","../../utils/arrays":"Btp4","../../utils/objects":"Saqe","../visitor":"N/0e"}],"50GR":[function(e,t,n){"use strict";var r=e("../../utils/arrays"),i=e("../../grammar-error"),o=e("../asts"),s=e("../visitor");t.exports=function(e){var t=[],n=s.build({rule:function(e){t.push(e.name),n(e.expression),t.pop(e.name)},sequence:function(t){r.every(t.elements,function(t){return n(t),!o.alwaysConsumesOnSuccess(e,t)})},rule_ref:function(s){if(r.contains(t,s.name))throw t.push(s.name),new i("Possible infinite loop when parsing (left recursion: "+t.join(" -> ")+").",s.location);n(o.findRule(e,s.name))}});n(e)}},{"../../utils/arrays":"Btp4","../../grammar-error":"RCHO","../asts":"ckuz","../visitor":"N/0e"}],VZe4:[function(e,t,n){"use strict";var r=e("../../grammar-error"),i=e("../asts"),o=e("../visitor");t.exports=function(e){o.build({zero_or_more:function(t){if(!i.alwaysConsumesOnSuccess(e,t.expression))throw new r("Possible infinite loop when parsing (repetition used with an expression that may not consume any input).",t.location)},one_or_more:function(t){if(!i.alwaysConsumesOnSuccess(e,t.expression))throw new r("Possible infinite loop when parsing (repetition used with an expression that may not consume any input).",t.location)}})(e)}},{"../../grammar-error":"RCHO","../asts":"ckuz","../visitor":"N/0e"}],E6LJ:[function(e,t,n){"use strict";var r=e("../../utils/arrays"),i=e("../visitor");t.exports=function(e,t){var n=[];r.each(e.rules,function(o,s){var a;"rule"===(a=o).type&&"rule_ref"===a.expression.type&&(function(e,t,n){i.build({rule_ref:function(e){e.name===t&&(e.name=n)}})(e)}(e,o.name,o.expression.name),r.contains(t.allowedStartRules,o.name)||n.push(s))}),n.reverse(),r.each(n,function(t){e.rules.splice(t,1)})}},{"../../utils/arrays":"Btp4","../visitor":"N/0e"}],"TA/v":[function(e,t,n){"use strict";t.exports={PUSH:0,PUSH_UNDEFINED:1,PUSH_NULL:2,PUSH_FAILED:3,PUSH_EMPTY_ARRAY:4,PUSH_CURR_POS:5,POP:6,POP_CURR_POS:7,POP_N:8,NIP:9,APPEND:10,WRAP:11,TEXT:12,IF:13,IF_ERROR:14,IF_NOT_ERROR:15,WHILE_NOT_ERROR:16,MATCH_ANY:17,MATCH_STRING:18,MATCH_STRING_IC:19,MATCH_REGEXP:20,ACCEPT_N:21,ACCEPT_STRING:22,FAIL:23,LOAD_SAVED_POS:24,UPDATE_SAVED_POS:25,CALL:26,RULE:27,SILENT_FAILS_ON:28,SILENT_FAILS_OFF:29}},{}],LEGa:[function(e,t,n){"use strict";function r(e){return e.charCodeAt(0).toString(16).toUpperCase()}var i={stringEscape:function(e){return e.replace(/\\/g,"\\\\").replace(/"/g,'\\"').replace(/\0/g,"\\0").replace(/\x08/g,"\\b").replace(/\t/g,"\\t").replace(/\n/g,"\\n").replace(/\f/g,"\\f").replace(/\r/g,"\\r").replace(/[\x00-\x0F]/g,function(e){return"\\x0"+r(e)}).replace(/[\x10-\x1F\x7F-\xFF]/g,function(e){return"\\x"+r(e)}).replace(/[\u0100-\u0FFF]/g,function(e){return"\\u0"+r(e)}).replace(/[\u1000-\uFFFF]/g,function(e){return"\\u"+r(e)})},regexpClassEscape:function(e){return e.replace(/\\/g,"\\\\").replace(/\//g,"\\/").replace(/\]/g,"\\]").replace(/\^/g,"\\^").replace(/-/g,"\\-").replace(/\0/g,"\\0").replace(/\t/g,"\\t").replace(/\n/g,"\\n").replace(/\v/g,"\\x0B").replace(/\f/g,"\\f").replace(/\r/g,"\\r").replace(/[\x00-\x0F]/g,function(e){return"\\x0"+r(e)}).replace(/[\x10-\x1F\x7F-\xFF]/g,function(e){return"\\x"+r(e)}).replace(/[\u0100-\u0FFF]/g,function(e){return"\\u0"+r(e)}).replace(/[\u1000-\uFFFF]/g,function(e){return"\\u"+r(e)})}};t.exports=i},{}],"9PmR":[function(e,t,n){"use strict";var r=e("../../utils/arrays"),i=e("../../utils/objects"),o=e("../asts"),s=e("../visitor"),a=e("../opcodes"),u=e("../js");t.exports=function(e){var t=[];function n(e){var n=r.indexOf(t,e);return-1===n?t.push(e)-1:n}function c(e,t){return n("function("+e.join(", ")+") {"+t+"}")}function p(){return Array.prototype.concat.apply([],arguments)}function l(e,t,n){return e.concat([t.length,n.length],t,n)}function f(e,t,n,o){var s=r.map(i.values(n),function(e){return o-e});return[a.CALL,e,t,s.length].concat(s)}function d(e,t,n){return p([a.PUSH_CURR_POS],[a.SILENT_FAILS_ON],y(e,{sp:n.sp+1,env:i.clone(n.env),action:null}),[a.SILENT_FAILS_OFF],l([t?a.IF_ERROR:a.IF_NOT_ERROR],p([a.POP],[t?a.POP:a.POP_CURR_POS],[a.PUSH_UNDEFINED]),p([a.POP],[t?a.POP_CURR_POS:a.POP],[a.PUSH_FAILED])))}function h(e,t,n){var r=c(i.keys(n.env),e);return p([a.UPDATE_SAVED_POS],f(r,0,n.env,n.sp),l([a.IF],p([a.POP],t?[a.PUSH_FAILED]:[a.PUSH_UNDEFINED]),p([a.POP],t?[a.PUSH_UNDEFINED]:[a.PUSH_FAILED])))}function m(e){return t=[a.WHILE_NOT_ERROR],n=p([a.APPEND],e),t.concat([n.length],n);var t,n}var y=s.build({grammar:function(e){r.each(e.rules,y),e.consts=t},rule:function(e){e.bytecode=y(e.expression,{sp:-1,env:{},action:null})},named:function(e,t){var r=n('peg$otherExpectation("'+u.stringEscape(e.name)+'")');return p([a.SILENT_FAILS_ON],y(e.expression,t),[a.SILENT_FAILS_OFF],l([a.IF_ERROR],[a.FAIL,r],[]))},choice:function(e,t){return function e(t,n){return p(y(t[0],{sp:n.sp,env:i.clone(n.env),action:null}),t.length>1?l([a.IF_ERROR],p([a.POP],e(t.slice(1),n)),[]):[])}(e.alternatives,t)},action:function(e,t){var n=i.clone(t.env),r="sequence"!==e.expression.type||0===e.expression.elements.length,o=y(e.expression,{sp:t.sp+(r?1:0),env:n,action:e}),s=c(i.keys(n),e.code);return r?p([a.PUSH_CURR_POS],o,l([a.IF_NOT_ERROR],p([a.LOAD_SAVED_POS,1],f(s,1,n,t.sp+2)),[]),[a.NIP]):o},sequence:function(e,t){return p([a.PUSH_CURR_POS],function t(n,r){var o,s;return n.length>0?(o=e.elements.length-n.slice(1).length,p(y(n[0],{sp:r.sp,env:r.env,action:null}),l([a.IF_NOT_ERROR],t(n.slice(1),{sp:r.sp+1,env:r.env,action:r.action}),p(o>1?[a.POP_N,o]:[a.POP],[a.POP_CURR_POS],[a.PUSH_FAILED])))):r.action?(s=c(i.keys(r.env),r.action.code),p([a.LOAD_SAVED_POS,e.elements.length],f(s,e.elements.length,r.env,r.sp),[a.NIP])):p([a.WRAP,e.elements.length],[a.NIP])}(e.elements,{sp:t.sp+1,env:t.env,action:t.action}))},labeled:function(e,t){var n=i.clone(t.env);return t.env[e.label]=t.sp+1,y(e.expression,{sp:t.sp,env:n,action:null})},text:function(e,t){return p([a.PUSH_CURR_POS],y(e.expression,{sp:t.sp+1,env:i.clone(t.env),action:null}),l([a.IF_NOT_ERROR],p([a.POP],[a.TEXT]),[a.NIP]))},simple_and:function(e,t){return d(e.expression,!1,t)},simple_not:function(e,t){return d(e.expression,!0,t)},optional:function(e,t){return p(y(e.expression,{sp:t.sp,env:i.clone(t.env),action:null}),l([a.IF_ERROR],p([a.POP],[a.PUSH_NULL]),[]))},zero_or_more:function(e,t){var n=y(e.expression,{sp:t.sp+1,env:i.clone(t.env),action:null});return p([a.PUSH_EMPTY_ARRAY],n,m(n),[a.POP])},one_or_more:function(e,t){var n=y(e.expression,{sp:t.sp+1,env:i.clone(t.env),action:null});return p([a.PUSH_EMPTY_ARRAY],n,l([a.IF_NOT_ERROR],p(m(n),[a.POP]),p([a.POP],[a.POP],[a.PUSH_FAILED])))},group:function(e,t){return y(e.expression,{sp:t.sp,env:i.clone(t.env),action:null})},semantic_and:function(e,t){return h(e.code,!1,t)},semantic_not:function(e,t){return h(e.code,!0,t)},rule_ref:function(t){return[a.RULE,o.indexOfRule(e,t.name)]},literal:function(e){var t,r;return e.value.length>0?(t=n('"'+u.stringEscape(e.ignoreCase?e.value.toLowerCase():e.value)+'"'),r=n('peg$literalExpectation("'+u.stringEscape(e.value)+'", '+e.ignoreCase+")"),l(e.ignoreCase?[a.MATCH_STRING_IC,t]:[a.MATCH_STRING,t],e.ignoreCase?[a.ACCEPT_N,e.value.length]:[a.ACCEPT_STRING,t],[a.FAIL,r])):(t=n('""'),[a.PUSH,t])},class:function(e){var t,i,o,s;return t=e.parts.length>0?"/^["+(e.inverted?"^":"")+r.map(e.parts,function(e){return e instanceof Array?u.regexpClassEscape(e[0])+"-"+u.regexpClassEscape(e[1]):u.regexpClassEscape(e)}).join("")+"]/"+(e.ignoreCase?"i":""):e.inverted?"/^[\\S\\s]/":"/^(?!)/",i="["+r.map(e.parts,function(e){return e instanceof Array?'["'+u.stringEscape(e[0])+'", "'+u.stringEscape(e[1])+'"]':'"'+u.stringEscape(e)+'"'}).join(", ")+"]",o=n(t),s=n("peg$classExpectation("+i+", "+e.inverted+", "+e.ignoreCase+")"),l([a.MATCH_REGEXP,o],[a.ACCEPT_N,1],[a.FAIL,s])},any:function(){var e=n("peg$anyExpectation()");return l([a.MATCH_ANY],[a.ACCEPT_N,1],[a.FAIL,e])}});y(e)}},{"../../utils/arrays":"Btp4","../../utils/objects":"Saqe","../asts":"ckuz","../visitor":"N/0e","../opcodes":"TA/v","../js":"LEGa"}],y0wl:[function(require,module,exports){"use strict";var arrays=require("../../utils/arrays"),objects=require("../../utils/objects"),asts=require("../asts"),op=require("../opcodes"),js=require("../js");function generateJS(ast,options){function indent2(e){return e.replace(/^(.+)$/gm,"  $1")}function indent6(e){return e.replace(/^(.+)$/gm,"      $1")}function indent10(e){return e.replace(/^(.+)$/gm,"          $1")}function generateTables(){return"size"===options.optimize?["peg$consts = [",indent2(ast.consts.join(",\n")),"],","","peg$bytecode = [",indent2(arrays.map(ast.rules,function(e){return'peg$decode("'+js.stringEscape(arrays.map(e.bytecode,function(e){return String.fromCharCode(e+32)}).join(""))+'")'}).join(",\n")),"],"].join("\n"):arrays.map(ast.consts,function(e,t){return"peg$c"+t+" = "+e+","}).join("\n")}function generateRuleHeader(e,t){var n=[];return n.push(""),options.trace&&n.push(["peg$tracer.trace({",'  type:     "rule.enter",',"  rule:     "+e+",","  location: peg$computeLocation(startPos, startPos)","});",""].join("\n")),options.cache&&(n.push(["var key    = peg$currPos * "+ast.rules.length+" + "+t+",","    cached = peg$resultsCache[key];","","if (cached) {","  peg$currPos = cached.nextPos;",""].join("\n")),options.trace&&n.push(["if (cached.result !== peg$FAILED) {","  peg$tracer.trace({",'    type:   "rule.match",',"    rule:   "+e+",","    result: cached.result,","    location: peg$computeLocation(startPos, peg$currPos)","  });","} else {","  peg$tracer.trace({",'    type: "rule.fail",',"    rule: "+e+",","    location: peg$computeLocation(startPos, startPos)","  });","}",""].join("\n")),n.push(["  return cached.result;","}",""].join("\n"))),n.join("\n")}function generateRuleFooter(e,t){var n=[];return options.cache&&n.push(["","peg$resultsCache[key] = { nextPos: peg$currPos, result: "+t+" };"].join("\n")),options.trace&&n.push(["","if ("+t+" !== peg$FAILED) {","  peg$tracer.trace({",'    type:   "rule.match",',"    rule:   "+e+",","    result: "+t+",","    location: peg$computeLocation(startPos, peg$currPos)","  });","} else {","  peg$tracer.trace({",'    type: "rule.fail",',"    rule: "+e+",","    location: peg$computeLocation(startPos, startPos)","  });","}"].join("\n")),n.push(["","return "+t+";"].join("\n")),n.join("\n")}function generateInterpreter(){var e,t=[];function n(e,t){var n=t+3,r="bc[ip + "+(n-2)+"]",i="bc[ip + "+(n-1)+"]";return["ends.push(end);","ips.push(ip + "+n+" + "+r+" + "+i+");","","if ("+e+") {","  end = ip + "+n+" + "+r+";","  ip += "+n+";","} else {","  end = ip + "+n+" + "+r+" + "+i+";","  ip += "+n+" + "+r+";","}","","break;"].join("\n")}return t.push(["function peg$decode(s) {","  var bc = new Array(s.length), i;","","  for (i = 0; i < s.length; i++) {","    bc[i] = s.charCodeAt(i) - 32;","  }","","  return bc;","}","","function peg$parseRule(index) {"].join("\n")),options.trace?t.push(["  var bc       = peg$bytecode[index],","      ip       = 0,","      ips      = [],","      end      = bc.length,","      ends     = [],","      stack    = [],","      startPos = peg$currPos,","      params, i;"].join("\n")):t.push(["  var bc    = peg$bytecode[index],","      ip    = 0,","      ips   = [],","      end   = bc.length,","      ends  = [],","      stack = [],","      params, i;"].join("\n")),t.push(indent2(generateRuleHeader("peg$ruleNames[index]","index"))),t.push(["  while (true) {","    while (ip < end) {","      switch (bc[ip]) {","        case "+op.PUSH+":","          stack.push(peg$consts[bc[ip + 1]]);","          ip += 2;","          break;","","        case "+op.PUSH_UNDEFINED+":","          stack.push(void 0);","          ip++;","          break;","","        case "+op.PUSH_NULL+":","          stack.push(null);","          ip++;","          break;","","        case "+op.PUSH_FAILED+":","          stack.push(peg$FAILED);","          ip++;","          break;","","        case "+op.PUSH_EMPTY_ARRAY+":","          stack.push([]);","          ip++;","          break;","","        case "+op.PUSH_CURR_POS+":","          stack.push(peg$currPos);","          ip++;","          break;","","        case "+op.POP+":","          stack.pop();","          ip++;","          break;","","        case "+op.POP_CURR_POS+":","          peg$currPos = stack.pop();","          ip++;","          break;","","        case "+op.POP_N+":","          stack.length -= bc[ip + 1];","          ip += 2;","          break;","","        case "+op.NIP+":","          stack.splice(-2, 1);","          ip++;","          break;","","        case "+op.APPEND+":","          stack[stack.length - 2].push(stack.pop());","          ip++;","          break;","","        case "+op.WRAP+":","          stack.push(stack.splice(stack.length - bc[ip + 1], bc[ip + 1]));","          ip += 2;","          break;","","        case "+op.TEXT+":","          stack.push(input.substring(stack.pop(), peg$currPos));","          ip++;","          break;","","        case "+op.IF+":",indent10(n("stack[stack.length - 1]",0)),"","        case "+op.IF_ERROR+":",indent10(n("stack[stack.length - 1] === peg$FAILED",0)),"","        case "+op.IF_NOT_ERROR+":",indent10(n("stack[stack.length - 1] !== peg$FAILED",0)),"","        case "+op.WHILE_NOT_ERROR+":",indent10((e="stack[stack.length - 1] !== peg$FAILED",["if ("+e+") {","  ends.push(end);","  ips.push(ip);","","  end = ip + 2 + bc[ip + 1];","  ip += 2;","} else {","  ip += 2 + bc[ip + 1];","}","","break;"].join("\n"))),"","        case "+op.MATCH_ANY+":",indent10(n("input.length > peg$currPos",0)),"","        case "+op.MATCH_STRING+":",indent10(n("input.substr(peg$currPos, peg$consts[bc[ip + 1]].length) === peg$consts[bc[ip + 1]]",1)),"","        case "+op.MATCH_STRING_IC+":",indent10(n("input.substr(peg$currPos, peg$consts[bc[ip + 1]].length).toLowerCase() === peg$consts[bc[ip + 1]]",1)),"","        case "+op.MATCH_REGEXP+":",indent10(n("peg$consts[bc[ip + 1]].test(input.charAt(peg$currPos))",1)),"","        case "+op.ACCEPT_N+":","          stack.push(input.substr(peg$currPos, bc[ip + 1]));","          peg$currPos += bc[ip + 1];","          ip += 2;","          break;","","        case "+op.ACCEPT_STRING+":","          stack.push(peg$consts[bc[ip + 1]]);","          peg$currPos += peg$consts[bc[ip + 1]].length;","          ip += 2;","          break;","","        case "+op.FAIL+":","          stack.push(peg$FAILED);","          if (peg$silentFails === 0) {","            peg$fail(peg$consts[bc[ip + 1]]);","          }","          ip += 2;","          break;","","        case "+op.LOAD_SAVED_POS+":","          peg$savedPos = stack[stack.length - 1 - bc[ip + 1]];","          ip += 2;","          break;","","        case "+op.UPDATE_SAVED_POS+":","          peg$savedPos = peg$currPos;","          ip++;","          break;","","        case "+op.CALL+":",indent10(["params = bc.slice(ip + 4, ip + 4 + bc[ip + 3]);","for (i = 0; i < bc[ip + 3]; i++) {","  params[i] = stack[stack.length - 1 - params[i]];","}","","stack.splice(","  stack.length - bc[ip + 2],","  bc[ip + 2],","  peg$consts[bc[ip + 1]].apply(null, params)",");","","ip += 4 + bc[ip + 3];","break;"].join("\n")),"","        case "+op.RULE+":","          stack.push(peg$parseRule(bc[ip + 1]));","          ip += 2;","          break;","","        case "+op.SILENT_FAILS_ON+":","          peg$silentFails++;","          ip++;","          break;","","        case "+op.SILENT_FAILS_OFF+":","          peg$silentFails--;","          ip++;","          break;","","        default:",'          throw new Error("Invalid opcode: " + bc[ip] + ".");',"      }","    }","","    if (ends.length > 0) {","      end = ends.pop();","      ip = ips.pop();","    } else {","      break;","    }","  }"].join("\n")),t.push(indent2(generateRuleFooter("peg$ruleNames[index]","stack[0]"))),t.push("}"),t.join("\n")}function generateRuleFunction(rule){var parts=[],code;function c(e){return"peg$c"+e}function s(e){return"s"+e}var stack={sp:-1,maxSp:-1,push:function(e){var t=s(++this.sp)+" = "+e+";";return this.sp>this.maxSp&&(this.maxSp=this.sp),t},pop:function(e){var t;return void 0===e?s(this.sp--):(t=arrays.map(arrays.range(this.sp-e+1,this.sp+1),s),this.sp-=e,t)},top:function(){return s(this.sp)},index:function(e){return s(this.sp-e)}};function compile(bc){var ip=0,end=bc.length,parts=[],value;function compileCondition(e,t){var n,r,i,o,s=t+3,a=bc[ip+s-2],u=bc[ip+s-1],c=stack.sp;if(ip+=s,n=compile(bc.slice(ip,ip+a)),i=stack.sp,ip+=a,u>0&&(stack.sp=c,r=compile(bc.slice(ip,ip+u)),o=stack.sp,ip+=u,i!==o))throw new Error("Branches of a condition must move the stack pointer in the same way.");parts.push("if ("+e+") {"),parts.push(indent2(n)),u>0&&(parts.push("} else {"),parts.push(indent2(r))),parts.push("}")}function compileLoop(e){var t,n,r=bc[ip+2-1],i=stack.sp;if(ip+=2,t=compile(bc.slice(ip,ip+r)),n=stack.sp,ip+=r,n!==i)throw new Error("Body of a loop can't move the stack pointer.");parts.push("while ("+e+") {"),parts.push(indent2(t)),parts.push("}")}function compileCall(){var e=bc[ip+4-1],t=c(bc[ip+1])+"("+arrays.map(bc.slice(ip+4,ip+4+e),function(e){return stack.index(e)}).join(", ")+")";stack.pop(bc[ip+2]),parts.push(stack.push(t)),ip+=4+e}for(;ip<end;)switch(bc[ip]){case op.PUSH:parts.push(stack.push(c(bc[ip+1]))),ip+=2;break;case op.PUSH_CURR_POS:parts.push(stack.push("peg$currPos")),ip++;break;case op.PUSH_UNDEFINED:parts.push(stack.push("void 0")),ip++;break;case op.PUSH_NULL:parts.push(stack.push("null")),ip++;break;case op.PUSH_FAILED:parts.push(stack.push("peg$FAILED")),ip++;break;case op.PUSH_EMPTY_ARRAY:parts.push(stack.push("[]")),ip++;break;case op.POP:stack.pop(),ip++;break;case op.POP_CURR_POS:parts.push("peg$currPos = "+stack.pop()+";"),ip++;break;case op.POP_N:stack.pop(bc[ip+1]),ip+=2;break;case op.NIP:value=stack.pop(),stack.pop(),parts.push(stack.push(value)),ip++;break;case op.APPEND:value=stack.pop(),parts.push(stack.top()+".push("+value+");"),ip++;break;case op.WRAP:parts.push(stack.push("["+stack.pop(bc[ip+1]).join(", ")+"]")),ip+=2;break;case op.TEXT:parts.push(stack.push("input.substring("+stack.pop()+", peg$currPos)")),ip++;break;case op.IF:compileCondition(stack.top(),0);break;case op.IF_ERROR:compileCondition(stack.top()+" === peg$FAILED",0);break;case op.IF_NOT_ERROR:compileCondition(stack.top()+" !== peg$FAILED",0);break;case op.WHILE_NOT_ERROR:compileLoop(stack.top()+" !== peg$FAILED",0);break;case op.MATCH_ANY:compileCondition("input.length > peg$currPos",0);break;case op.MATCH_STRING:compileCondition(eval(ast.consts[bc[ip+1]]).length>1?"input.substr(peg$currPos, "+eval(ast.consts[bc[ip+1]]).length+") === "+c(bc[ip+1]):"input.charCodeAt(peg$currPos) === "+eval(ast.consts[bc[ip+1]]).charCodeAt(0),1);break;case op.MATCH_STRING_IC:compileCondition("input.substr(peg$currPos, "+eval(ast.consts[bc[ip+1]]).length+").toLowerCase() === "+c(bc[ip+1]),1);break;case op.MATCH_REGEXP:compileCondition(c(bc[ip+1])+".test(input.charAt(peg$currPos))",1);break;case op.ACCEPT_N:parts.push(stack.push(bc[ip+1]>1?"input.substr(peg$currPos, "+bc[ip+1]+")":"input.charAt(peg$currPos)")),parts.push(bc[ip+1]>1?"peg$currPos += "+bc[ip+1]+";":"peg$currPos++;"),ip+=2;break;case op.ACCEPT_STRING:parts.push(stack.push(c(bc[ip+1]))),parts.push(eval(ast.consts[bc[ip+1]]).length>1?"peg$currPos += "+eval(ast.consts[bc[ip+1]]).length+";":"peg$currPos++;"),ip+=2;break;case op.FAIL:parts.push(stack.push("peg$FAILED")),parts.push("if (peg$silentFails === 0) { peg$fail("+c(bc[ip+1])+"); }"),ip+=2;break;case op.LOAD_SAVED_POS:parts.push("peg$savedPos = "+stack.index(bc[ip+1])+";"),ip+=2;break;case op.UPDATE_SAVED_POS:parts.push("peg$savedPos = peg$currPos;"),ip++;break;case op.CALL:compileCall();break;case op.RULE:parts.push(stack.push("peg$parse"+ast.rules[bc[ip+1]].name+"()")),ip+=2;break;case op.SILENT_FAILS_ON:parts.push("peg$silentFails++;"),ip++;break;case op.SILENT_FAILS_OFF:parts.push("peg$silentFails--;"),ip++;break;default:throw new Error("Invalid opcode: "+bc[ip]+".")}return parts.join("\n")}return code=compile(rule.bytecode),parts.push("function peg$parse"+rule.name+"() {"),options.trace?parts.push(["  var "+arrays.map(arrays.range(0,stack.maxSp+1),s).join(", ")+",","      startPos = peg$currPos;"].join("\n")):parts.push("  var "+arrays.map(arrays.range(0,stack.maxSp+1),s).join(", ")+";"),parts.push(indent2(generateRuleHeader('"'+js.stringEscape(rule.name)+'"',asts.indexOfRule(ast,rule.name)))),parts.push(indent2(code)),parts.push(indent2(generateRuleFooter('"'+js.stringEscape(rule.name)+'"',s(0)))),parts.push("}"),parts.join("\n")}function generateToplevel(){var e,t,n,r,i,o=[];return o.push(["function peg$subclass(child, parent) {","  function ctor() { this.constructor = child; }","  ctor.prototype = parent.prototype;","  child.prototype = new ctor();","}","","function peg$SyntaxError(message, expected, found, location) {","  this.message  = message;","  this.expected = expected;","  this.found    = found;","  this.location = location;",'  this.name     = "SyntaxError";',"",'  if (typeof Error.captureStackTrace === "function") {',"    Error.captureStackTrace(this, peg$SyntaxError);","  }","}","","peg$subclass(peg$SyntaxError, Error);","","peg$SyntaxError.buildMessage = function(expected, found) {","  var DESCRIBE_EXPECTATION_FNS = {","        literal: function(expectation) {",'          return "\\"" + literalEscape(expectation.text) + "\\"";',"        },","",'        "class": function(expectation) {','          var escapedParts = "",',"              i;","","          for (i = 0; i < expectation.parts.length; i++) {","            escapedParts += expectation.parts[i] instanceof Array",'              ? classEscape(expectation.parts[i][0]) + "-" + classEscape(expectation.parts[i][1])',"              : classEscape(expectation.parts[i]);","          }","",'          return "[" + (expectation.inverted ? "^" : "") + escapedParts + "]";',"        },","","        any: function(expectation) {",'          return "any character";',"        },","","        end: function(expectation) {",'          return "end of input";',"        },","","        other: function(expectation) {","          return expectation.description;","        }","      };","","  function hex(ch) {","    return ch.charCodeAt(0).toString(16).toUpperCase();","  }","","  function literalEscape(s) {","    return s","      .replace(/\\\\/g, '\\\\\\\\')","      .replace(/\"/g,  '\\\\\"')","      .replace(/\\0/g, '\\\\0')","      .replace(/\\t/g, '\\\\t')","      .replace(/\\n/g, '\\\\n')","      .replace(/\\r/g, '\\\\r')","      .replace(/[\\x00-\\x0F]/g,          function(ch) { return '\\\\x0' + hex(ch); })","      .replace(/[\\x10-\\x1F\\x7F-\\x9F]/g, function(ch) { return '\\\\x'  + hex(ch); });","  }","","  function classEscape(s) {","    return s","      .replace(/\\\\/g, '\\\\\\\\')","      .replace(/\\]/g, '\\\\]')","      .replace(/\\^/g, '\\\\^')","      .replace(/-/g,  '\\\\-')","      .replace(/\\0/g, '\\\\0')","      .replace(/\\t/g, '\\\\t')","      .replace(/\\n/g, '\\\\n')","      .replace(/\\r/g, '\\\\r')","      .replace(/[\\x00-\\x0F]/g,          function(ch) { return '\\\\x0' + hex(ch); })","      .replace(/[\\x10-\\x1F\\x7F-\\x9F]/g, function(ch) { return '\\\\x'  + hex(ch); });","  }","","  function describeExpectation(expectation) {","    return DESCRIBE_EXPECTATION_FNS[expectation.type](expectation);","  }","","  function describeExpected(expected) {","    var descriptions = new Array(expected.length),","        i, j;","","    for (i = 0; i < expected.length; i++) {","      descriptions[i] = describeExpectation(expected[i]);","    }","","    descriptions.sort();","","    if (descriptions.length > 0) {","      for (i = 1, j = 1; i < descriptions.length; i++) {","        if (descriptions[i - 1] !== descriptions[i]) {","          descriptions[j] = descriptions[i];","          j++;","        }","      }","      descriptions.length = j;","    }","","    switch (descriptions.length) {","      case 1:","        return descriptions[0];","","      case 2:",'        return descriptions[0] + " or " + descriptions[1];',"","      default:",'        return descriptions.slice(0, -1).join(", ")','          + ", or "',"          + descriptions[descriptions.length - 1];","    }","  }","","  function describeFound(found) {",'    return found ? "\\"" + literalEscape(found) + "\\"" : "end of input";',"  }","",'  return "Expected " + describeExpected(expected) + " but " + describeFound(found) + " found.";',"};",""].join("\n")),options.trace&&o.push(["function peg$DefaultTracer() {","  this.indentLevel = 0;","}","","peg$DefaultTracer.prototype.trace = function(event) {","  var that = this;","","  function log(event) {","    function repeat(string, n) {",'       var result = "", i;',"","       for (i = 0; i < n; i++) {","         result += string;","       }","","       return result;","    }","","    function pad(string, length) {",'      return string + repeat(" ", length - string.length);',"    }","",'    if (typeof console === "object") {',"      console.log(",'        event.location.start.line + ":" + event.location.start.column + "-"','          + event.location.end.line + ":" + event.location.end.column + " "','          + pad(event.type, 10) + " "','          + repeat("  ", that.indentLevel) + event.rule',"      );","    }","  }","","  switch (event.type) {",'    case "rule.enter":',"      log(event);","      this.indentLevel++;","      break;","",'    case "rule.match":',"      this.indentLevel--;","      log(event);","      break;","",'    case "rule.fail":',"      this.indentLevel--;","      log(event);","      break;","","    default:",'      throw new Error("Invalid event type: " + event.type + ".");',"  }","};",""].join("\n")),o.push(["function peg$parse(input, options) {","  options = options !== void 0 ? options : {};","","  var peg$FAILED = {},",""].join("\n")),"size"===options.optimize?(e="{ "+arrays.map(options.allowedStartRules,function(e){return e+": "+asts.indexOfRule(ast,e)}).join(", ")+" }",t=asts.indexOfRule(ast,options.allowedStartRules[0]),o.push(["      peg$startRuleIndices = "+e+",","      peg$startRuleIndex   = "+t+","].join("\n"))):(n="{ "+arrays.map(options.allowedStartRules,function(e){return e+": peg$parse"+e}).join(", ")+" }",r="peg$parse"+options.allowedStartRules[0],o.push(["      peg$startRuleFunctions = "+n+",","      peg$startRuleFunction  = "+r+","].join("\n"))),o.push(""),o.push(indent6(generateTables())),o.push(["","      peg$currPos          = 0,","      peg$savedPos         = 0,","      peg$posDetailsCache  = [{ line: 1, column: 1 }],","      peg$maxFailPos       = 0,","      peg$maxFailExpected  = [],","      peg$silentFails      = 0,",""].join("\n")),options.cache&&o.push(["      peg$resultsCache = {},",""].join("\n")),options.trace&&("size"===options.optimize&&(i="["+arrays.map(ast.rules,function(e){return'"'+js.stringEscape(e.name)+'"'}).join(", ")+"]",o.push(["      peg$ruleNames = "+i+",",""].join("\n"))),o.push(['      peg$tracer = "tracer" in options ? options.tracer : new peg$DefaultTracer(),',""].join("\n"))),o.push(["      peg$result;",""].join("\n")),"size"===options.optimize?o.push(['  if ("startRule" in options) {',"    if (!(options.startRule in peg$startRuleIndices)) {",'      throw new Error("Can\'t start parsing from rule \\"" + options.startRule + "\\".");',"    }","","    peg$startRuleIndex = peg$startRuleIndices[options.startRule];","  }"].join("\n")):o.push(['  if ("startRule" in options) {',"    if (!(options.startRule in peg$startRuleFunctions)) {",'      throw new Error("Can\'t start parsing from rule \\"" + options.startRule + "\\".");',"    }","","    peg$startRuleFunction = peg$startRuleFunctions[options.startRule];","  }"].join("\n")),o.push(["","  function text() {","    return input.substring(peg$savedPos, peg$currPos);","  }","","  function location() {","    return peg$computeLocation(peg$savedPos, peg$currPos);","  }","","  function expected(description, location) {","    location = location !== void 0 ? location : peg$computeLocation(peg$savedPos, peg$currPos)","","    throw peg$buildStructuredError(","      [peg$otherExpectation(description)],","      input.substring(peg$savedPos, peg$currPos),","      location","    );","  }","","  function error(message, location) {","    location = location !== void 0 ? location : peg$computeLocation(peg$savedPos, peg$currPos)","","    throw peg$buildSimpleError(message, location);","  }","","  function peg$literalExpectation(text, ignoreCase) {",'    return { type: "literal", text: text, ignoreCase: ignoreCase };',"  }","","  function peg$classExpectation(parts, inverted, ignoreCase) {",'    return { type: "class", parts: parts, inverted: inverted, ignoreCase: ignoreCase };',"  }","","  function peg$anyExpectation() {",'    return { type: "any" };',"  }","","  function peg$endExpectation() {",'    return { type: "end" };',"  }","","  function peg$otherExpectation(description) {",'    return { type: "other", description: description };',"  }","","  function peg$computePosDetails(pos) {","    var details = peg$posDetailsCache[pos], p;","","    if (details) {","      return details;","    } else {","      p = pos - 1;","      while (!peg$posDetailsCache[p]) {","        p--;","      }","","      details = peg$posDetailsCache[p];","      details = {","        line:   details.line,","        column: details.column","      };","","      while (p < pos) {","        if (input.charCodeAt(p) === 10) {","          details.line++;","          details.column = 1;","        } else {","          details.column++;","        }","","        p++;","      }","","      peg$posDetailsCache[pos] = details;","      return details;","    }","  }","","  function peg$computeLocation(startPos, endPos) {","    var startPosDetails = peg$computePosDetails(startPos),","        endPosDetails   = peg$computePosDetails(endPos);","","    return {","      start: {","        offset: startPos,","        line:   startPosDetails.line,","        column: startPosDetails.column","      },","      end: {","        offset: endPos,","        line:   endPosDetails.line,","        column: endPosDetails.column","      }","    };","  }","","  function peg$fail(expected) {","    if (peg$currPos < peg$maxFailPos) { return; }","","    if (peg$currPos > peg$maxFailPos) {","      peg$maxFailPos = peg$currPos;","      peg$maxFailExpected = [];","    }","","    peg$maxFailExpected.push(expected);","  }","","  function peg$buildSimpleError(message, location) {","    return new peg$SyntaxError(message, null, null, location);","  }","","  function peg$buildStructuredError(expected, found, location) {","    return new peg$SyntaxError(","      peg$SyntaxError.buildMessage(expected, found),","      expected,","      found,","      location","    );","  }",""].join("\n")),"size"===options.optimize?(o.push(indent2(generateInterpreter())),o.push("")):arrays.each(ast.rules,function(e){o.push(indent2(generateRuleFunction(e))),o.push("")}),ast.initializer&&(o.push(indent2(ast.initializer.code)),o.push("")),"size"===options.optimize?o.push("  peg$result = peg$parseRule(peg$startRuleIndex);"):o.push("  peg$result = peg$startRuleFunction();"),o.push(["","  if (peg$result !== peg$FAILED && peg$currPos === input.length) {","    return peg$result;","  } else {","    if (peg$result !== peg$FAILED && peg$currPos < input.length) {","      peg$fail(peg$endExpectation());","    }","","    throw peg$buildStructuredError(","      peg$maxFailExpected,","      peg$maxFailPos < input.length ? input.charAt(peg$maxFailPos) : null,","      peg$maxFailPos < input.length","        ? peg$computeLocation(peg$maxFailPos, peg$maxFailPos + 1)","        : peg$computeLocation(peg$maxFailPos, peg$maxFailPos)","    );","  }","}"].join("\n")),o.join("\n")}function generateWrapper(e){function t(){return["/*"," * Generated by PEG.js 0.10.0."," *"," * http://pegjs.org/"," */"].join("\n")}function n(){return options.trace?["{","  SyntaxError:   peg$SyntaxError,","  DefaultTracer: peg$DefaultTracer,","  parse:         peg$parse","}"].join("\n"):["{","  SyntaxError: peg$SyntaxError,","  parse:       peg$parse","}"].join("\n")}return{bare:function(){return[t(),"(function() {",'  "use strict";',"",indent2(e),"",indent2("return "+n()+";"),"})()"].join("\n")},commonjs:function(){var r=[],i=objects.keys(options.dependencies),o=arrays.map(i,function(e){return e+' = require("'+js.stringEscape(options.dependencies[e])+'")'});return r.push([t(),"",'"use strict";',""].join("\n")),o.length>0&&(r.push("var "+o.join(", ")+";"),r.push("")),r.push([e,"","module.exports = "+n()+";",""].join("\n")),r.join("\n")},amd:function(){var r=objects.values(options.dependencies),i=objects.keys(options.dependencies),o="["+arrays.map(r,function(e){return'"'+js.stringEscape(e)+'"'}).join(", ")+"]",s=i.join(", ");return[t(),"define("+o+", function("+s+") {",'  "use strict";',"",indent2(e),"",indent2("return "+n()+";"),"});",""].join("\n")},globals:function(){return[t(),"(function(root) {",'  "use strict";',"",indent2(e),"",indent2("root."+options.exportVar+" = "+n()+";"),"})(this);",""].join("\n")},umd:function(){var r=[],i=objects.values(options.dependencies),o=objects.keys(options.dependencies),s="["+arrays.map(i,function(e){return'"'+js.stringEscape(e)+'"'}).join(", ")+"]",a=arrays.map(i,function(e){return'require("'+js.stringEscape(e)+'")'}).join(", "),u=o.join(", ");return r.push([t(),"(function(root, factory) {",'  if (typeof define === "function" && define.amd) {',"    define("+s+", factory);",'  } else if (typeof module === "object" && module.exports) {',"    module.exports = factory("+a+");"].join("\n")),null!==options.exportVar&&r.push(["  } else {","    root."+options.exportVar+" = factory();"].join("\n")),r.push(["  }","})(this, function("+u+") {",'  "use strict";',"",indent2(e),"",indent2("return "+n()+";"),"});",""].join("\n")),r.join("\n")}}[options.format]()}ast.code=generateWrapper(generateToplevel())}module.exports=generateJS},{"../../utils/arrays":"Btp4","../../utils/objects":"Saqe","../asts":"ckuz","../opcodes":"TA/v","../js":"LEGa"}],eOkX:[function(require,module,exports){"use strict";var arrays=require("../utils/arrays"),objects=require("../utils/objects"),compiler={visitor:require("./visitor"),passes:{check:{reportUndefinedRules:require("./passes/report-undefined-rules"),reportDuplicateRules:require("./passes/report-duplicate-rules"),reportDuplicateLabels:require("./passes/report-duplicate-labels"),reportInfiniteRecursion:require("./passes/report-infinite-recursion"),reportInfiniteRepetition:require("./passes/report-infinite-repetition")},transform:{removeProxyRules:require("./passes/remove-proxy-rules")},generate:{generateBytecode:require("./passes/generate-bytecode"),generateJS:require("./passes/generate-js")}},compile:function(ast,passes,options){var stage;for(stage in options=void 0!==options?options:{},options=objects.clone(options),objects.defaults(options,{allowedStartRules:[ast.rules[0].name],cache:!1,dependencies:{},exportVar:null,format:"bare",optimize:"speed",output:"parser",trace:!1}),passes)passes.hasOwnProperty(stage)&&arrays.each(passes[stage],function(e){e(ast,options)});switch(options.output){case"parser":return eval(ast.code);case"source":return ast.code}}};module.exports=compiler},{"../utils/arrays":"Btp4","../utils/objects":"Saqe","./visitor":"N/0e","./passes/report-undefined-rules":"6Wkb","./passes/report-duplicate-rules":"nPjr","./passes/report-duplicate-labels":"nn7N","./passes/report-infinite-recursion":"50GR","./passes/report-infinite-repetition":"VZe4","./passes/remove-proxy-rules":"E6LJ","./passes/generate-bytecode":"9PmR","./passes/generate-js":"y0wl"}],LOSa:[function(e,t,n){"use strict";var r=e("./utils/arrays"),i=e("./utils/objects"),o={VERSION:"0.10.0",GrammarError:e("./grammar-error"),parser:e("./parser"),compiler:e("./compiler"),generate:function(e,t){t=void 0!==t?t:{};var n="plugins"in(t=i.clone(t))?t.plugins:[],s={parser:o.parser,passes:function(e){var t,n={};for(t in e)e.hasOwnProperty(t)&&(n[t]=i.values(e[t]));return n}(o.compiler.passes)};return r.each(n,function(e){e.use(s,t)}),o.compiler.compile(s.parser.parse(e),s.passes,t)}};t.exports=o},{"./utils/arrays":"Btp4","./utils/objects":"Saqe","./grammar-error":"RCHO","./parser":"DLue","./compiler":"eOkX"}],zrEC:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.default="\n// TODO: Clean up for null or empty array.\n// NOTE: &! is a custom peg.js transformation implemented in the custom loader.\n{\n    //const Long = require('long');\n    //const Ty = require('../type');\n  \n    const getStorageClassSpecifierFromSpecifiers = Ty.getStorageClassSpecifierFromSpecifiers;\n   \n    \n    function getDeclaratorIdentifierName(declarator) {\n        return declarator instanceof AST.IdentifierDeclarator ? declarator.identifier.name\n            : getDeclaratorIdentifierName(declarator.declarator);\n    }\n\n    function newPosition(position) {\n        // For compatibility with source map.\n        return new AST.Position(position.offset, position.line, position.column - 1);\n    }\n\n    function getLocation() {\n        const location_ = location();\n        return new AST.SourceLocation(options.fileName, text(), newPosition(location_.start), newPosition(location_.end));\n    }\n\n    function extractOptional(optional, index) {\n        return optional ? optional[index] : null;\n    }\n\n    function extractList(list, index) {\n        return list.map(element => element[index]);\n    }\n\n    function buildList(head, tail, index) {\n        return [head].concat(extractList(tail, index));\n    }\n\n    function buildBinaryExpression(head, tail) {\n        return tail.reduce((result, element) => new AST.BinaryExpression(getLocation(), element[1], result, element[3]), head);\n    }\n\n    /**\n     * @param {string} hexSequence\n     */\n    function parseUniversalCharacter(hexSequence) {\n        // SAFE_NUMBER: At most 0xFFFFFFFF.\n        const charCode = Number.parseInt(hexSequence, 16);\n        // The disallowed characters are the characters in the basic character set and the code positions reserved by\n        // ISO/IEC 10646 for control characters, the character DELETE, and the S-zone (reserved for use by UTF16).\n        if ((charCode >= 0x0000 && charCode <= 0x001F)\n                || (charCode >= 0x007F && charCode <= 0x009F)\n                || (charCode >= 0xD800 && charCode <= 0xDFFF)) {\n            error('Disallowed character in universal character name: 0x' + hexSequence, getLocation());\n        }\n        return String.fromCharCode(charCode);\n    }\n\n    let hasTypeSpecifier = false;\n\n    let scopeRoot = { parent: null, typedefNames: new Map() };\n    let currScope = scopeRoot;\n\n    function enterScope() {\n        currScope = { parent: currScope, typedefNames: new Map() };\n    }\n\n    function exitScope() {\n        currScope = currScope.parent;\n    }\n\n    function isTypedefName(name) {\n        let c = currScope;\n        while(c != null) {\n            if (c.typedefNames.has(name)) {\n                //console.log(name, 'is typedef name');\n                return c.typedefNames.get(name);\n            }\n            c = c.parent;\n        }\n        //console.log(name, 'is not typedef name');\n        return false;\n    }\n}\n\nStart\n    = TranslationUnit\n\n// ADDED\nWhiteSpace\n    = [ \\t\\n\\v\\f]\n\n// ADDED\n// The only white-space characters that shall appear between preprocessing tokens within a preprocessing directive (from\n// just after the introducing # preprocessing token through just before the terminating new-line character) are space\n// and horizontal-tab (including spaces that have replaced comments or possibly other white-space characters in\n// translation phase 3).\nPpWhiteSpace ''\n    = [ \\t\\v\\f]\n\n// ADDED\nComment 'comment'\n    = '/*' value:$(!'*/' .)* '*/' {\n        return new AST.MultiLineComment(getLocation(), value);\n    }\n    / '//' value:$[^\\n]* {\n        return new AST.SingleLineComment(getLocation(), value);\n    }\n\n// ADDED\n_ 'white space'\n    = ((!{ return options.preprocessing } WhiteSpace / PpWhiteSpace) / Comment)*\n\n// A.1 Lexical grammar\n\n// A.1.1 Lexical elements\n\n// UNUSED\nToken\n    = Keyword\n    / Identifier\n    / Constant\n    / StringLiteral\n    / Punctuator\n\n// REMOVED: HeaderName\nPreprocessingToken\n    = Identifier\n    / PpNumber\n    / CharacterConstant\n    / StringLiteral\n    / Punctuator\n    / PpChar\n\n// ADDED\nPpChar\n    = char:[^\\u0000-\\u007F] { //reject non-ascii char\n        error('Unsupported source code character ' + char + '.');\n    }\n    / [^ \\t\\r\\n\\v\\f] { // each non-white-space character that cannot be one of the above\n        return new AST.PpChar(getLocation(), text());\n    }\n\n// A.1.2 Keywords\n\n// UNUSED\n// REORDER\nKeyword\n    = ('auto'\n    / 'break'\n    / 'case'\n    / 'char'\n    / 'const'\n    / 'continue'\n    / 'default'\n    / 'double'\n    / 'do'\n    / 'else'\n    / 'enum'\n    / 'extern'\n    / 'float'\n    / 'for'\n    / 'goto'\n    / 'if'\n    / 'inline'\n    / 'int'\n    / 'long'\n    / 'register'\n    / 'restrict'\n    / 'return'\n    / 'short'\n    / 'signed'\n    / 'sizeof'\n    / 'static'\n    / 'struct'\n    / 'switch'\n    / 'typedef'\n    / 'union'\n    / 'unsigned'\n    / 'void'\n    / 'volatile'\n    / 'while'\n    / '_Alignas'\n    / '_Alignof'\n    / '_Atomic'\n    / '_Bool'\n    / '_Complex'\n    / '_Generic'\n    / '_Imaginary'\n    / '_Noreturn'\n    / '_Static_assert'\n    / '_Thread_local') !IdentifierPart {\n        return text();\n    }\n\n// A.1.3 Identifiers\n\nId\n    = (&{ return options.preprocessing } / !Keyword)head:IdentifierNondigit tail:IdentifierPart* {\n        return new AST.Identifier(getLocation(), head + tail.join(''));\n    }\n\nSingleIdentifier\n    = id:Id &{\n        return !isTypedefName(id.name)\n    } {\n        return id;\n    }\n    \nIdentifier \n    = 'operator' ope:OverloadOperator {\n        return new AST.Identifier(getLocation(), \"#\" + ope);\n    }\n    / isFullName:'::'? namespace:(Id '::')* name:SingleIdentifier {\n        let prefix = isFullName === \"::\" ? \"::\" : \"\";\n        name.name = prefix + namespace.map(x=>x[0].name+\"::\").join(\"\") + name.name;\n        return name;\n    }\n    / '~' name:TypedefName {\n        name.identifier.name = '~' + name.identifier.name;\n        return name.identifier;\n    }\n\n// ADDED\nIdentifierPart\n    = IdentifierNondigit\n    / Digit\n\n// REORDER: UniversalCharacterName / Nondigit\nIdentifierNondigit\n    = UniversalCharacterName\n    / Nondigit\n    // other implementation-defined characters\n\nNondigit\n    = [_a-zA-Z]\n\nDigit\n    = [0-9]\n\n// A.1.4 Universal character names\n\nUniversalCharacterName\n    = '\\\\u' hexQuad:$HexQuad {\n        return parseUniversalCharacter(hexQuad);\n    }\n    / '\\\\U' hexQuads:$(HexQuad HexQuad) {\n        return parseUniversalCharacter(hexQuads);\n    }\n\nHexQuad\n    = HexadecimalDigit HexadecimalDigit HexadecimalDigit HexadecimalDigit\n\n// A.1.5 Constants\n\n// REORDER: FloatingConstant / IntegerConstant\n// REMOVED: EnumerationConstant\nConstant\n    = FloatingConstant\n    / IntegerConstant\n    / CharacterConstant\n\nIntegerConstant\n    // REORDER: HexadecimalConstant / OctalConstant\n    = integer:(constant:(DecimalConstant / HexadecimalConstant / OctalConstant) {\n        return {\n            base: constant.base,\n            value: constant.value,\n            raw: text()\n        }\n        }) suffix:$IntegerSuffix? {\n        if (suffix.toLowerCase().includes('u')) {\n            integer.value.unsigned = true;\n        }\n        return new AST.IntegerConstant(getLocation(), integer.base, integer.value, integer.raw, suffix || null);\n    }\n\nDecimalConstant\n    = NonzeroDigit Digit* {\n        // SAFE_NUMBER: Using Long.\n        return {\n            base: 10,\n            value: Long.fromString(text())\n        };\n    }\n\nOctalConstant\n    = '0' digits:$OctalDigit* {\n        // SAFE_NUMBER: Using Long.\n        return {\n            base: 8,\n            value: digits.length ? Long.fromString(digits, 8) : Long.ZERO\n        };\n    }\n\nHexadecimalConstant\n    = HexadecimalPrefix digits:$HexadecimalDigit+ {\n        // SAFE_NUMBER: Using Long.\n        return {\n            base: 16,\n            value: Long.fromString(digits, 16)\n        };\n    }\n\nHexadecimalPrefix\n    = '0x'\n    / '0X'\n\nNonzeroDigit\n    = [1-9]\n\nOctalDigit\n    = [0-7]\n\nHexadecimalDigit\n    = [0-9a-fA-F]\n\nIntegerSuffix\n    = UnsignedSuffix (LongLongSuffix / LongSuffix)?\n    / (LongLongSuffix / LongSuffix) UnsignedSuffix?\n\nUnsignedSuffix\n    = [uU]\n\nLongSuffix\n    = [lL]\n\nLongLongSuffix\n    = 'll'\n    / 'LL'\n\nFloatingConstant\n    = DecimalFloatingConstant\n\nDecimalFloatingConstant\n    = raw:$((FractionalConstant ExponentPart?) / (DigitSequence ExponentPart)) suffix:$FloatingSuffix? {\n        // TODO: Check for NaN, Infinity, etc.\n        return new AST.FloatingConstant(getLocation(), Number.parseFloat(raw), raw, suffix || null);\n    }\n\n\nFractionalConstant\n    = DigitSequence '.' DigitSequence?\n    / '.' DigitSequence\n\nExponentPart\n    = [eE] Sign? DigitSequence\n\nSign\n    = [+\\-]\n\nDigitSequence\n    = Digit+\n\nHexadecimalFractionalConstant\n    = HexadecimalDigitSequence '.' HexadecimalDigitSequence?\n    / '.' HexadecimalDigitSequence\n\nBinaryExponentPart\n    = [pP] Sign? DigitSequence\n\nHexadecimalDigitSequence\n    = HexadecimalDigit+\n\nFloatingSuffix\n    = [flFL]\n\nCharacterConstant\n    = prefix:$[LuU]? '\\'' value:CCharSequence '\\'' {\n        return new AST.CharacterConstant(getLocation(), value, prefix || null);\n    }\n\nCCharSequence\n    = chars:CChar+ {\n        return chars.join('');\n    }\n\nCChar\n    = [^'\\\\\\n] // any member of the source character set except the single-quote ', backslash \\, or new-line character\n    / EscapeSequence\n\nEscapeSequence\n    = SimpleEscapeSequence\n    / OctalEscapeSequence\n    / HexadecimalEscapeSequence\n    / UniversalCharacterName\n\nSimpleEscapeSequence\n    = ('\\\\\\''\n    / '\\\\\"'\n    / '\\\\?'\n    / '\\\\\\\\') {\n        return text().charAt(1);\n    }\n    / '\\\\a' {\n        return '\\x07';\n    }\n    / '\\\\b' {\n        return '\\b';\n    }\n    / '\\\\f' {\n        return '\\f';\n    }\n    / '\\\\n' {\n        return '\\n';\n    }\n    / '\\\\r' {\n        return '\\r';\n    }\n    / '\\\\t' {\n        return '\\t';\n    }\n    / '\\\\v' {\n        return '\\v';\n    }\n\nOctalEscapeSequence\n    = '\\\\' digits:$(OctalDigit OctalDigit? OctalDigit?) {\n        // SAFE_NUMBER: At most 0777.\n        return String.fromCharCode(Number.parseInt(digits, 8));\n    }\n\nHexadecimalEscapeSequence\n    = '\\\\x' digits:$HexadecimalDigit+ {\n        // TODO: Guard against very long digits.\n        return String.fromCharCode(Number.parseInt(digits, 16));\n    }\n\n// A.1.6 String literals\n\n// MODIFIED: Support string literal concatenation.\n// In translation phase 6, the multibyte character sequences specified by any sequence of adjacent character and\n// identically-prefixed string literal tokens are concatenated into a single multibyte character sequence. If any of the\n// tokens has an encoding prefix, the resulting multibyte character sequence is treated as having the same prefix;\n// otherwise, it is treated as a character string literal. Whether differently-prefixed wide string literal tokens can\n// be concatenated and, if so, the treatment of the resulting multibyte character sequence are implementation-defined.\n// In translation phase 7, a byte or code of value zero is appended to each multibyte character sequence that results\n// from a string literal or literals. 78)\nStringLiteral\n    = head:SingleStringLiteral tail:(_ SingleStringLiteral)* {\n        return buildList(head, tail, 1).reduce((left, right) => {\n            let prefix = null;\n            if (left.prefix !== right.prefix) {\n                if (left.prefix) {\n                    if (right.prefix) {\n                        error('Unsupported non-standard concatenation of string literals');\n                    } else {\n                        prefix = left.prefix;\n                    }\n                } else {\n                    prefix = right.prefix;\n                }\n            } else {\n                prefix = left.prefix;\n            }\n            const value = left.value.slice(0, -1) + right.value;\n            return new AST.StringLiteral(getLocation(), prefix, value);\n        });\n    }\n\n// ADDED\nSingleStringLiteral\n    = prefix:$EncodingPrefix? '\"' value:SCharSequence? &!'\"' {\n        return new AST.StringLiteral(getLocation(), prefix || null, (value || '') + '\\0');\n    }\n\nEncodingPrefix\n    = 'u8'\n    / 'u'\n    / 'U'\n    / 'L'\n\nSCharSequence\n    = chars:SChar+ {\n        return chars.join('');\n    }\n\nSChar\n    = [^\"\\\\\\n] // any member of the source character set except the double-quote \", backslash \\, or new-line character\n    / EscapeSequence\n\n// A.1.7 Punctuators\n\n// REORDER\nPunctuator\n    = ('['\n    / ']'\n    / '('\n    / ')'\n    / '{'\n    / '}'\n    / '=='\n    / '!=' \n    / '...'\n    / '.'\n    / '->'\n    / '++'\n    / '--'\n    / '&&'\n    / '&'\n    / '*='\n    / '/='\n    / '%='\n    / '+='\n    / '-='\n    / '<<='\n    / '*'\n    / '+'\n    / '-'\n    / '~'\n    / '!'\n    / '/'\n    / '<%'\n    / '%>'\n    / '%:%:'\n    / '%:'\n    / '%'\n    / '<<'\n    / '>>'\n    / '<='\n    / '>='\n    / '<:'\n    / ':>'\n    / '<'\n    / '>'\n    / '?'\n    / ':'\n    / ';'\n    / '='\n    / ','\n    / '##'\n    / '#') {\n        return new AST.Punctuator(getLocation(), text());\n    }\n\nOverloadOperator\n    = '+' / '-' / '*' / '/' / '%' / '&' / '<' / '>' / '<=' / '>=' / '==' / '!=' \n    / '|' / '^' / '!' / '~' / '&&' / '||' / '>>' / '<<' / '++' / '--' \n    /'()' / '[]' / '->' \n    / AssignmentOperator\n\n// A.1.8 Header names\n\nHeaderName '<file name> or \\\"file name\\\"'\n    = '<' name:HCharSequence '>' {\n        return new AST.HeaderName(getLocation(), name, false);\n    }\n    / '\"' name:QCharSequence '\"' {\n        return new AST.HeaderName(getLocation(), name, true);\n    }\n\nHCharSequence\n    = chars:HChar+ {\n        return chars.join('');\n    }\n\nHChar\n    = [^\\n>] // any member of the source character set except the new-line character and >\n\nQCharSequence\n    = chars:QChar+ {\n        return chars.join('');\n    }\n\nQChar\n    = [^\\n\"] // any member of the source character set except the new-line character and \"\n\n// A.1.9 Preprocessing numbers\n\nPpNumber\n    = '.'? Digit (Digit / IdentifierNondigit / [eEpP] Sign / '.')* {\n        return new AST.PpNumber(getLocation(), text());\n    }\n\n// A.2 Phrase structure grammar\n\n// A.2.1 Expressions\n\nAndAnd\n    = '&&'\n\nSingleAnd\n    = '&'!'&'{\n        return text();\n    }\n\nPrimaryExpression\n    = Identifier\n    / Constant\n    / StringLiteral\n    / '(' _ expression:Expression _ &!')' {\n        return new AST.ParenthesisExpression(getLocation(), expression);\n    }\n    / ConstructorCall\n    \nConstructorCall \n    = name:TypedefName  _ '(' _ arguments_:ArgumentExpressionList? _ &!')' {\n        return new AST.ConstructorCallExpression(getLocation(), name, arguments_ || []);\n    } \n\nPostfixExpression\n    = head:PrimaryExpression tail:(_ (\n        '[' _ subscript:Expression _ &!']' {\n            return {\n                type: AST.SubscriptExpression,\n                arguments: [subscript]\n            };\n        }\n        / '(' _ arguments_:ArgumentExpressionList? _ &!')' {\n            return {\n                type: AST.CallExpression,\n                arguments: [arguments_ || []]\n            };\n        }\n        / operator:('.' / '->') _ member:Identifier {\n            return {\n                type: AST.MemberExpression,\n                arguments: [operator === '->', member]\n            };\n        }\n        / operator:('++' / '--') {\n            return {\n                type: AST.PostfixExpression,\n                arguments: [operator === '--']\n            };\n        }\n    ))* {\n        return extractList(tail, 1).reduce((result, element) => new element.type(getLocation(), result, ...element.arguments), head);\n    }\n\nArgumentExpressionList\n    = head:AssignmentExpression tail:(_ ',' _ AssignmentExpression)* {\n        return buildList(head, tail, 3);\n    }\n\nUnaryExpression\n    = operator:('++' / '--') _ operand:UnaryExpression {\n        return new AST.UnaryExpression(getLocation(), operator, operand);\n    }\n    / operator:UnaryOperator _ operand:CastExpression { //Hack: when parse '&' operator, the operator variable will be array of 2 elements\n        return new AST.UnaryExpression(getLocation(), operator[0], operand);\n    }\n    / operator:'sizeof' !IdentifierPart _ operand:UnaryExpression {\n        return new AST.UnaryExpression(getLocation(), operator, operand);\n    }\n    / operator:('sizeof' / '_Alignof') _ '(' _ operand:TypeName _ &!')' {\n        return new AST.UnaryExpression(getLocation(), operator, operand);\n    }\n    / PostfixExpression\n\nUnaryOperator\n    = [*+\\-~!]\n    / SingleAnd\n\nCastExpression\n    = '(' _ typeName:TypeName _ ')' _ operand:CastExpression {\n        return new AST.CastExpression(getLocation(), typeName, operand);\n    }\n    / UnaryExpression\n\nMultiplicativeExpression\n    = head:CastExpression tail:(_ [*/%] _ CastExpression)* {\n        return buildBinaryExpression(head, tail);\n    }\n\nAdditiveExpression\n    = head:MultiplicativeExpression tail:(_ [+\\-] _ MultiplicativeExpression)* {\n        return buildBinaryExpression(head, tail);\n    }\n\nShiftExpression\n    = head:AdditiveExpression tail:(_ ('<<' / '>>') _ AdditiveExpression)* {\n        return buildBinaryExpression(head, tail);\n    }\n\n// REORDER: '<=' / '>=' / '<' / '>'\nRelationalExpression\n    = head:ShiftExpression tail:(_ ('<=' / '>=' / '<' / '>') _ ShiftExpression)* {\n        return buildBinaryExpression(head, tail);\n    }\n\nEqualityExpression\n    = head:RelationalExpression tail:(_ ('==' / '!=') _ RelationalExpression)* {\n        return buildBinaryExpression(head, tail);\n    }\n\nAndExpression\n    = head:EqualityExpression tail:(_ SingleAnd _ EqualityExpression)* {\n        return buildBinaryExpression(head, tail);\n    }\n\nExclusiveOrExpression\n    = head:AndExpression tail:(_ '^' _ AndExpression)* {\n        return buildBinaryExpression(head, tail);\n    }\n\nInclusiveOrExpression\n    = head:ExclusiveOrExpression tail:(_ '|' _ ExclusiveOrExpression)* {\n        return buildBinaryExpression(head, tail);\n    }\n\nLogicalAndExpression\n    = head:InclusiveOrExpression tail:(_ AndAnd _ InclusiveOrExpression)* {\n        return buildBinaryExpression(head, tail);\n    }\n\nLogicalOrExpression\n    = head:LogicalAndExpression tail:(_ '||' _ LogicalAndExpression)* {\n        return buildBinaryExpression(head, tail);\n    }\n\nConditionalExpression\n    = test:LogicalOrExpression _ '?' _ consequent:Expression _ &!':' _ alternate:ConditionalExpression {\n        return new AST.ConditionalExpression(getLocation(), test, consequent, alternate);\n    }\n    / LogicalOrExpression\n\nAssignmentExpression\n    = left:UnaryExpression _ operator:AssignmentOperator _ right:AssignmentExpression {\n        return new AST.AssignmentExpression(getLocation(), operator, left, right);\n    }\n    / ConditionalExpression\n\nAssignmentOperator\n    = '=' !'=' {\n        return text();\n    }\n    / '*='\n    / '/='\n    / '%='\n    / '+='\n    / '-='\n    / '<<='\n    / '>>='\n    / '&='\n    / '^='\n    / '|='\n\nExpression\n    = head:AssignmentExpression tail:(_ ',' _ AssignmentExpression)* {\n        return buildBinaryExpression(head, tail);\n    }\n\nConstantExpression\n    = ConditionalExpression\n\n// A.2.2 Declarations\n\nDeclaration 'declaration'\n    = specifiers:DeclarationSpecifiers _ initDeclarators:InitDeclaratorList? _ ';' {\n        let declaration = new AST.Declaration(getLocation(), specifiers, initDeclarators || []);\n        try {\n            const storageClassSpecifier = getStorageClassSpecifierFromSpecifiers(declaration.specifiers, declaration);\n            let isTypedefName = storageClassSpecifier === 'typedef';\n            for (const initDeclarator of declaration.initDeclarators) {\n                const name = getDeclaratorIdentifierName(initDeclarator.declarator);\n                currScope.typedefNames.set(name, isTypedefName);\n            }\n        } catch (e) { /*hide error until at syntax-check */ }\n        return declaration;\n    }\n    / StaticAssertDeclaration\n\nDeclarationWithoutSemicolon\n    = specifiers:DeclarationSpecifiers _ initDeclarators:InitDeclaratorList?\n\nDeclarationMissingSemicolon 'declaration'\n    = DeclarationWithoutSemicolon {\n        error('Missing \\';\\' at end of declaration');\n    }\n\nDeclarationSpecifiers\n    = head:DeclarationSpecifier tail:(_ DeclarationSpecifier)* {\n        hasTypeSpecifier = false;\n        return buildList(head, tail, 1);\n    }\n\n// ADDED\n// REORDER: * / TypeSpecifier\nDeclarationSpecifier\n    = StorageClassSpecifier\n    / TypeQualifier\n    / FunctionSpecifier\n    / AlignmentSpecifier\n    / TypeSpecifier\n\nInitDeclaratorList\n    = head:InitDeclarator tail:(_ ',' _ InitDeclarator)* {\n        return buildList(head, tail, 3);\n    }\n\nInitDeclarator\n    = declarator:Declarator initializer:CppInitializer? {\n        return new AST.InitDeclarator(getLocation(), declarator, initializer || null);\n    }\n    \nCppInitializer\n    = _'=' _ init:Initializer{\n        return init;\n    }\n    / _ '(' _ arguments_:ArgumentExpressionList? _ &!')' {\n        return new AST.ObjectInitializer(getLocation(),  arguments_ || []);  \n    }\n    \n\nStorageClassSpecifier\n    = ('typedef'\n    / 'extern'\n    / 'static'\n    / 'virtual'\n    / '_Thread_local'\n    / 'auto'\n    / 'register') !IdentifierPart {\n        return text();\n    }\n\nTypeSpecifier\n    = typeSpecifier:(('void'\n    / 'char'\n    / 'short'\n    / 'int'\n    / 'long'\n    / 'float'\n    / 'double'\n    / 'signed'\n    / 'unsigned'\n    / 'bool'\n    / '_Complex') !IdentifierPart {\n        return text();\n    }\n    / AtomicTypeSpecifier\n    / StructOrUnionSpecifier\n    / EnumSpecifier\n    / (!{\n        return hasTypeSpecifier;\n    } typedefName:TypedefName {\n        return typedefName;\n    })) {\n        hasTypeSpecifier = true;\n        return typeSpecifier;\n    }\n    \nTypedIdentifier\n    = identifier:Identifier{\n        if( options.isCpp ) { currScope.typedefNames.set(identifier.name, true); }\n        return identifier;\n    }\n    \nInheritSpecifier\n    = lb:AccessControlLabels? _ className:TypedefName{\n        return new AST.InheritSpecifier(getLocation(), lb || \"\", className);\n    }\n    \nInheritSpecifierList \n    = ':' _ head:InheritSpecifier tail:(_ ',' _ InheritSpecifier)* {\n        return buildList(head, tail, 1);\n    }\n\n\nStructOrUnionSpecifier\n    = structOrUnion:StructOrUnion _ identifier:TypedIdentifier _ ih:InheritSpecifierList? _ '{' _ declarations:StructDeclarationList? _ '}' {\n        return new AST.StructOrUnionSpecifier(getLocation(), structOrUnion, identifier, declarations || [] , ih || []);\n    }\n    / structOrUnion:StructOrUnion _ identifier:TypedIdentifier {\n        return new AST.StructOrUnionSpecifier(getLocation(), structOrUnion, identifier, null, []);\n    }\n\nStructOrUnion\n    = ('struct' / 'class' / 'union') !IdentifierPart {\n        return text();\n    }\n\nStructDeclarationList\n    = head:StructDeclaration tail:(_ StructDeclaration)* {\n        return buildList(head, tail, 1);\n    }\n\nAccessControlLabels = 'public' / 'private' / 'protect'\n\nStructDeclaration\n    = id:TypedefName _ '(' _ param:ParameterList? _ ')' _ initList:ConstructorInitializeList? _ body:CompoundStatement{\n        return new AST.ConstructorOrDestructorDeclaration(getLocation(), true, id, param, initList || [], body);\n    }\n    / id:TypedefName _ '(' _ param:ParameterList? _ ')' _ initList:ConstructorInitializeList? _ ';'{\n        return new AST.ConstructorOrDestructorDeclaration(getLocation(), true, id, param, initList || [], null);\n    }\n    / '~' id:TypedefName _ '(' _ ')' _ body:CompoundStatement{\n        return new AST.ConstructorOrDestructorDeclaration(getLocation(), false, id, null, null, body);\n    }\n    / '~' id:TypedefName _ '(' _ ')' _ ';'{\n        return new AST.ConstructorOrDestructorDeclaration(getLocation(), false, id, null, null, null);\n    }\n    / label:AccessControlLabels _ ':' {\n        return new AST.AccessControlLabel(getLocation(), label); \n    }\n    / decl:ExternalDeclaration {\n        return decl;\n    }\n    \nConstructorInitializeList\n    = ':' _ head:ConstructorInitializeItem _ tail:(_ ',' _ ConstructorInitializeItem)* {\n         return buildList(head, tail, 3);\n    }\n\nConstructorInitializeItem\n    = key:Identifier _ '(' _ value:ArgumentExpressionList _ ')' {\n        return new AST.ConstructorInitializeItem(getLocation(), key, value);\n    }\n    / key:TypedefName _ '(' _ value:ArgumentExpressionList _ ')' {\n        return new AST.ConstructorInitializeItem(getLocation(), key, value);\n    }\n\nSpecifierQualifierList\n    = head:SpecifierQualifier tail:(_ SpecifierQualifier)* {\n        hasTypeSpecifier = false;\n        return buildList(head, tail, 1);\n    }\n\n// ADDED\n// REORDER: TypeQualifier / TypeSpecifier\nSpecifierQualifier\n    = TypeQualifier\n    / TypeSpecifier\n\nStructDeclaratorList\n    = head:StructDeclarator tail:(_ ',' _ StructDeclarator)* {\n        return buildList(head, tail, 3);\n    }\n\nStructDeclarator\n    = ':' _ width:ConstantExpression {\n        return new AST.StructDeclarator(getLocation(), null, width, null);\n    }\n    / declarator:Declarator _ initDeclarators:InitDeclaratorList? width:(_ ':' _ ConstantExpression)? {\n        return new AST.StructDeclarator(getLocation(), declarator, extractOptional(width, 3), initDeclarators);\n    }\n\nEnumSpecifier\n    = 'enum' !IdentifierPart _ identifier:Identifier? _ '{' _ enumerators:EnumeratorList _ ','? _ &!'}' {\n        return new AST.EnumSpecifier(getLocation(), identifier, enumerators);\n    }\n    / 'enum' !IdentifierPart _ identifier:Identifier {\n        return new AST.EnumSpecifier(getLocation(), identifier, null);\n    }\n\nEnumeratorList\n    = head:Enumerator tail:(_ comma:','? _ enumerator:Enumerator)* {\n        return buildList(head, tail, 3);\n    }\n\n// MODIFICATION: EnumerationConstant => Identifier\nEnumerator\n    = identifier:Identifier value:(_ '=' _ ConstantExpression)? {\n        return new AST.Enumerator(getLocation(), identifier, extractOptional(value, 3));\n    }\n\nAtomicTypeSpecifier\n    = '_Atomic' _ '(' _ typeName:TypeName _ &!')' {\n        return new AST.AtomicTypeSpecifier(getLocation(), typeName);\n    }\n\nTypeQualifier\n    = ('const'\n    / 'restrict'\n    / 'volatile'\n    / '_Atomic') !IdentifierPart {\n        return text();\n    }\n\nFunctionSpecifier\n    = ('inline'\n    / '_Noreturn'\n    / '__libcall') !IdentifierPart {\n        return text();\n    }\n\n// TODO: Reorder: ? TypeName / ConstantExpression\nAlignmentSpecifier\n    = '_Alignas' _ &!'(' _ alignment:(TypeName / ConstantExpression) _ &!')' {\n        return new AST.AlignmentSpecifier(getLocation(), alignment);\n    }\n\nDeclarator\n    = pointer:(Pointer _)? declarator:DirectDeclarator {\n        return pointer ? new AST.PointerDeclarator(getLocation(), declarator, extractOptional(pointer, 0)) : declarator;\n    }\n \nDirectDeclarator\n    = head:(identifier:Identifier {\n        return new AST.IdentifierDeclarator(getLocation(), identifier);\n    } / '(' _ declarator:Declarator _ &!')' {\n        return declarator;\n    } ) tail:(_ (\n        '[' _ qualifiers:TypeQualifierList? _ length:AssignmentExpression? _ &!']' {\n            return {\n                location: getLocation(),\n                type: AST.ArrayDeclarator,\n                arguments: [false, qualifiers || [], length, false]\n            };\n        }\n        / '[' _ 'static' !IdentifierPart _ qualifiers:TypeQualifierList? _ length:AssignmentExpression _ &!']' {\n            return {\n                location: getLocation(),\n                type: AST.ArrayDeclarator,\n                arguments: [true, qualifiers || [], length, false]\n            };\n        }\n        / '[' _ qualifiers:TypeQualifierList _ 'static' !IdentifierPart _ length:AssignmentExpression _ &!']' {\n            return {\n                location: getLocation(),\n                type: AST.ArrayDeclarator,\n                arguments: [true, qualifiers, length, false]\n            };\n        }\n        / '[' _ qualifiers:TypeQualifierList? _ '*' _ &!']' {\n            return {\n                location: getLocation(),\n                type: AST.ArrayDeclarator,\n                arguments: [false, qualifiers || [], null, true]\n            };\n        }\n        / '(' _ parameters: ParameterList? _ ')' {\n            return {\n                location: getLocation(),\n                type: AST.FunctionDeclarator,\n                arguments: [parameters || new AST.ParameterList(getLocation())]\n            }\n        }\n    ))* {\n        return extractList(tail, 1).reduce((result, element) => new element.type(element.location, result, ...element.arguments), head);\n    }\n\nPointer\n    = '*' _ qualifiers:TypeQualifierList? _ pointer:Pointer? {\n        return new AST.Pointer(getLocation(), qualifiers || [], pointer, '*');\n    }\n    /\n    '&' _ qualifiers:TypeQualifierList? _ pointer:Pointer? {\n        return new AST.Pointer(getLocation(), qualifiers || [], pointer, '&');\n    }\n    /\n    '&&' _ qualifiers:TypeQualifierList? _ pointer:Pointer? {\n        return new AST.Pointer(getLocation(), qualifiers || [], pointer, '&&');\n    }\n\nTypeQualifierList\n    = head:TypeQualifier tail:(_ TypeQualifier)* {\n        return buildList(head, tail, 1);\n    }\n\n// MERGED: ParameterTypeList => ParameterList\nParameterList\n    = head:ParameterDeclaration tail:(_ ',' _ ParameterDeclaration)* ellipsis:(_ ',' _ '...')? {\n        return new AST.ParameterList(getLocation(), buildList(head, tail, 3), !!ellipsis);\n    }\n\nParameterDeclaration\n    = specifiers:DeclarationSpecifiers _ declarator:(Declarator / AbstractDeclarator)? {\n        return new AST.ParameterDeclaration(getLocation(), specifiers, declarator);\n    }\n\nIdentifierList\n    = head:Identifier tail:(_ ',' _ Identifier)* {\n        return buildList(head, tail, 3);\n    }\n\nTypeName\n    = specifierQualifiers:SpecifierQualifierList _ declarator:AbstractDeclarator? {\n        return new AST.TypeName(getLocation(), specifierQualifiers, declarator)\n    }\n\nAbstractDeclarator\n    = pointer:Pointer declarator:(_ DirectAbstractDeclarator)? {\n        return new AST.AbstractPointerDeclarator(getLocation(), null, pointer, extractOptional(declarator, 1));\n    }\n    / declarator:DirectAbstractDeclarator {\n        return declarator;\n    }\n\nDirectAbstractDeclarator\n    = head:(\n        '(' _ declarator:AbstractDeclarator _ &!')' {\n            return declarator;\n        }\n        / element:DirectAbstractDeclaratorElement {\n            return new element.type(getLocation(), null, ...element.arguments)\n        }\n    ) tail:(_ DirectAbstractDeclaratorElement)* {\n        return extractList(tail, 1).reduce((result, element) => new element.type(element.location, result, ...element.arguments), head);\n    }\n\n// ADDED\nDirectAbstractDeclaratorElement\n    = '[' _ qualifiers:TypeQualifierList? _ length:AssignmentExpression? _ &!']' {\n        return {\n            location: getLocation(),\n            type: AST.AbstractArrayDeclarator,\n            arguments: [false, qualifiers || [], length, false]\n        };\n    }\n    / '[' _ 'static' !IdentifierPart _ qualifiers:TypeQualifierList? _ length:AssignmentExpression _ &!']' {\n        return {\n            location: getLocation(),\n            type: AST.AbstractArrayDeclarator,\n            arguments: [true, qualifiers || [], length, false]\n        };\n    }\n    / '[' _ qualifiers:TypeQualifierList _ 'static' !IdentifierPart _ length:AssignmentExpression _ &!']' {\n        return {\n            location: getLocation(),\n            type: AST.AbstractArrayDeclarator,\n            arguments: [true, qualifiers, length, false]\n        };\n    }\n    / '[' _ '*' _ &!']' {\n        return {\n            location: getLocation(),\n            type: AST.AbstractArrayDeclarator,\n            arguments: [false, [], null, true]\n        };\n    }\n    / '(' _ parameters:ParameterList? _ &!')' {\n        return {\n            location: getLocation(),\n            type: AST.AbstractFunctionDeclarator,\n            arguments: [parameters || new AST.ParameterList(getLocation())]\n        }\n    }\n\nTypedefName\n    =  identifier:Id &{ //precondition\n        return isTypedefName(identifier.name);\n    } {\n        return new AST.TypedefName(getLocation(), identifier);\n    }\n\nInitializer\n    = AssignmentExpression\n    / '{' _ initializerList:InitializerList _ ','? _ &!'}' {\n        return initializerList;\n    }\n\nInitializerList\n    = head:InitializerListItem tail:(_ ',' _ InitializerListItem)* {\n        return new AST.InitializerList(getLocation(), buildList(head, tail, 3));\n    }\n\n// ADDED\nInitializerListItem\n    = designators:(Designation _)? initializer:Initializer {\n        return new AST.InitializerListItem(getLocation(), extractOptional(designators, 0) || [], initializer);\n    }\n\nDesignation\n    = designators:DesignatorList _ '=' {\n        return designators;\n    }\n\nDesignatorList\n    = head:Designator tail:(_ Designator)* {\n        return buildList(head, tail, 1);\n    }\n\nDesignator\n    = '[' _ subscript:ConstantExpression _ &!']' {\n        return new AST.SubscriptDesignator(getLocation(), subscript);\n    }\n    / '.' _ member:Identifier {\n        return new AST.MemberDesignator(getLocation(), member);\n    }\n\nStaticAssertDeclaration\n    = '_Static_assert' _ &!'(' _ test:ConstantExpression _ &!',' _ message:StringLiteral _ &!')' _ &!';' {\n        return new AST.StaticAssertDeclaration(getLocation(), test, message);\n    }\n\n// A.2.3 Statements\n\n// REORDER: CaseStatement, * / CompoundStatement / LabeledStatement / ExpressionStatement\nStatement\n    = CaseStatement\n    / SelectionStatement\n    / IterationStatement\n    / JumpStatement\n    / CompoundStatement\n    / LabeledStatement\n    / ExpressionStatement\n\n// ADDED\nCaseStatement\n    = 'case' !IdentifierPart _ test:ConstantExpression _ &!':' _ body:Statement {\n        return new AST.CaseStatement(getLocation(), test, body);\n    }\n    / 'default' !IdentifierPart _ &!':' _ body:Statement {\n        return new AST.CaseStatement(getLocation(), null, body)\n    }\n\n// MODIFICATION: No case or default.\nLabeledStatement\n    = label:Identifier _ ':' _ body:Statement {\n        return new AST.LabeledStatement(getLocation(), label, body);\n    }\n\nLeftBrace\n    = '{' {\n        enterScope();\n        return getLocation();\n    }\n\nRightBrace\n    = &!'}' {\n        exitScope();\n        return getLocation();\n    }\n\nCompoundStatement\n    = left:LeftBrace _ body:BlockItemList? _ right:RightBrace {\n        return new AST.CompoundStatement(getLocation(), left, right, body || []);\n    }\n\nBlockItemList\n    = head:BlockItem tail:(_ BlockItem)* {\n        return buildList(head, tail, 1);\n    }\n\nBlockItem\n    = Statement\n    / Declaration\n    / Expression { // ExpressionStatementMissingSemicolon\n        error('Missing \\';\\' at end of statement');\n    }\n    / DeclarationMissingSemicolon\n\nExpressionStatement\n    = expression:(Expression _)? ';' {\n        return expression ? new AST.ExpressionStatement(getLocation(), extractOptional(expression, 0))\n                : new AST.NullStatement(getLocation());\n    }\n\nSelectionStatement\n    = 'if' !IdentifierPart _ &!'(' _ test:Expression _ &!')' _ consequent:Statement alternate:(_ 'else' !IdentifierPart _ Statement)? {\n        return new AST.IfStatement(getLocation(), test, consequent, extractOptional(alternate, 4));\n    }\n    / 'switch' !IdentifierPart _ &!'(' _ discriminant:Expression _ &!')' _ body:Statement {\n        return new AST.SwitchStatement(getLocation(), discriminant, body);\n    }\n\nIterationStatement\n    = 'while' !IdentifierPart _ &!'(' _ test:Expression _ &!')' _ body:Statement {\n        return new AST.WhileStatement(getLocation(), test, body);\n    }\n    / 'do' !IdentifierPart _ body:Statement _ 'while' !IdentifierPart _ &!'(' _ test:Expression _ &!')' _ &!';' {\n        return new AST.DoWhileStatement(getLocation(), body, test);\n    }\n    / 'for' !IdentifierPart _ &!'(' _ init:(Declaration / expression:Expression? _ ';' {\n        return expression;\n    } / (DeclarationWithoutSemicolon / Expression) {\n        error('Missing \\';\\'');\n    }) _ test:Expression? _ &!';' _ update:Expression? _ &!')' _ body:Statement {\n        return new AST.ForStatement(getLocation(), init, test, update, body);\n    }\n\nJumpStatement\n    = 'goto' !IdentifierPart _ label:Identifier _ &!';' {\n        return new AST.GotoStatement(getLocation(), label);\n    }\n    / 'continue' !IdentifierPart _ &!';' {\n        return new AST.ContinueStatement(getLocation());\n    }\n    / 'break' !IdentifierPart _ &!';' {\n        return new AST.BreakStatement(getLocation());\n    }\n    / 'return' !IdentifierPart _ argument:Expression? _ &!';' {\n        return new AST.ReturnStatement(getLocation(), argument);\n    }\n\n// A.2.4 External definitions\n\nTranslationUnit \n    = list:ExternalDeclarationList{\n        return new AST.TranslationUnit(getLocation(), list);\n    }\nExternalDeclarationList\n    = _ head:ExternalDeclaration tail:(_ ExternalDeclaration)* _ {\n        return buildList(head, tail, 1);\n    }\n\n// REORDER: Declaration / FunctionDefinition (Don't know if necessary)\nExternalDeclaration\n    = Declaration\n    / FunctionDefinition\n    / DeclarationMissingSemicolon\n    / UsingStatements\n    / 'namespace' _ name:Identifier _ '{' _ list:ExternalDeclarationList? _'}'{\n        currScope.typedefNames.set(name.name, true); \n        return AST.NamespaceBlock(getLocation(), name, list || []);\n    }\n    \nUsingStatements \n    = 'using' _ name:Identifier _ '=' _ decl:AbstractDeclarator _ ';'{\n        currScope.typedefNames.set(name.name, true); \n        return new AST.UsingStatement(getLocation(), name, decl);\n    }\n    / 'using' _ 'namespace' _ name:TypedefName _ ';'{\n        currScope.typedefNames.set(name.name, true); \n        return new AST.UsingNamespaceStatement(getLocation(), name);\n    } \n\nFunctionDefinition 'function definition'\n    = specifiers:DeclarationSpecifiers _ declarator:Declarator _ declarations:DeclarationList? _ body:CompoundStatement {\n        return new AST.FunctionDefinition(getLocation(), specifiers, declarator, declarations, body);\n    }\n\nDeclarationList\n    = head:Declaration tail:(_ Declaration)* {\n        return buildList(head, tail, 1);\n    }\nTryBlock\n    = 'try' _ body:CompoundStatement _ handlers:HandlerSeq {\n        return new AST.TryBlock(getLocation(), body, handlers);\n    }\n    \nHandlerSeq\n    = head:ExceptionHandler tail:(_ ExceptionHandler)* {\n        return buildList(head, tail, 1);\n    }\n    \nExceptionHandler\n    = 'catch' _ '(' _ decl:ExceptionDeclaration _ ')' _ body:CompoundStatement {\n        return new AST.ExceptionHandler(getLocation(), decl, body);\n    }\n    \nExceptionDeclaration \n \t= specifiers:DeclarationSpecifiers _ declarator:Declarator {\n \t    return new AST.ExceptionDeclaration(getLocation(), specifiers, declarator);\n \t}\n \t/ specifiers:DeclarationSpecifiers _ declarator:AbstractDeclarator {\n \t    return new AST.ExceptionDeclaration(getLocation(), specifiers, declarator);\n \t}\n \t\nThrowExpression \n \t= 'throw' _ body:AssignmentExpression? {\n \t    return new AST.ThrowExpression(getLocation(), body);\n \t}\n// A.3 Preprocessing directives\n"},{}],"4ugX":[function(require,module,exports){var global=arguments[3],__importStar=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t},__importDefault=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(exports,"__esModule",{value:!0});const fs=__importStar(require("fs")),Long_=__importStar(require("long")),PegJs=__importStar(require("pegjs")),CTree_=__importStar(require("../common/ast")),error_1=require("../common/error"),c_lang_1=__importDefault(require("./c.lang")),storageClassSpecifierStringToEnum=["typedef","extern","static","_Thread_local","auto","register"];function getStorageClassSpecifierFromSpecifiers(e,t){const n=[];for(const t of e)"string"==typeof t&&storageClassSpecifierStringToEnum.includes(t)&&n.push(t);if(!(n.length<2||2===n.length&&n.includes("_Thread_local")&&(n.includes("static")||n.includes("extern"))))throw new error_1.TypeError("Multiple storage classes in declaration specifiers",t);if(n.includes("_Thread_local"))throw new error_1.TypeError("Unsupported: '_Thread_local' is not supported",t);if(n.includes("register"))throw new error_1.TypeError("Unsupported: 'register' is not supported",t);return n[0]||null}function loadParser(source,query){const Long=Long_,Ty={getStorageClassSpecifierFromSpecifiers:getStorageClassSpecifierFromSpecifiers},AST=CTree_;if(void 0===global.window&&fs.existsSync("/tmp/"+query.parserName+".js")){const e=fs.readFileSync("/tmp/"+query.parserName+".js","utf8")}source=source.replace(/&!'((\\.|[^'])*)'/g,(e,t)=>`(expected:'${t}'? {\n        if (!expected) {${t.includes("}")?"/*{*/":""}\n            error('Missing \\'${t}\\'');\n        }\n        return expected;\n    })`),query.output="source",query.cache=!!query.cache,query.optimize=query.optimize||"speed",query.trace=!!query.trace,"string"==typeof query.allowedStartRules&&(query.allowedStartRules=[query.allowedStartRules]);const code=PegJs.generate(source,query);return eval(code)}exports.getStorageClassSpecifierFromSpecifiers=getStorageClassSpecifierFromSpecifiers;const ConstantExpressionPegParser=loadParser(c_lang_1.default,{parserName:"ConstantExpression",allowedStartRules:"ConstantExpression"}),TranslationUnitPegParser=loadParser(c_lang_1.default,{parserName:"TranslationUnitPegParser"});function wrapPegParser(e){return{parse(t,n){try{return e.parse(t,n)}catch(t){throw t instanceof e.SyntaxError?new error_1.SyntaxError(t.message,{location:t.location}):t}}}}exports.ConstantExpressionParser=wrapPegParser(ConstantExpressionPegParser),exports.CParser=wrapPegParser(TranslationUnitPegParser)},{fs:"d8y9",long:"YvD4",pegjs:"LOSa","../common/ast":"URi4","../common/error":"nOPH","./c.lang":"zrEC"}],WBcs:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0});const r=e("source-map"),i=e("../common/error"),o=e("./index");!function(e){e[e.ON_IF=0]="ON_IF",e[e.ON_ELSE=1]="ON_ELSE"}(n.PreprocessStatus||(n.PreprocessStatus={}));n.PreprocessContext=class PreprocessContext{constructor(e,t){this.sourceFileName=e,this.generatedFileName=e.replace(".cpp",".ii"),this.node=new r.SourceNode(1,0,this.generatedFileName),this.marcoMap=t,this.skipBlock=!1,this.status=[],this.targetLine=0,this.targetColumn=0,this.onMultiLineComment=!1}defineMarco(e,t,n){if(n=n.trim(),this.marcoMap.has(e))throw new i.PreprocessError(`marco ${e} is already defined`);if(null===t){const r=o.parseMarco([],n);this.marcoMap.set(e,{name:e,parameters:t,target:n,parsedTarget:r})}else{const r=o.parseMarco(t,n);this.marcoMap.set(e,{name:e,parameters:t,target:n,parsedTarget:r})}}undefineMarco(e){if(!this.marcoMap.has(e))throw new i.PreprocessError(`marco ${e} is not defined`);this.marcoMap.delete(e)}append(e,t){this.node.add(new r.SourceNode(t.line+1,t.column,this.sourceFileName,e))}}},{"source-map":"aRf0","../common/error":"nOPH","./index":"DY6N"}],DY6N:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0});const r=e("../common/error"),i=e("../library"),o=e("./context");function s(e,t,n){const s=t.split(/\s|<|"/);if("#define"===s[0]){if(!e.skipBlock){const n=/#define\s+([a-zA-Z0-9_]+)\s*(\(([^)]*)\))?\s*(\s.+)?\s*$/.exec(t);if(!n)throw new r.PreprocessError(`illegal define: ${t}`);if(n[3]&&n[4]){const t=n[3].split(",").map(e=>e.trim());e.defineMarco(n[1],t,n[4])}else n[4]?e.defineMarco(n[1],null,n[4]):e.defineMarco(n[1],null,"")}}else if("#undef"===s[0]){if(!e.skipBlock){if(2!==s.length)throw new r.PreprocessError(`illegal undefine: ${t}`);e.undefineMarco(s[1])}}else if("#include"===s[0]){if(!e.skipBlock){let o="";if(t.includes('"')){const e=/"(.*)"/.exec(t);if(!e||!e[1])throw new r.PreprocessError(`illegal include: ${t}`);o=e[1]}else{const e=/<(.*)>/.exec(t);if(!e||!e[1])throw new r.PreprocessError(`illegal include: ${t}`);o=e[1]}const s=i.Headers.get(o);if(!s)throw new r.PreprocessError(`header ${o} does not exist`);const{code:a}=l(o,s,e.marcoMap);e.append(a,{line:n,column:0})}}else{if("#if"===s[0])throw new r.PreprocessError("unsupport #if");if("#elif"===s[0])throw new r.PreprocessError("unsupport #elif");if("#ifdef"===s[0])e.marcoMap.has(s[1])?(e.skipBlock=!1,e.status.push([o.PreprocessStatus.ON_IF,!1])):(e.skipBlock=!0,e.status.push([o.PreprocessStatus.ON_IF,!0]));else if("#ifndef"===s[0])e.marcoMap.has(s[1])?(e.skipBlock=!0,e.status.push([o.PreprocessStatus.ON_IF,!0])):(e.skipBlock=!1,e.status.push([o.PreprocessStatus.ON_IF,!1]));else if("#else"===s[0]){if(!(e.status.length>0&&e.status[e.status.length-1][0]===o.PreprocessStatus.ON_IF))throw new r.PreprocessError("unmatch #else");{const t=e.status[e.status.length-1];e.skipBlock=!t[1],t[0]=o.PreprocessStatus.ON_ELSE}}else{if("#endif"!==s[0]){if("#line"===s[0])throw new r.PreprocessError("unsupport #line");if("#error"===s[0])throw new r.PreprocessError(`Error : ${t}`);if("#progma"===s[0])return;if("#"===s[0])return;throw new r.PreprocessError(`unsupport directive ${t}`)}if(!(e.status.length>0))throw new r.PreprocessError("unmatch #endif");e.status.pop();e.status.length>0?e.skipBlock=e.status[e.status.length-1][1]:e.skipBlock=!1}}}const a=/([\\~!@#$|%^&*()+-={}[\]:";'<>?,.\/]|[A-Za-z_0-9]+|"[^"]*"|'[^']*'|\n|[ \t]+)/y;function u(e){let t=a.exec(e);const n=[];for(;t;)n.push(t[1]),t=a.exec(e);return n}function c(e,t){return e.parsedTarget.map(e=>"string"==typeof e?e:t[e]).join("")}function p(e,t,n){const r=u(t);"\n"!==r[r.length-1]&&r.push("\n");let i="",o=0;e.onMultiLineComment&&(o=2);let s={line:n,column:0},a={line:s.line,column:s.column};function p(){i.length>0&&(e.append(i,a),i="",a={line:s.line,column:s.column})}for(let t=0;t<r.length-1;t++){const n=r[t];function l(e){"\n"===e?(s.line++,s.column=0):s.column+=e.length}if(1===o){"\n"===n&&(i+=n,o=0),l(n);continue}if(2===o){"*"===n&&"/"===r[t+1]&&(o=0,e.onMultiLineComment=!1,t++),l(n);continue}const a=e.marcoMap.get(n);function f(){for(t++;t<r.length&&/^\s*$/.test(r[t]);)t++;return t>=r.length?null:r[t]}if(a){if(null!==a.parameters){const e=t,o={line:s.line,column:s.column};if("("!==f()){s=o,i+=n,l(r[t=e]);continue}const u=[],d={"(":0,"[":0,"{":0};let h=",";for(let c=0;c<a.parameters.length;c++){c===a.parameters.length-1&&(h=")");let p=f(),m="";for(;p!==h||!Object.keys(d).map(e=>d[e]).every(e=>0===e);)null!==p?(d.hasOwnProperty(p)&&d[p]++,")"===p&&d["("]--,"]"===p&&d["["]--,"{"===p&&d["{"]--,m+=p,p=f()):(s=o,l(r[t=e]),i+=n);u.push(m)}p(),i=c(a,u);for(let n=e;n<=t;n++)l(r[n]);p();continue}p(),i=a.target,l(n),p()}else"/"===n&&"/"===r[t+1]?(p(),o=1):"/"===n&&"*"===r[t+1]?(p(),o=2,e.onMultiLineComment=!0):"\n"===n?(i+=n,p()):i+=n;l(n)}return i+="\n",p(),""}function l(e,t,n){const r=new o.PreprocessContext(e,n),i=t.split("\n");let a="",u="",c=0;for(let e=0;e<i.length;e++)"\\"===(u+=i[e]).charAt(u.length-1)?u=u.substring(0,u.length-1):"#"===u.charAt(0)?r.onMultiLineComment?(a+=u+"\n",u=""):(""!==a&&(r.skipBlock||p(r,a,c),a=""),s(r,u,e),u="",c=e+1):(a+=u+"\n",u="");return p(r,a,c),r.node.toStringWithSourceMap()}n.parseMarco=function(e,t){const n=u(t),r=[];let i="";for(let t=0;t<n.length;t++){const o=n[t];t+2<n.length&&"#"===o&&"#"===n[t+1]&&e.includes(n[t+2])?(0!==i.length&&(r.push(i),i=""),r.push(e.indexOf(n[t+2])),t+=2):t+1<n.length&&"#"===o&&e.includes(n[t+1])?(r.push(i+'"'),i='"',r.push(e.indexOf(n[t+1])),t+=1):e.includes(o)?(0!==i.length&&(r.push(i),i=""),r.push(e.indexOf(o))):i+=o}return 0!==i.length&&r.push(i),r},n.preprocess=function(e,t){return l(e,t,new Map)}},{"../common/error":"nOPH","../library":"bjS5","./context":"WBcs"}],A7tO:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0});const r=e("source-map"),i=e("../codegen"),o=e("../codegen/context"),s=e("../common/error"),a=e("../library"),u=e("../linker"),c=e("../parser"),p=e("../preprocessor");function l(e,t,n={}){const{code:a,map:u}=p.preprocess(e,t);try{const p=c.CParser.parse(a,n),l=new o.CompileContext(e,n,t,u);return i.codegen(p,l),l.toCompiledObject()}catch(e){const n=new r.SourceMapConsumer(u.toString());if(e instanceof s.CompilerError){const r=n.originalPositionFor(e.location.start);e.errorLine=t.split("\n")[r.line],e.location.start.line=r.line,e.location.start.column=r.column}throw e}}const f=Array.from(a.Impls.keys()).map(e=>l(e,a.Impls.get(e),{isCpp:!0}));n.compileFile=function(e,t){const n=l(e,t,{isCpp:!0});return u.link("main.cpp",[...f,n],{})},n.importObj={system:{}};for(const e of Object.keys(a.JsAPIMap))n.importObj.system["::"+e]=a.JsAPIMap[e];var d=e("../common/error");n.CompilerError=d.CompilerError;var h=e("../runtime/native_runtime");n.NativeRuntime=h.NativeRuntime;var m=e("../runtime/vmfile");n.VMFile=m.VMFile,n.StringOutputFile=m.StringOutputFile,n.StringInputFile=m.StringInputFile,n.CallbackOutputFile=m.CallbackOutputFile,n.NoInputFile=m.NoInputFile},{"source-map":"aRf0","../codegen":"FIFg","../codegen/context":"cKzO","../common/error":"nOPH","../library":"bjS5","../linker":"dGoJ","../parser":"4ugX","../preprocessor":"DY6N","../runtime/native_runtime":"/x2e","../runtime/vmfile":"0bZZ"}]},{},["A7tO"]);
